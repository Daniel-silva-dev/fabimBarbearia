(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function $1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var am={exports:{}},Nl={};var Iv;function J1(){if(Iv)return Nl;Iv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Nl.Fragment=e,Nl.jsx=n,Nl.jsxs=n,Nl}var Dv;function Z1(){return Dv||(Dv=1,am.exports=J1()),am.exports}var Q=Z1(),om={exports:{}},be={};var Nv;function W1(){if(Nv)return be;Nv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function P(C){return C===null||typeof C!="object"?null:(C=w&&C[w]||C["@@iterator"],typeof C=="function"?C:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,H={};function te(C,K,re){this.props=C,this.context=K,this.refs=H,this.updater=re||G}te.prototype.isReactComponent={},te.prototype.setState=function(C,K){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,K,"setState")},te.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function ne(){}ne.prototype=te.prototype;function se(C,K,re){this.props=C,this.context=K,this.refs=H,this.updater=re||G}var Re=se.prototype=new ne;Re.constructor=se,W(Re,te.prototype),Re.isPureReactComponent=!0;var _e=Array.isArray;function Te(){}var D={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(C,K,re){var ie=re.ref;return{$$typeof:r,type:C,key:K,ref:ie!==void 0?ie:null,props:re}}function O(C,K){return R(C.type,K,C.props)}function M(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function L(C){var K={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(re){return K[re]})}var I=/\/+/g;function He(C,K){return typeof C=="object"&&C!==null&&C.key!=null?L(""+C.key):K.toString(36)}function ut(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Te,Te):(C.status="pending",C.then(function(K){C.status==="pending"&&(C.status="fulfilled",C.value=K)},function(K){C.status==="pending"&&(C.status="rejected",C.reason=K)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function Y(C,K,re,ie,ge){var Se=typeof C;(Se==="undefined"||Se==="boolean")&&(C=null);var Me=!1;if(C===null)Me=!0;else switch(Se){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(C.$$typeof){case r:case e:Me=!0;break;case E:return Me=C._init,Y(Me(C._payload),K,re,ie,ge)}}if(Me)return ge=ge(C),Me=ie===""?"."+He(C,0):ie,_e(ge)?(re="",Me!=null&&(re=Me.replace(I,"$&/")+"/"),Y(ge,K,re,"",function(ds){return ds})):ge!=null&&(M(ge)&&(ge=O(ge,re+(ge.key==null||C&&C.key===ge.key?"":(""+ge.key).replace(I,"$&/")+"/")+Me)),K.push(ge)),1;Me=0;var mt=ie===""?".":ie+":";if(_e(C))for(var st=0;st<C.length;st++)ie=C[st],Se=mt+He(ie,st),Me+=Y(ie,K,re,Se,ge);else if(st=P(C),typeof st=="function")for(C=st.call(C),st=0;!(ie=C.next()).done;)ie=ie.value,Se=mt+He(ie,st++),Me+=Y(ie,K,re,Se,ge);else if(Se==="object"){if(typeof C.then=="function")return Y(ut(C),K,re,ie,ge);throw K=String(C),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Me}function le(C,K,re){if(C==null)return C;var ie=[],ge=0;return Y(C,ie,"","",function(Se){return K.call(re,Se,ge++)}),ie}function de(C){if(C._status===-1){var K=C._result;K=K(),K.then(function(re){(C._status===0||C._status===-1)&&(C._status=1,C._result=re)},function(re){(C._status===0||C._status===-1)&&(C._status=2,C._result=re)}),C._status===-1&&(C._status=0,C._result=K)}if(C._status===1)return C._result.default;throw C._result}var ke=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},ae={map:le,forEach:function(C,K,re){le(C,function(){K.apply(this,arguments)},re)},count:function(C){var K=0;return le(C,function(){K++}),K},toArray:function(C){return le(C,function(K){return K})||[]},only:function(C){if(!M(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return be.Activity=T,be.Children=ae,be.Component=te,be.Fragment=n,be.Profiler=o,be.PureComponent=se,be.StrictMode=s,be.Suspense=p,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,be.__COMPILER_RUNTIME={__proto__:null,c:function(C){return D.H.useMemoCache(C)}},be.cache=function(C){return function(){return C.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(C,K,re){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var ie=W({},C.props),ge=C.key;if(K!=null)for(Se in K.key!==void 0&&(ge=""+K.key),K)!b.call(K,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&K.ref===void 0||(ie[Se]=K[Se]);var Se=arguments.length-2;if(Se===1)ie.children=re;else if(1<Se){for(var Me=Array(Se),mt=0;mt<Se;mt++)Me[mt]=arguments[mt+2];ie.children=Me}return R(C.type,ge,ie)},be.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},be.createElement=function(C,K,re){var ie,ge={},Se=null;if(K!=null)for(ie in K.key!==void 0&&(Se=""+K.key),K)b.call(K,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ge[ie]=K[ie]);var Me=arguments.length-2;if(Me===1)ge.children=re;else if(1<Me){for(var mt=Array(Me),st=0;st<Me;st++)mt[st]=arguments[st+2];ge.children=mt}if(C&&C.defaultProps)for(ie in Me=C.defaultProps,Me)ge[ie]===void 0&&(ge[ie]=Me[ie]);return R(C,Se,ge)},be.createRef=function(){return{current:null}},be.forwardRef=function(C){return{$$typeof:m,render:C}},be.isValidElement=M,be.lazy=function(C){return{$$typeof:E,_payload:{_status:-1,_result:C},_init:de}},be.memo=function(C,K){return{$$typeof:y,type:C,compare:K===void 0?null:K}},be.startTransition=function(C){var K=D.T,re={};D.T=re;try{var ie=C(),ge=D.S;ge!==null&&ge(re,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Te,ke)}catch(Se){ke(Se)}finally{K!==null&&re.types!==null&&(K.types=re.types),D.T=K}},be.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},be.use=function(C){return D.H.use(C)},be.useActionState=function(C,K,re){return D.H.useActionState(C,K,re)},be.useCallback=function(C,K){return D.H.useCallback(C,K)},be.useContext=function(C){return D.H.useContext(C)},be.useDebugValue=function(){},be.useDeferredValue=function(C,K){return D.H.useDeferredValue(C,K)},be.useEffect=function(C,K){return D.H.useEffect(C,K)},be.useEffectEvent=function(C){return D.H.useEffectEvent(C)},be.useId=function(){return D.H.useId()},be.useImperativeHandle=function(C,K,re){return D.H.useImperativeHandle(C,K,re)},be.useInsertionEffect=function(C,K){return D.H.useInsertionEffect(C,K)},be.useLayoutEffect=function(C,K){return D.H.useLayoutEffect(C,K)},be.useMemo=function(C,K){return D.H.useMemo(C,K)},be.useOptimistic=function(C,K){return D.H.useOptimistic(C,K)},be.useReducer=function(C,K,re){return D.H.useReducer(C,K,re)},be.useRef=function(C){return D.H.useRef(C)},be.useState=function(C){return D.H.useState(C)},be.useSyncExternalStore=function(C,K,re){return D.H.useSyncExternalStore(C,K,re)},be.useTransition=function(){return D.H.useTransition()},be.version="19.2.2",be}var Ov;function np(){return Ov||(Ov=1,om.exports=W1()),om.exports}var B=np();const Ys=$1(B);var lm={exports:{}},Ol={},um={exports:{}},cm={};var Mv;function eb(){return Mv||(Mv=1,(function(r){function e(Y,le){var de=Y.length;Y.push(le);e:for(;0<de;){var ke=de-1>>>1,ae=Y[ke];if(0<o(ae,le))Y[ke]=le,Y[de]=ae,de=ke;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var le=Y[0],de=Y.pop();if(de!==le){Y[0]=de;e:for(var ke=0,ae=Y.length,C=ae>>>1;ke<C;){var K=2*(ke+1)-1,re=Y[K],ie=K+1,ge=Y[ie];if(0>o(re,de))ie<ae&&0>o(ge,re)?(Y[ke]=ge,Y[ie]=de,ke=ie):(Y[ke]=re,Y[K]=de,ke=K);else if(ie<ae&&0>o(ge,de))Y[ke]=ge,Y[ie]=de,ke=ie;else break e}}return le}function o(Y,le){var de=Y.sortIndex-le.sortIndex;return de!==0?de:Y.id-le.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,T=null,w=3,P=!1,G=!1,W=!1,H=!1,te=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function Re(Y){for(var le=n(y);le!==null;){if(le.callback===null)s(y);else if(le.startTime<=Y)s(y),le.sortIndex=le.expirationTime,e(p,le);else break;le=n(y)}}function _e(Y){if(W=!1,Re(Y),!G)if(n(p)!==null)G=!0,Te||(Te=!0,L());else{var le=n(y);le!==null&&ut(_e,le.startTime-Y)}}var Te=!1,D=-1,b=5,R=-1;function O(){return H?!0:!(r.unstable_now()-R<b)}function M(){if(H=!1,Te){var Y=r.unstable_now();R=Y;var le=!0;try{e:{G=!1,W&&(W=!1,ne(D),D=-1),P=!0;var de=w;try{t:{for(Re(Y),T=n(p);T!==null&&!(T.expirationTime>Y&&O());){var ke=T.callback;if(typeof ke=="function"){T.callback=null,w=T.priorityLevel;var ae=ke(T.expirationTime<=Y);if(Y=r.unstable_now(),typeof ae=="function"){T.callback=ae,Re(Y),le=!0;break t}T===n(p)&&s(p),Re(Y)}else s(p);T=n(p)}if(T!==null)le=!0;else{var C=n(y);C!==null&&ut(_e,C.startTime-Y),le=!1}}break e}finally{T=null,w=de,P=!1}le=void 0}}finally{le?L():Te=!1}}}var L;if(typeof se=="function")L=function(){se(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,He=I.port2;I.port1.onmessage=M,L=function(){He.postMessage(null)}}else L=function(){te(M,0)};function ut(Y,le){D=te(function(){Y(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var le=3;break;default:le=w}var de=w;w=le;try{return Y()}finally{w=de}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(Y,le){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var de=w;w=Y;try{return le()}finally{w=de}},r.unstable_scheduleCallback=function(Y,le,de){var ke=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ke+de:ke):de=ke,Y){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=de+ae,Y={id:E++,callback:le,priorityLevel:Y,startTime:de,expirationTime:ae,sortIndex:-1},de>ke?(Y.sortIndex=de,e(y,Y),n(p)===null&&Y===n(y)&&(W?(ne(D),D=-1):W=!0,ut(_e,de-ke))):(Y.sortIndex=ae,e(p,Y),G||P||(G=!0,Te||(Te=!0,L()))),Y},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(Y){var le=w;return function(){var de=w;w=le;try{return Y.apply(this,arguments)}finally{w=de}}}})(cm)),cm}var Vv;function tb(){return Vv||(Vv=1,um.exports=eb()),um.exports}var hm={exports:{}},Xt={};var xv;function nb(){if(xv)return Xt;xv=1;var r=np();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},Xt.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Xt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Xt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:P}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Xt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Xt.requestFormReset=function(p){s.d.r(p)},Xt.unstable_batchedUpdates=function(p,y){return p(y)},Xt.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.2.2",Xt}var Pv;function ib(){if(Pv)return hm.exports;Pv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),hm.exports=nb(),hm.exports}var Lv;function rb(){if(Lv)return Ol;Lv=1;var r=tb(),e=np(),n=ib();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),se=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function He(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case te:return"Profiler";case H:return"StrictMode";case _e:return"Suspense";case Te:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case se:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case Re:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:He(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return He(t(i))}catch{}}return null}var ut=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ke=[],ae=-1;function C(t){return{current:t}}function K(t){0>ae||(t.current=ke[ae],ke[ae]=null,ae--)}function re(t,i){ae++,ke[ae]=t.current,t.current=i}var ie=C(null),ge=C(null),Se=C(null),Me=C(null);function mt(t,i){switch(re(Se,i),re(ge,t),re(ie,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?J_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=J_(i),t=Z_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ie),re(ie,t)}function st(){K(ie),K(ge),K(Se)}function ds(t){t.memoizedState!==null&&re(Me,t);var i=ie.current,a=Z_(i,t.type);i!==a&&(re(ge,t),re(ie,a))}function sa(t){ge.current===t&&(K(ie),K(ge)),Me.current===t&&(K(Me),Rl._currentValue=de)}var aa,oa;function ri(t){if(aa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);aa=i&&i[1]||"",oa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+aa+t+oa}var Ro=!1;function ms(t,i){if(!t||Ro)return"";Ro=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var j=F}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(F){j=F}t.call(Z.prototype)}}else{try{throw Error()}catch(F){j=F}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&j&&typeof F.stack=="string")return[F.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var N=_.split(`
`),z=S.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===z.length)for(l=N.length-1,h=z.length-1;1<=l&&0<=h&&N[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==z[h]){var X=`
`+N[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{Ro=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ri(a):""}function Co(t,i){switch(t.tag){case 26:case 27:case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return t.child!==i&&i!==null?ri("Suspense Fallback"):ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return ms(t.type,!1);case 11:return ms(t.type.render,!1);case 1:return ms(t.type,!0);case 31:return ri("Activity");default:return""}}function Io(t){try{var i="",a=null;do i+=Co(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,Mt=r.unstable_scheduleCallback,fr=r.unstable_cancelCallback,lf=r.unstable_shouldYield,pu=r.unstable_requestPaint,en=r.unstable_now,ps=r.unstable_getCurrentPriorityLevel,Do=r.unstable_ImmediatePriority,No=r.unstable_UserBlockingPriority,dr=r.unstable_NormalPriority,uf=r.unstable_LowPriority,gu=r.unstable_IdlePriority,yu=r.log,_u=r.unstable_setDisableYieldValue,qn=null,jt=null;function wn(t){if(typeof yu=="function"&&_u(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(qn,t)}catch{}}var pt=Math.clz32?Math.clz32:Eu,vu=Math.log,la=Math.LN2;function Eu(t){return t>>>=0,t===0?32:31-(vu(t)/la|0)|0}var si=256,gs=262144,Tt=4194304;function ai(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=ai(l):(_&=S,_!==0?h=ai(_):a||(a=S&~t,a!==0&&(h=ai(a))))):(S=l&~d,S!==0?h=ai(S):_!==0?h=ai(_):a||(a=l&~t,a!==0&&(h=ai(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Hn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function cf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tu(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function li(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ys(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function hf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-pt(a),Z=1<<X;S[X]=0,N[X]=-1;var j=z[X];if(j!==null)for(z[X]=null,X=0;X<j.length;X++){var F=j[X];F!==null&&(F.lane&=-536870913)}a&=~Z}l!==0&&_s(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function _s(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Oo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-pt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Mo(t,i){var a=i&-i;return a=(a&42)!==0?1:vs(a),(a&(t.suspendedLanes|i))!==0?0:a}function vs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Su(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:Tv(t.type))}function Fn(t,i){var a=le.p;try{return le.p=t,i()}finally{le.p=a}}var Gn=Math.random().toString(36).slice(2),St="__reactFiber$"+Gn,Pt="__reactProps$"+Gn,ui="__reactContainer$"+Gn,ua="__reactEvents$"+Gn,ff="__reactListeners$"+Gn,Au="__reactHandles$"+Gn,bu="__reactResources$"+Gn,ci="__reactMarker$"+Gn;function ca(t){delete t[St],delete t[Pt],delete t[ua],delete t[ff],delete t[Au]}function hi(t){var i=t[St];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ui]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=sv(t);t!==null;){if(a=t[St])return a;t=sv(t)}return i}t=a,a=t.parentNode}return null}function Rn(t){if(t=t[St]||t[ui]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function mn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function fi(t){var i=t[bu];return i||(i=t[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(t){t[ci]=!0}var Vo=new Set,xo={};function di(t,i){mi(t,i),mi(t+"Capture",i)}function mi(t,i){for(xo[t]=i,t=0;t<i.length;t++)Vo.add(i[t])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lo={},Uo={};function wu(t){return Et.call(Uo,t)?!0:Et.call(Lo,t)?!1:Po.test(t)?Uo[t]=!0:(Lo[t]=!0,!1)}function ha(t,i,a){if(wu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function pn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function bt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ko(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=mr(t)?"checked":"value";t._valueTracker=ko(t,i,""+t[i])}}function Es(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=mr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function pi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ts=/[\n"\\]/g;function rn(t){return t.replace(Ts,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function fa(t,i,a,l,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?zo(t,_,Lt(i)):a!=null?zo(t,_,Lt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Lt(S):t.removeAttribute("name")}function Ru(t,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function zo(t,i,a){i==="number"&&pi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function pr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Cu(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function gr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ut(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function sn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Iu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Iu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Bo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&jo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&jo(t,d,i[d])}function da(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ma(t){return yr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Qn(){}var qo=null;function Cn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _r=null,gi=null;function Ss(t){var i=Rn(t);if(i&&(t=i.stateNode)){var a=t[Pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(fa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Pt]||null;if(!h)throw Error(s(90));fa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Es(l)}break e;case"textarea":Cu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&pr(t,!!a.multiple,i,!1)}}}var pa=!1;function vr(t,i,a){if(pa)return t(i,a);pa=!0;try{var l=t(i);return l}finally{if(pa=!1,(_r!==null||gi!==null)&&(Sc(),_r&&(i=_r,t=gi,gi=_r=null,Ss(i),t)))for(i=0;i<t.length;i++)Ss(t[i])}}function Kn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),As=!1;if(In)try{var $e={};Object.defineProperty($e,"passive",{get:function(){As=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{As=!1}var yi=null,Ho=null,bs=null;function Fo(){if(bs)return bs;var t,i=Ho,a=i.length,l,h="value"in yi?yi.value:yi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return bs=h.slice(t,1<l?1-l:void 0)}function ws(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Li(){return!0}function Yn(){return!1}function Bt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Li:Yn,this.isPropagationStopped=Yn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),i}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=Bt(Ui),Er=T({},Ui,{view:0,detail:0}),Go=Bt(Er),Tr,ga,vi,ya=T({},Er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vi&&(vi&&t.type==="mousemove"?(Tr=t.screenX-vi.screenX,ga=t.screenY-vi.screenY):ga=Tr=0,vi=t),Tr)},movementY:function(t){return"movementY"in t?t.movementY:ga}}),Qo=Bt(ya),Rs=T({},ya,{dataTransfer:0}),Nu=Bt(Rs),Ou=T({},Er,{relatedTarget:0}),Cs=Bt(Ou),Ko=T({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),Mu=Bt(Ko),_a=T({},Ui,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vu=Bt(_a),xu=T({},Ui,{data:0}),Ei=Bt(xu),Pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ku(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Uu[t])?!!i[t]:!1}function Sr(){return ku}var tn=T({},Er,{key:function(t){if(t.key){var i=Pu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ws(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(t){return t.type==="keypress"?ws(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ws(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zu=Bt(tn),ju=T({},ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=Bt(ju),c=T({},Er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr}),g=Bt(c),v=T({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Bt(v),U=T({},ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Bt(U),oe=T({},Ui,{newState:0,oldState:0}),Ce=Bt(oe),gt=[9,13,27,32],Fe=In&&"CompositionEvent"in window,at=null;In&&"documentMode"in document&&(at=document.documentMode);var Dn=In&&"TextEvent"in window&&!at,Ti=In&&(!Fe||at&&8<at&&11>=at),Xn=" ",$n=!1;function Is(t,i){switch(t){case"keyup":return gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function va(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ea=!1;function EA(t,i){switch(t){case"compositionend":return va(i);case"keypress":return i.which!==32?null:($n=!0,Xn);case"textInput":return t=i.data,t===Xn&&$n?null:t;default:return null}}function TA(t,i){if(Ea)return t==="compositionend"||!Fe&&Is(t,i)?(t=Fo(),bs=Ho=yi=null,Ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ti&&i.locale!=="ko"?null:i.data;default:return null}}var SA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!SA[t.type]:i==="textarea"}function ug(t,i,a,l){_r?gi?gi.push(l):gi=[l]:_r=l,i=Dc(i,"onChange"),0<i.length&&(a=new _i("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Yo=null,Xo=null;function AA(t){G_(t,0)}function Bu(t){var i=mn(t);if(Es(i))return t}function cg(t,i){if(t==="change")return i}var hg=!1;if(In){var df;if(In){var mf="oninput"in document;if(!mf){var fg=document.createElement("div");fg.setAttribute("oninput","return;"),mf=typeof fg.oninput=="function"}df=mf}else df=!1;hg=df&&(!document.documentMode||9<document.documentMode)}function dg(){Yo&&(Yo.detachEvent("onpropertychange",mg),Xo=Yo=null)}function mg(t){if(t.propertyName==="value"&&Bu(Xo)){var i=[];ug(i,Xo,t,Cn(t)),vr(AA,i)}}function bA(t,i,a){t==="focusin"?(dg(),Yo=i,Xo=a,Yo.attachEvent("onpropertychange",mg)):t==="focusout"&&dg()}function wA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bu(Xo)}function RA(t,i){if(t==="click")return Bu(i)}function CA(t,i){if(t==="input"||t==="change")return Bu(i)}function IA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var gn=typeof Object.is=="function"?Object.is:IA;function $o(t,i){if(gn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Et.call(i,h)||!gn(t[h],i[h]))return!1}return!0}function pg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gg(t,i){var a=pg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=pg(a)}}function yg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?yg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function _g(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=pi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=pi(t.document)}return i}function pf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var DA=In&&"documentMode"in document&&11>=document.documentMode,Ta=null,gf=null,Jo=null,yf=!1;function vg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yf||Ta==null||Ta!==pi(l)||(l=Ta,"selectionStart"in l&&pf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jo&&$o(Jo,l)||(Jo=l,l=Dc(gf,"onSelect"),0<l.length&&(i=new _i("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ta)))}function Ds(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Sa={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionrun:Ds("Transition","TransitionRun"),transitionstart:Ds("Transition","TransitionStart"),transitioncancel:Ds("Transition","TransitionCancel"),transitionend:Ds("Transition","TransitionEnd")},_f={},Eg={};In&&(Eg=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Ns(t){if(_f[t])return _f[t];if(!Sa[t])return t;var i=Sa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Eg)return _f[t]=i[a];return t}var Tg=Ns("animationend"),Sg=Ns("animationiteration"),Ag=Ns("animationstart"),NA=Ns("transitionrun"),OA=Ns("transitionstart"),MA=Ns("transitioncancel"),bg=Ns("transitionend"),wg=new Map,vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vf.push("scrollEnd");function Jn(t,i){wg.set(t,i),di(i,[t])}var qu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Nn=[],Aa=0,Ef=0;function Hu(){for(var t=Aa,i=Ef=Aa=0;i<t;){var a=Nn[i];Nn[i++]=null;var l=Nn[i];Nn[i++]=null;var h=Nn[i];Nn[i++]=null;var d=Nn[i];if(Nn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Rg(a,h,d)}}function Fu(t,i,a,l){Nn[Aa++]=t,Nn[Aa++]=i,Nn[Aa++]=a,Nn[Aa++]=l,Ef|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Tf(t,i,a,l){return Fu(t,i,a,l),Gu(t)}function Os(t,i){return Fu(t,null,null,i),Gu(t)}function Rg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-pt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Gu(t){if(50<vl)throw vl=0,Nd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ba={};function VA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,i,a,l){return new VA(t,i,a,l)}function Sf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zi(t,i){var a=t.alternate;return a===null?(a=yn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Cg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Qu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Sf(t)&&(_=1);else if(typeof t=="string")_=k1(t,a,ie.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=yn(31,a,i,h),t.elementType=R,t.lanes=d,t;case W:return Ms(a.children,h,d,i);case H:_=8,h|=24;break;case te:return t=yn(12,a,i,h|2),t.elementType=te,t.lanes=d,t;case _e:return t=yn(13,a,i,h),t.elementType=_e,t.lanes=d,t;case Te:return t=yn(19,a,i,h),t.elementType=Te,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case se:_=10;break e;case ne:_=9;break e;case Re:_=11;break e;case D:_=14;break e;case b:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=yn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ms(t,i,a,l){return t=yn(7,t,l,i),t.lanes=a,t}function Af(t,i,a){return t=yn(6,t,null,i),t.lanes=a,t}function Ig(t){var i=yn(18,null,null,0);return i.stateNode=t,i}function bf(t,i,a){return i=yn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Dg=new WeakMap;function On(t,i){if(typeof t=="object"&&t!==null){var a=Dg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Io(i)},Dg.set(t,i),i)}return{value:t,source:i,stack:Io(i)}}var wa=[],Ra=0,Ku=null,Zo=0,Mn=[],Vn=0,Ar=null,Si=1,Ai="";function ji(t,i){wa[Ra++]=Zo,wa[Ra++]=Ku,Ku=t,Zo=i}function Ng(t,i,a){Mn[Vn++]=Si,Mn[Vn++]=Ai,Mn[Vn++]=Ar,Ar=t;var l=Si;t=Ai;var h=32-pt(l)-1;l&=~(1<<h),a+=1;var d=32-pt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Si=1<<32-pt(i)+h|a<<h|l,Ai=d+t}else Si=1<<d|a<<h|l,Ai=t}function wf(t){t.return!==null&&(ji(t,1),Ng(t,1,0))}function Rf(t){for(;t===Ku;)Ku=wa[--Ra],wa[Ra]=null,Zo=wa[--Ra],wa[Ra]=null;for(;t===Ar;)Ar=Mn[--Vn],Mn[Vn]=null,Ai=Mn[--Vn],Mn[Vn]=null,Si=Mn[--Vn],Mn[Vn]=null}function Og(t,i){Mn[Vn++]=Si,Mn[Vn++]=Ai,Mn[Vn++]=Ar,Si=i.id,Ai=i.overflow,Ar=t}var qt=null,nt=null,ze=!1,br=null,xn=!1,Cf=Error(s(519));function wr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wo(On(i,t)),Cf}function Mg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[St]=t,i[Pt]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<Tl.length;a++)Oe(Tl[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),Ru(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),gr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||X_(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=Qn),i=!0):i=!1,i||wr(t,!0)}function Vg(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:qt=qt.return}}function Ca(t){if(t!==qt)return!1;if(!ze)return Vg(t),ze=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Gd(t.type,t.memoizedProps)),a=!a),a&&nt&&wr(t),Vg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=rv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=rv(t)}else i===27?(i=nt,zr(t.type)?(t=$d,$d=null,nt=t):nt=i):nt=qt?Ln(t.stateNode.nextSibling):null;return!0}function Vs(){nt=qt=null,ze=!1}function If(){var t=br;return t!==null&&(un===null?un=t:un.push.apply(un,t),br=null),t}function Wo(t){br===null?br=[t]:br.push(t)}var Df=C(null),xs=null,Bi=null;function Rr(t,i,a){re(Df,i._currentValue),i._currentValue=a}function qi(t){t._currentValue=Df.current,K(Df)}function Nf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Of(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var N=0;N<i.length;N++)if(S.context===i[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Nf(d.return,a,t),l||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Nf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ia(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;gn(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===Me.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}h=h.return}t!==null&&Of(i,t,a,l),i.flags|=262144}function Yu(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ps(t){xs=t,Bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return xg(xs,t)}function Xu(t,i){return xs===null&&Ps(t),xg(t,i)}function xg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Bi===null){if(t===null)throw Error(s(308));Bi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Bi=Bi.next=i;return a}var xA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},PA=r.unstable_scheduleCallback,LA=r.unstable_NormalPriority,wt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mf(){return{controller:new xA,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&PA(LA,function(){t.controller.abort()})}var tl=null,Vf=0,Da=0,Na=null;function UA(t,i){if(tl===null){var a=tl=[];Vf=0,Da=Ld(),Na={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Vf++,i.then(Pg,Pg),i}function Pg(){if(--Vf===0&&tl!==null){Na!==null&&(Na.status="fulfilled");var t=tl;tl=null,Da=0,Na=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function kA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Lg=Y.S;Y.S=function(t,i){v_=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&UA(t,i),Lg!==null&&Lg(t,i)};var Ls=C(null);function xf(){var t=Ls.current;return t!==null?t:et.pooledCache}function $u(t,i){i===null?re(Ls,Ls.current):re(Ls,i.pool)}function Ug(){var t=xf();return t===null?null:{parent:wt._currentValue,pool:t}}var Oa=Error(s(460)),Pf=Error(s(474)),Ju=Error(s(542)),Zu={then:function(){}};function kg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Qn,Qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Bg(t),t;default:if(typeof i.status=="string")i.then(Qn,Qn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Bg(t),t}throw ks=i,Oa}}function Us(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ks=a,Oa):a}}var ks=null;function jg(){if(ks===null)throw Error(s(459));var t=ks;return ks=null,t}function Bg(t){if(t===Oa||t===Ju)throw Error(s(483))}var Ma=null,nl=0;function Wu(t){var i=nl;return nl+=1,Ma===null&&(Ma=[]),zg(Ma,t,i)}function il(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ec(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function qg(t){function i(x,V){if(t){var k=x.deletions;k===null?(x.deletions=[V],x.flags|=16):k.push(V)}}function a(x,V){if(!t)return null;for(;V!==null;)i(x,V),V=V.sibling;return null}function l(x){for(var V=new Map;x!==null;)x.key!==null?V.set(x.key,x):V.set(x.index,x),x=x.sibling;return V}function h(x,V){return x=zi(x,V),x.index=0,x.sibling=null,x}function d(x,V,k){return x.index=k,t?(k=x.alternate,k!==null?(k=k.index,k<V?(x.flags|=67108866,V):k):(x.flags|=67108866,V)):(x.flags|=1048576,V)}function _(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function S(x,V,k,$){return V===null||V.tag!==6?(V=Af(k,x.mode,$),V.return=x,V):(V=h(V,k),V.return=x,V)}function N(x,V,k,$){var me=k.type;return me===W?X(x,V,k.props.children,$,k.key):V!==null&&(V.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===b&&Us(me)===V.type)?(V=h(V,k.props),il(V,k),V.return=x,V):(V=Qu(k.type,k.key,k.props,null,x.mode,$),il(V,k),V.return=x,V)}function z(x,V,k,$){return V===null||V.tag!==4||V.stateNode.containerInfo!==k.containerInfo||V.stateNode.implementation!==k.implementation?(V=bf(k,x.mode,$),V.return=x,V):(V=h(V,k.children||[]),V.return=x,V)}function X(x,V,k,$,me){return V===null||V.tag!==7?(V=Ms(k,x.mode,$,me),V.return=x,V):(V=h(V,k),V.return=x,V)}function Z(x,V,k){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Af(""+V,x.mode,k),V.return=x,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case P:return k=Qu(V.type,V.key,V.props,null,x.mode,k),il(k,V),k.return=x,k;case G:return V=bf(V,x.mode,k),V.return=x,V;case b:return V=Us(V),Z(x,V,k)}if(ut(V)||L(V))return V=Ms(V,x.mode,k,null),V.return=x,V;if(typeof V.then=="function")return Z(x,Wu(V),k);if(V.$$typeof===se)return Z(x,Xu(x,V),k);ec(x,V)}return null}function j(x,V,k,$){var me=V!==null?V.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return me!==null?null:S(x,V,""+k,$);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case P:return k.key===me?N(x,V,k,$):null;case G:return k.key===me?z(x,V,k,$):null;case b:return k=Us(k),j(x,V,k,$)}if(ut(k)||L(k))return me!==null?null:X(x,V,k,$,null);if(typeof k.then=="function")return j(x,V,Wu(k),$);if(k.$$typeof===se)return j(x,V,Xu(x,k),$);ec(x,k)}return null}function F(x,V,k,$,me){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return x=x.get(k)||null,S(V,x,""+$,me);if(typeof $=="object"&&$!==null){switch($.$$typeof){case P:return x=x.get($.key===null?k:$.key)||null,N(V,x,$,me);case G:return x=x.get($.key===null?k:$.key)||null,z(V,x,$,me);case b:return $=Us($),F(x,V,k,$,me)}if(ut($)||L($))return x=x.get(k)||null,X(V,x,$,me,null);if(typeof $.then=="function")return F(x,V,k,Wu($),me);if($.$$typeof===se)return F(x,V,k,Xu(V,$),me);ec(V,$)}return null}function he(x,V,k,$){for(var me=null,Be=null,fe=V,De=V=0,xe=null;fe!==null&&De<k.length;De++){fe.index>De?(xe=fe,fe=null):xe=fe.sibling;var qe=j(x,fe,k[De],$);if(qe===null){fe===null&&(fe=xe);break}t&&fe&&qe.alternate===null&&i(x,fe),V=d(qe,V,De),Be===null?me=qe:Be.sibling=qe,Be=qe,fe=xe}if(De===k.length)return a(x,fe),ze&&ji(x,De),me;if(fe===null){for(;De<k.length;De++)fe=Z(x,k[De],$),fe!==null&&(V=d(fe,V,De),Be===null?me=fe:Be.sibling=fe,Be=fe);return ze&&ji(x,De),me}for(fe=l(fe);De<k.length;De++)xe=F(fe,x,De,k[De],$),xe!==null&&(t&&xe.alternate!==null&&fe.delete(xe.key===null?De:xe.key),V=d(xe,V,De),Be===null?me=xe:Be.sibling=xe,Be=xe);return t&&fe.forEach(function(Fr){return i(x,Fr)}),ze&&ji(x,De),me}function ye(x,V,k,$){if(k==null)throw Error(s(151));for(var me=null,Be=null,fe=V,De=V=0,xe=null,qe=k.next();fe!==null&&!qe.done;De++,qe=k.next()){fe.index>De?(xe=fe,fe=null):xe=fe.sibling;var Fr=j(x,fe,qe.value,$);if(Fr===null){fe===null&&(fe=xe);break}t&&fe&&Fr.alternate===null&&i(x,fe),V=d(Fr,V,De),Be===null?me=Fr:Be.sibling=Fr,Be=Fr,fe=xe}if(qe.done)return a(x,fe),ze&&ji(x,De),me;if(fe===null){for(;!qe.done;De++,qe=k.next())qe=Z(x,qe.value,$),qe!==null&&(V=d(qe,V,De),Be===null?me=qe:Be.sibling=qe,Be=qe);return ze&&ji(x,De),me}for(fe=l(fe);!qe.done;De++,qe=k.next())qe=F(fe,x,De,qe.value,$),qe!==null&&(t&&qe.alternate!==null&&fe.delete(qe.key===null?De:qe.key),V=d(qe,V,De),Be===null?me=qe:Be.sibling=qe,Be=qe);return t&&fe.forEach(function(X1){return i(x,X1)}),ze&&ji(x,De),me}function We(x,V,k,$){if(typeof k=="object"&&k!==null&&k.type===W&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case P:e:{for(var me=k.key;V!==null;){if(V.key===me){if(me=k.type,me===W){if(V.tag===7){a(x,V.sibling),$=h(V,k.props.children),$.return=x,x=$;break e}}else if(V.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===b&&Us(me)===V.type){a(x,V.sibling),$=h(V,k.props),il($,k),$.return=x,x=$;break e}a(x,V);break}else i(x,V);V=V.sibling}k.type===W?($=Ms(k.props.children,x.mode,$,k.key),$.return=x,x=$):($=Qu(k.type,k.key,k.props,null,x.mode,$),il($,k),$.return=x,x=$)}return _(x);case G:e:{for(me=k.key;V!==null;){if(V.key===me)if(V.tag===4&&V.stateNode.containerInfo===k.containerInfo&&V.stateNode.implementation===k.implementation){a(x,V.sibling),$=h(V,k.children||[]),$.return=x,x=$;break e}else{a(x,V);break}else i(x,V);V=V.sibling}$=bf(k,x.mode,$),$.return=x,x=$}return _(x);case b:return k=Us(k),We(x,V,k,$)}if(ut(k))return he(x,V,k,$);if(L(k)){if(me=L(k),typeof me!="function")throw Error(s(150));return k=me.call(k),ye(x,V,k,$)}if(typeof k.then=="function")return We(x,V,Wu(k),$);if(k.$$typeof===se)return We(x,V,Xu(x,k),$);ec(x,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,V!==null&&V.tag===6?(a(x,V.sibling),$=h(V,k),$.return=x,x=$):(a(x,V),$=Af(k,x.mode,$),$.return=x,x=$),_(x)):a(x,V)}return function(x,V,k,$){try{nl=0;var me=We(x,V,k,$);return Ma=null,me}catch(fe){if(fe===Oa||fe===Ju)throw fe;var Be=yn(29,fe,null,x.mode);return Be.lanes=$,Be.return=x,Be}finally{}}}var zs=qg(!0),Hg=qg(!1),Cr=!1;function Lf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ir(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Dr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Gu(t),Rg(t,null,a),i}return Fu(t,l,i,a),Gu(t)}function rl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Oo(t,a)}}function kf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var zf=!1;function sl(){if(zf){var t=Na;if(t!==null)throw t}}function al(t,i,a,l){zf=!1;var h=t.updateQueue;Cr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var N=S,z=N.next;N.next=null,_===null?d=z:_.next=z,_=N;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==_&&(S===null?X.firstBaseUpdate=z:S.next=z,X.lastBaseUpdate=N))}if(d!==null){var Z=h.baseState;_=0,X=z=N=null,S=d;do{var j=S.lane&-536870913,F=j!==S.lane;if(F?(Ve&j)===j:(l&j)===j){j!==0&&j===Da&&(zf=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var he=t,ye=S;j=i;var We=a;switch(ye.tag){case 1:if(he=ye.payload,typeof he=="function"){Z=he.call(We,Z,j);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ye.payload,j=typeof he=="function"?he.call(We,Z,j):he,j==null)break e;Z=T({},Z,j);break e;case 2:Cr=!0}}j=S.callback,j!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[j]:F.push(j))}else F={lane:j,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(z=X=F,N=Z):X=X.next=F,_|=j;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;F=S,S=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);X===null&&(N=Z),h.baseState=N,h.firstBaseUpdate=z,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),xr|=_,t.lanes=_,t.memoizedState=Z}}function Fg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Gg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Fg(a[t],i)}var Va=C(null),tc=C(0);function Qg(t,i){t=Ji,re(tc,t),re(Va,i),Ji=t|i.baseLanes}function jf(){re(tc,Ji),re(Va,Va.current)}function Bf(){Ji=tc.current,K(Va),K(tc)}var _n=C(null),Pn=null;function Nr(t){var i=t.alternate;re(yt,yt.current&1),re(_n,t),Pn===null&&(i===null||Va.current!==null||i.memoizedState!==null)&&(Pn=t)}function qf(t){re(yt,yt.current),re(_n,t),Pn===null&&(Pn=t)}function Kg(t){t.tag===22?(re(yt,yt.current),re(_n,t),Pn===null&&(Pn=t)):Or()}function Or(){re(yt,yt.current),re(_n,_n.current)}function vn(t){K(_n),Pn===t&&(Pn=null),K(yt)}var yt=C(0);function nc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Yd(a)||Xd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Hi=0,Ie=null,Je=null,Rt=null,ic=!1,xa=!1,js=!1,rc=0,ol=0,Pa=null,zA=0;function ht(){throw Error(s(321))}function Hf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!gn(t[a],i[a]))return!1;return!0}function Ff(t,i,a,l,h,d){return Hi=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?Ny:sd,js=!1,d=a(l,h),js=!1,xa&&(d=Xg(i,a,l,h)),Yg(t),d}function Yg(t){Y.H=cl;var i=Je!==null&&Je.next!==null;if(Hi=0,Rt=Je=Ie=null,ic=!1,ol=0,Pa=null,i)throw Error(s(300));t===null||Ct||(t=t.dependencies,t!==null&&Yu(t)&&(Ct=!0))}function Xg(t,i,a,l){Ie=t;var h=0;do{if(xa&&(Pa=null),ol=0,xa=!1,25<=h)throw Error(s(301));if(h+=1,Rt=Je=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Oy,d=i(a,l)}while(xa);return d}function jA(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?ll(i):i,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Gf(){var t=rc!==0;return rc=0,t}function Qf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Kf(t){if(ic){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ic=!1}Hi=0,Rt=Je=Ie=null,xa=!1,ol=rc=0,Pa=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ie.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function _t(){if(Je===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var i=Rt===null?Ie.memoizedState:Rt.next;if(i!==null)Rt=i,Je=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Rt===null?Ie.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function sc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var i=ol;return ol+=1,Pa===null&&(Pa=[]),t=zg(Pa,t,i),i=Ie,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?Ny:sd),t}function ac(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===se)return Ht(t)}throw Error(s(438,String(t)))}function Yf(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=sc(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function Fi(t,i){return typeof i=="function"?i(t):i}function oc(t){var i=_t();return Xf(i,Je,t)}function Xf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=_=null,N=null,z=i,X=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(Ve&Z)===Z:(Hi&Z)===Z){var j=z.revertLane;if(j===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===Da&&(X=!0);else if((Hi&j)===j){z=z.next,j===Da&&(X=!0);continue}else Z={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(S=N=Z,_=d):N=N.next=Z,Ie.lanes|=j,xr|=j;Z=z.action,js&&a(d,Z),d=z.hasEagerState?z.eagerState:a(d,Z)}else j={lane:Z,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(S=N=j,_=d):N=N.next=j,Ie.lanes|=Z,xr|=Z;z=z.next}while(z!==null&&z!==i);if(N===null?_=d:N.next=S,!gn(d,t.memoizedState)&&(Ct=!0,X&&(a=Na,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function $f(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);gn(d,i.memoizedState)||(Ct=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function $g(t,i,a){var l=Ie,h=_t(),d=ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!gn((Je||h).memoizedState,a);if(_&&(h.memoizedState=a,Ct=!0),h=h.queue,Wf(Wg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,La(9,{destroy:void 0},Zg.bind(null,l,h,a,i),null),et===null)throw Error(s(349));d||(Hi&127)!==0||Jg(l,i,a)}return a}function Jg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=sc(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Zg(t,i,a,l){i.value=a,i.getSnapshot=l,ey(i)&&ty(t)}function Wg(t,i,a){return a(function(){ey(i)&&ty(t)})}function ey(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!gn(t,a)}catch{return!0}}function ty(t){var i=Os(t,2);i!==null&&cn(i,t,2)}function Jf(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),js){wn(!0);try{a()}finally{wn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:t},i}function ny(t,i,a,l){return t.baseState=a,Xf(t,Je,typeof l=="function"?l:Fi)}function BA(t,i,a,l,h){if(cc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,iy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function iy(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Y.T,_={};Y.T=_;try{var S=a(h,l),N=Y.S;N!==null&&N(_,S),ry(t,i,S)}catch(z){Zf(t,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),Y.T=d}}else try{d=a(h,l),ry(t,i,d)}catch(z){Zf(t,i,z)}}function ry(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){sy(t,i,l)},function(l){return Zf(t,i,l)}):sy(t,i,a)}function sy(t,i,a){i.status="fulfilled",i.value=a,ay(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,iy(t,a)))}function Zf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,ay(i),i=i.next;while(i!==l)}t.action=null}function ay(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function oy(t,i){return i}function ly(t,i){if(ze){var a=et.formState;if(a!==null){e:{var l=Ie;if(ze){if(nt){t:{for(var h=nt,d=xn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Ln(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){nt=Ln(h.nextSibling),l=h.data==="F!";break e}}wr(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oy,lastRenderedState:i},a.queue=l,a=Cy.bind(null,Ie,l),l.dispatch=a,l=Jf(!1),d=rd.bind(null,Ie,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=BA.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function uy(t){var i=_t();return cy(i,Je,t)}function cy(t,i,a){if(i=Xf(t,i,oy)[0],t=oc(Fi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ll(i)}catch(_){throw _===Oa?Ju:_}else l=i;i=_t();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,La(9,{destroy:void 0},qA.bind(null,h,a),null)),[l,d,t]}function qA(t,i){t.action=i}function hy(t){var i=_t(),a=Je;if(a!==null)return cy(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function La(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=sc(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function fy(){return _t().memoizedState}function lc(t,i,a,l){var h=nn();Ie.flags|=t,h.memoizedState=La(1|i,{destroy:void 0},a,l===void 0?null:l)}function uc(t,i,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;Je!==null&&l!==null&&Hf(l,Je.memoizedState.deps)?h.memoizedState=La(i,d,a,l):(Ie.flags|=t,h.memoizedState=La(1|i,d,a,l))}function dy(t,i){lc(8390656,8,t,i)}function Wf(t,i){uc(2048,8,t,i)}function HA(t){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=sc(),Ie.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function my(t){var i=_t().memoizedState;return HA({ref:i,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function py(t,i){return uc(4,2,t,i)}function gy(t,i){return uc(4,4,t,i)}function yy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function _y(t,i,a){a=a!=null?a.concat([t]):null,uc(4,4,yy.bind(null,i,t),a)}function ed(){}function vy(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Hf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Ey(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Hf(i,l[1]))return l[0];if(l=t(),js){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[l,i],l}function td(t,i,a){return a===void 0||(Hi&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=T_(),Ie.lanes|=t,xr|=t,a)}function Ty(t,i,a,l){return gn(a,i)?a:Va.current!==null?(t=td(t,a,l),gn(t,i)||(Ct=!0),t):(Hi&42)===0||(Hi&1073741824)!==0&&(Ve&261930)===0?(Ct=!0,t.memoizedState=a):(t=T_(),Ie.lanes|=t,xr|=t,i)}function Sy(t,i,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var _=Y.T,S={};Y.T=S,rd(t,!1,i,a);try{var N=h(),z=Y.S;if(z!==null&&z(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=kA(N,l);ul(t,i,X,Sn(t))}else ul(t,i,l,Sn(t))}catch(Z){ul(t,i,{then:function(){},status:"rejected",reason:Z},Sn())}finally{le.p=d,_!==null&&S.types!==null&&(_.types=S.types),Y.T=_}}function FA(){}function nd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Ay(t).queue;Sy(t,h,i,de,a===null?FA:function(){return by(t),a(l)})}function Ay(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function by(t){var i=Ay(t);i.next===null&&(i=t.alternate.memoizedState),ul(t,i.next.queue,{},Sn())}function id(){return Ht(Rl)}function wy(){return _t().memoizedState}function Ry(){return _t().memoizedState}function GA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();t=Ir(a);var l=Dr(i,t,a);l!==null&&(cn(l,i,a),rl(l,i,a)),i={cache:Mf()},t.payload=i;return}i=i.return}}function QA(t,i,a){var l=Sn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},cc(t)?Iy(i,a):(a=Tf(t,i,a,l),a!==null&&(cn(a,t,l),Dy(a,i,l)))}function Cy(t,i,a){var l=Sn();ul(t,i,a,l)}function ul(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(cc(t))Iy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,gn(S,_))return Fu(t,i,h,0),et===null&&Hu(),!1}catch{}finally{}if(a=Tf(t,i,h,l),a!==null)return cn(a,t,l),Dy(a,i,l),!0}return!1}function rd(t,i,a,l){if(l={lane:2,revertLane:Ld(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},cc(t)){if(i)throw Error(s(479))}else i=Tf(t,a,l,2),i!==null&&cn(i,t,2)}function cc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function Iy(t,i){xa=ic=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Dy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Oo(t,a)}}var cl={readContext:Ht,use:ac,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};cl.useEffectEvent=ht;var Ny={readContext:Ht,use:ac,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:dy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,lc(4194308,4,yy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return lc(4194308,4,t,i)},useInsertionEffect:function(t,i){lc(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var l=t();if(js){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=nn();if(a!==void 0){var h=a(i);if(js){wn(!0);try{a(i)}finally{wn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=QA.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=Jf(t);var i=t.queue,a=Cy.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:ed,useDeferredValue:function(t,i){var a=nn();return td(a,t,i)},useTransition:function(){var t=Jf(!1);return t=Sy.bind(null,Ie,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=nn();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(Ve&127)!==0||Jg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,dy(Wg.bind(null,l,d,t),[t]),l.flags|=2048,La(9,{destroy:void 0},Zg.bind(null,l,d,a,i),null),a},useId:function(){var t=nn(),i=et.identifierPrefix;if(ze){var a=Ai,l=Si;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=rc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=zA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:id,useFormState:ly,useActionState:ly,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=rd.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:Yf,useCacheRefresh:function(){return nn().memoizedState=GA.bind(null,Ie)},useEffectEvent:function(t){var i=nn(),a={impl:t};return i.memoizedState=a,function(){if((Ge&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},sd={readContext:Ht,use:ac,useCallback:vy,useContext:Ht,useEffect:Wf,useImperativeHandle:_y,useInsertionEffect:py,useLayoutEffect:gy,useMemo:Ey,useReducer:oc,useRef:fy,useState:function(){return oc(Fi)},useDebugValue:ed,useDeferredValue:function(t,i){var a=_t();return Ty(a,Je.memoizedState,t,i)},useTransition:function(){var t=oc(Fi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:$g,useId:wy,useHostTransitionStatus:id,useFormState:uy,useActionState:uy,useOptimistic:function(t,i){var a=_t();return ny(a,Je,t,i)},useMemoCache:Yf,useCacheRefresh:Ry};sd.useEffectEvent=my;var Oy={readContext:Ht,use:ac,useCallback:vy,useContext:Ht,useEffect:Wf,useImperativeHandle:_y,useInsertionEffect:py,useLayoutEffect:gy,useMemo:Ey,useReducer:$f,useRef:fy,useState:function(){return $f(Fi)},useDebugValue:ed,useDeferredValue:function(t,i){var a=_t();return Je===null?td(a,t,i):Ty(a,Je.memoizedState,t,i)},useTransition:function(){var t=$f(Fi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:$g,useId:wy,useHostTransitionStatus:id,useFormState:hy,useActionState:hy,useOptimistic:function(t,i){var a=_t();return Je!==null?ny(a,Je,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Yf,useCacheRefresh:Ry};Oy.useEffectEvent=my;function ad(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var od={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Sn(),h=Ir(l);h.payload=i,a!=null&&(h.callback=a),i=Dr(t,h,l),i!==null&&(cn(i,t,l),rl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Sn(),h=Ir(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Dr(t,h,l),i!==null&&(cn(i,t,l),rl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Sn(),l=Ir(a);l.tag=2,i!=null&&(l.callback=i),i=Dr(t,l,a),i!==null&&(cn(i,t,a),rl(i,t,a))}};function My(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!$o(a,l)||!$o(h,d):!0}function Vy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&od.enqueueReplaceState(i,i.state,null)}function Bs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function xy(t){qu(t)}function Py(t){console.error(t)}function Ly(t){qu(t)}function hc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Uy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ld(t,i,a){return a=Ir(a),a.tag=3,a.payload={element:null},a.callback=function(){hc(t,i)},a}function ky(t){return t=Ir(t),t.tag=3,t}function zy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Uy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Uy(i,a,l),typeof h!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function KA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ia(i,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return Pn===null?Ac():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Zu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Vd(t,l,h)),!1;case 22:return a.flags|=65536,l===Zu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Vd(t,l,h)),!1}throw Error(s(435,a.tag))}return Vd(t,l,h),Ac(),!1}if(ze)return i=_n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Cf&&(t=Error(s(422),{cause:l}),Wo(On(t,a)))):(l!==Cf&&(i=Error(s(423),{cause:l}),Wo(On(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=On(l,a),h=ld(t.stateNode,l,h),kf(t,h),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=On(d,a),_l===null?_l=[d]:_l.push(d),ft!==4&&(ft=2),i===null)return!0;l=On(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ld(a.stateNode,l,t),kf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Pr===null||!Pr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ky(h),zy(h,t,a,l),kf(a,h),!1}a=a.return}while(a!==null);return!1}var ud=Error(s(461)),Ct=!1;function Ft(t,i,a,l){i.child=t===null?Hg(i,null,a,l):zs(i,t.child,a,l)}function jy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Ps(i),l=Ff(t,i,a,_,d,h),S=Gf(),t!==null&&!Ct?(Qf(t,i,h),Gi(t,i,h)):(ze&&S&&wf(i),i.flags|=1,Ft(t,i,l,h),i.child)}function By(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Sf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,qy(t,i,d,l,h)):(t=Qu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!yd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:$o,a(_,l)&&t.ref===i.ref)return Gi(t,i,h)}return i.flags|=1,t=zi(d,l),t.ref=i.ref,t.return=i,i.child=t}function qy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if($o(d,l)&&t.ref===i.ref)if(Ct=!1,i.pendingProps=l=d,yd(t,h))(t.flags&131072)!==0&&(Ct=!0);else return i.lanes=t.lanes,Gi(t,i,h)}return cd(t,i,a,l,h)}function Hy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Fy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&$u(i,d!==null?d.cachePool:null),d!==null?Qg(i,d):jf(),Kg(i);else return l=i.lanes=536870912,Fy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?($u(i,d.cachePool),Qg(i,d),Or(),i.memoizedState=null):(t!==null&&$u(i,null),jf(),Or());return Ft(t,i,h,a),i.child}function hl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Fy(t,i,a,l,h){var d=xf();return d=d===null?null:{parent:wt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&$u(i,null),jf(),Kg(i),t!==null&&Ia(t,i,l,!0),i.childLanes=h,null}function fc(t,i){return i=mc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Gy(t,i,a){return zs(i,t.child,null,a),t=fc(i,i.pendingProps),t.flags|=2,vn(i),i.memoizedState=null,t}function YA(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=fc(i,l),i.lanes=536870912,hl(null,t);if(qf(i),(t=nt)?(t=iv(t,xn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ar!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=Ig(t),a.return=i,i.child=a,qt=i,nt=null)):t=null,t===null)throw wr(i);return i.lanes=536870912,null}return fc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(qf(i),h)if(i.flags&256)i.flags&=-257,i=Gy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ct||Ia(t,i,a,!1),h=(a&t.childLanes)!==0,Ct||h){if(l=et,l!==null&&(_=Mo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Os(t,_),cn(l,t,_),ud;Ac(),i=Gy(t,i,a)}else t=d.treeContext,nt=Ln(_.nextSibling),qt=i,ze=!0,br=null,xn=!1,t!==null&&Og(i,t),i=fc(i,l),i.flags|=4096;return i}return t=zi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function dc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function cd(t,i,a,l,h){return Ps(i),a=Ff(t,i,a,l,void 0,h),l=Gf(),t!==null&&!Ct?(Qf(t,i,h),Gi(t,i,h)):(ze&&l&&wf(i),i.flags|=1,Ft(t,i,a,h),i.child)}function Qy(t,i,a,l,h,d){return Ps(i),i.updateQueue=null,a=Xg(i,l,a,h),Yg(t),l=Gf(),t!==null&&!Ct?(Qf(t,i,d),Gi(t,i,d)):(ze&&l&&wf(i),i.flags|=1,Ft(t,i,a,d),i.child)}function Ky(t,i,a,l,h){if(Ps(i),i.stateNode===null){var d=ba,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=od,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Lf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):ba,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(ad(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&od.enqueueReplaceState(d,d.state,null),al(i,l,d,h),sl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,N=Bs(a,S);d.props=N;var z=d.context,X=a.contextType;_=ba,typeof X=="object"&&X!==null&&(_=Ht(X));var Z=a.getDerivedStateFromProps;X=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||z!==_)&&Vy(i,d,l,_),Cr=!1;var j=i.memoizedState;d.state=j,al(i,l,d,h),sl(),z=i.memoizedState,S||j!==z||Cr?(typeof Z=="function"&&(ad(i,a,Z,l),z=i.memoizedState),(N=Cr||My(i,a,N,l,j,z,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Uf(t,i),_=i.memoizedProps,X=Bs(a,_),d.props=X,Z=i.pendingProps,j=d.context,z=a.contextType,N=ba,typeof z=="object"&&z!==null&&(N=Ht(z)),S=a.getDerivedStateFromProps,(z=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||j!==N)&&Vy(i,d,l,N),Cr=!1,j=i.memoizedState,d.state=j,al(i,l,d,h),sl();var F=i.memoizedState;_!==Z||j!==F||Cr||t!==null&&t.dependencies!==null&&Yu(t.dependencies)?(typeof S=="function"&&(ad(i,a,S,l),F=i.memoizedState),(X=Cr||My(i,a,X,l,j,F,N)||t!==null&&t.dependencies!==null&&Yu(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=N,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,dc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=zs(i,t.child,null,h),i.child=zs(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Gi(t,i,h),t}function Yy(t,i,a,l){return Vs(),i.flags|=256,Ft(t,i,a,l),i.child}var hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fd(t){return{baseLanes:t,cachePool:Ug()}}function dd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Tn),t}function Xy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(ze){if(h?Nr(i):Or(),(t=nt)?(t=iv(t,xn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ar!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=Ig(t),a.return=i,i.child=a,qt=i,nt=null)):t=null,t===null)throw wr(i);return Xd(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(Or(),h=i.mode,S=mc({mode:"hidden",children:S},h),l=Ms(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=fd(a),l.childLanes=dd(t,_,a),i.memoizedState=hd,hl(null,l)):(Nr(i),md(i,S))}var N=t.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)i.flags&256?(Nr(i),i.flags&=-257,i=pd(t,i,a)):i.memoizedState!==null?(Or(),i.child=t.child,i.flags|=128,i=null):(Or(),S=l.fallback,h=i.mode,l=mc({mode:"visible",children:l.children},h),S=Ms(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,zs(i,t.child,null,a),l=i.child,l.memoizedState=fd(a),l.childLanes=dd(t,_,a),i.memoizedState=hd,i=hl(null,l));else if(Nr(i),Xd(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(s(419)),l.stack="",l.digest=_,Wo({value:l,source:null,stack:null}),i=pd(t,i,a)}else if(Ct||Ia(t,i,a,!1),_=(a&t.childLanes)!==0,Ct||_){if(_=et,_!==null&&(l=Mo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Os(t,l),cn(_,t,l),ud;Yd(S)||Ac(),i=pd(t,i,a)}else Yd(S)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,nt=Ln(S.nextSibling),qt=i,ze=!0,br=null,xn=!1,t!==null&&Og(i,t),i=md(i,l.children),i.flags|=4096);return i}return h?(Or(),S=l.fallback,h=i.mode,N=t.child,z=N.sibling,l=zi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,z!==null?S=zi(z,S):(S=Ms(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,hl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=fd(a):(h=S.cachePool,h!==null?(N=wt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Ug(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=dd(t,_,a),i.memoizedState=hd,hl(t.child,l)):(Nr(i),a=t.child,t=a.sibling,a=zi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function md(t,i){return i=mc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function mc(t,i){return t=yn(22,t,null,i),t.lanes=0,t}function pd(t,i,a){return zs(i,t.child,null,a),t=md(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function $y(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Nf(t.return,i,a)}function gd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Jy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=yt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,re(yt,_),Ft(t,i,l,a),l=ze?Zo:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$y(t,a,i);else if(t.tag===19)$y(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&nc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),gd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&nc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}gd(i,!0,a,null,d,l);break;case"together":gd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Gi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),xr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ia(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=zi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=zi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function yd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Yu(t)))}function XA(t,i,a){switch(i.tag){case 3:mt(i,i.stateNode.containerInfo),Rr(i,wt,t.memoizedState.cache),Vs();break;case 27:case 5:ds(i);break;case 4:mt(i,i.stateNode.containerInfo);break;case 10:Rr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,qf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Nr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Xy(t,i,a):(Nr(i),t=Gi(t,i,a),t!==null?t.sibling:null);Nr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ia(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Jy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(yt,yt.current),l)break;return null;case 22:return i.lanes=0,Hy(t,i,a,i.pendingProps);case 24:Rr(i,wt,t.memoizedState.cache)}return Gi(t,i,a)}function Zy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ct=!0;else{if(!yd(t,a)&&(i.flags&128)===0)return Ct=!1,XA(t,i,a);Ct=(t.flags&131072)!==0}else Ct=!1,ze&&(i.flags&1048576)!==0&&Ng(i,Zo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Us(i.elementType),i.type=t,typeof t=="function")Sf(t)?(l=Bs(t,l),i.tag=1,i=Ky(null,i,t,l,a)):(i.tag=0,i=cd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Re){i.tag=11,i=jy(null,i,t,l,a);break e}else if(h===D){i.tag=14,i=By(null,i,t,l,a);break e}}throw i=He(t)||t,Error(s(306,i,""))}}return i;case 0:return cd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Bs(l,i.pendingProps),Ky(t,i,l,h,a);case 3:e:{if(mt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Uf(t,i),al(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Rr(i,wt,l),l!==d.cache&&Of(i,[wt],a,!0),sl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Yy(t,i,l,a);break e}else if(l!==h){h=On(Error(s(424)),i),Wo(h),i=Yy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=Ln(t.firstChild),qt=i,ze=!0,br=null,xn=!0,a=Hg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Vs(),l===h){i=Gi(t,i,a);break e}Ft(t,i,l,a)}i=i.child}return i;case 26:return dc(t,i),t===null?(a=uv(i.type,null,i.pendingProps,null))?i.memoizedState=a:ze||(a=i.type,t=i.pendingProps,l=Nc(Se.current).createElement(a),l[St]=i,l[Pt]=t,Gt(l,a,t),At(l),i.stateNode=l):i.memoizedState=uv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ds(i),t===null&&ze&&(l=i.stateNode=av(i.type,i.pendingProps,Se.current),qt=i,xn=!0,h=nt,zr(i.type)?($d=h,nt=Ln(l.firstChild)):nt=h),Ft(t,i,i.pendingProps.children,a),dc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ze&&((h=l=nt)&&(l=w1(l,i.type,i.pendingProps,xn),l!==null?(i.stateNode=l,qt=i,nt=Ln(l.firstChild),xn=!1,h=!0):h=!1),h||wr(i)),ds(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Gd(h,d)?l=null:_!==null&&Gd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Ff(t,i,jA,null,null,a),Rl._currentValue=h),dc(t,i),Ft(t,i,l,a),i.child;case 6:return t===null&&ze&&((t=a=nt)&&(a=R1(a,i.pendingProps,xn),a!==null?(i.stateNode=a,qt=i,nt=null,t=!0):t=!1),t||wr(i)),null;case 13:return Xy(t,i,a);case 4:return mt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=zs(i,null,l,a):Ft(t,i,l,a),i.child;case 11:return jy(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Rr(i,i.type,l.value),Ft(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ps(i),h=Ht(h),l=l(h),i.flags|=1,Ft(t,i,l,a),i.child;case 14:return By(t,i,i.type,i.pendingProps,a);case 15:return qy(t,i,i.type,i.pendingProps,a);case 19:return Jy(t,i,a);case 31:return YA(t,i,a);case 22:return Hy(t,i,a,i.pendingProps);case 24:return Ps(i),l=Ht(wt),t===null?(h=xf(),h===null&&(h=et,d=Mf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Lf(i),Rr(i,wt,h)):((t.lanes&a)!==0&&(Uf(t,i),al(i,null,null,a),sl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Rr(i,wt,l)):(l=d.cache,Rr(i,wt,l),l!==h.cache&&Of(i,[wt],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Qi(t){t.flags|=4}function _d(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(w_())t.flags|=8192;else throw ks=Zu,Pf}else t.flags&=-16777217}function Wy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!mv(i))if(w_())t.flags|=8192;else throw ks=Zu,Pf}function pc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Tu():536870912,t.lanes|=i,ja|=i)}function fl(t,i){if(!ze)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function $A(t,i,a){var l=i.pendingProps;switch(Rf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),qi(wt),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ca(i)?Qi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,If())),it(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Qi(i),d!==null?(it(i),Wy(i,d)):(it(i),_d(i,h,null,l,a))):d?d!==t.memoizedState?(Qi(i),it(i),Wy(i,d)):(it(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Qi(i),it(i),_d(i,h,t,l,a)),null;case 27:if(sa(i),a=Se.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}t=ie.current,Ca(i)?Mg(i):(t=av(h,l,a),i.stateNode=t,Qi(i))}return it(i),null;case 5:if(sa(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(d=ie.current,Ca(i))Mg(i);else{var _=Nc(Se.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[St]=i,d[Pt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Gt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Qi(i)}}return it(i),_d(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Se.current,Ca(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[St]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||X_(t.nodeValue,a)),t||wr(i,!0)}else t=Nc(t).createTextNode(l),t[St]=i,i.stateNode=t}return it(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ca(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[St]=i}else Vs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),t=!1}else a=If(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(vn(i),i):(vn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return it(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ca(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[St]=i}else Vs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else h=If(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(vn(i),i):(vn(i),null)}return vn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),pc(i,i.updateQueue),it(i),null);case 4:return st(),t===null&&jd(i.stateNode.containerInfo),it(i),null;case 10:return qi(i.type),it(i),null;case 19:if(K(yt),l=i.memoizedState,l===null)return it(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)fl(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=nc(t),d!==null){for(i.flags|=128,fl(l,!1),t=d.updateQueue,i.updateQueue=t,pc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Cg(a,t),a=a.sibling;return re(yt,yt.current&1|2),ze&&ji(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&en()>Ec&&(i.flags|=128,h=!0,fl(l,!1),i.lanes=4194304)}else{if(!h)if(t=nc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,pc(i,t),fl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ze)return it(i),null}else 2*en()-l.renderingStartTime>Ec&&a!==536870912&&(i.flags|=128,h=!0,fl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=yt.current,re(yt,h?a&1|2:a&1),ze&&ji(i,l.treeForkCount),t):(it(i),null);case 22:case 23:return vn(i),Bf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&pc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&K(Ls),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),qi(wt),it(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function JA(t,i){switch(Rf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return qi(wt),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return sa(i),null;case 31:if(i.memoizedState!==null){if(vn(i),i.alternate===null)throw Error(s(340));Vs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(vn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Vs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return K(yt),null;case 4:return st(),null;case 10:return qi(i.type),null;case 22:case 23:return vn(i),Bf(),t!==null&&K(Ls),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return qi(wt),null;case 25:return null;default:return null}}function e_(t,i){switch(Rf(i),i.tag){case 3:qi(wt),st();break;case 26:case 27:case 5:sa(i);break;case 4:st();break;case 31:i.memoizedState!==null&&vn(i);break;case 13:vn(i);break;case 19:K(yt);break;case 10:qi(i.type);break;case 22:case 23:vn(i),Bf(),t!==null&&K(Ls);break;case 24:qi(wt)}}function dl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){Xe(i,i.return,S)}}function Mr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var N=a,z=S;try{z()}catch(X){Xe(h,N,X)}}}l=l.next}while(l!==d)}}catch(X){Xe(i,i.return,X)}}function t_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Gg(i,a)}catch(l){Xe(t,t.return,l)}}}function n_(t,i,a){a.props=Bs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,i,l)}}function ml(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Xe(t,i,h)}}function bi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Xe(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xe(t,i,h)}else a.current=null}function i_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Xe(t,t.return,h)}}function vd(t,i,a){try{var l=t.stateNode;v1(l,t.type,a,i),l[Pt]=i}catch(h){Xe(t,t.return,h)}}function r_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&zr(t.type)||t.tag===4}function Ed(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||r_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&zr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Td(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Qn));else if(l!==4&&(l===27&&zr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Td(t,i,a),t=t.sibling;t!==null;)Td(t,i,a),t=t.sibling}function gc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&zr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(gc(t,i,a),t=t.sibling;t!==null;)gc(t,i,a),t=t.sibling}function s_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,l,a),i[St]=t,i[Pt]=a}catch(d){Xe(t,t.return,d)}}var Ki=!1,It=!1,Sd=!1,a_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function ZA(t,i){if(t=t.containerInfo,Hd=Uc,t=_g(t),pf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,N=-1,z=0,X=0,Z=t,j=null;t:for(;;){for(var F;Z!==a||h!==0&&Z.nodeType!==3||(S=_+h),Z!==d||l!==0&&Z.nodeType!==3||(N=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(F=Z.firstChild)!==null;)j=Z,Z=F;for(;;){if(Z===t)break t;if(j===a&&++z===h&&(S=_),j===d&&++X===l&&(N=_),(F=Z.nextSibling)!==null)break;Z=j,j=Z.parentNode}Z=F}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Fd={focusedElem:t,selectionRange:a},Uc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=Bs(a.type,h);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Xe(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Kd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function o_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Xi(t,a),l&4&&dl(5,a);break;case 1:if(Xi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Xe(a,a.return,_)}else{var h=Bs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(a,a.return,_)}}l&64&&t_(a),l&512&&ml(a,a.return);break;case 3:if(Xi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Gg(t,i)}catch(_){Xe(a,a.return,_)}}break;case 27:i===null&&l&4&&s_(a);case 26:case 5:Xi(t,a),i===null&&l&4&&i_(a),l&512&&ml(a,a.return);break;case 12:Xi(t,a);break;case 31:Xi(t,a),l&4&&c_(t,a);break;case 13:Xi(t,a),l&4&&h_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=o1.bind(null,a),C1(t,a))));break;case 22:if(l=a.memoizedState!==null||Ki,!l){i=i!==null&&i.memoizedState!==null||It,h=Ki;var d=It;Ki=l,(It=i)&&!d?$i(t,a,(a.subtreeFlags&8772)!==0):Xi(t,a),Ki=h,It=d}break;case 30:break;default:Xi(t,a)}}function l_(t){var i=t.alternate;i!==null&&(t.alternate=null,l_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ca(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,an=!1;function Yi(t,i,a){for(a=a.child;a!==null;)u_(t,i,a),a=a.sibling}function u_(t,i,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:It||bi(a,i),Yi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||bi(a,i);var l=ot,h=an;zr(a.type)&&(ot=a.stateNode,an=!1),Yi(t,i,a),Al(a.stateNode),ot=l,an=h;break;case 5:It||bi(a,i);case 6:if(l=ot,h=an,ot=null,Yi(t,i,a),ot=l,an=h,ot!==null)if(an)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){Xe(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){Xe(a,i,d)}break;case 18:ot!==null&&(an?(t=ot,tv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ya(t)):tv(ot,a.stateNode));break;case 4:l=ot,h=an,ot=a.stateNode.containerInfo,an=!0,Yi(t,i,a),ot=l,an=h;break;case 0:case 11:case 14:case 15:Mr(2,a,i),It||Mr(4,a,i),Yi(t,i,a);break;case 1:It||(bi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&n_(a,i,l)),Yi(t,i,a);break;case 21:Yi(t,i,a);break;case 22:It=(l=It)||a.memoizedState!==null,Yi(t,i,a),It=l;break;default:Yi(t,i,a)}}function c_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ya(t)}catch(a){Xe(i,i.return,a)}}}function h_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ya(t)}catch(a){Xe(i,i.return,a)}}function WA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new a_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new a_),i;default:throw Error(s(435,t.tag))}}function yc(t,i){var a=WA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=l1.bind(null,t,l);l.then(h,h)}})}function on(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(zr(S.type)){ot=S.stateNode,an=!1;break e}break;case 5:ot=S.stateNode,an=!1;break e;case 3:case 4:ot=S.stateNode.containerInfo,an=!0;break e}S=S.return}if(ot===null)throw Error(s(160));u_(d,_,h),ot=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)f_(i,t),i=i.sibling}var Zn=null;function f_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(i,t),ln(t),l&4&&(Mr(3,t,t.return),dl(3,t),Mr(5,t,t.return));break;case 1:on(i,t),ln(t),l&512&&(It||a===null||bi(a,a.return)),l&64&&Ki&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Zn;if(on(i,t),ln(t),l&512&&(It||a===null||bi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ci]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,a),d[St]=t,At(d),l=d;break e;case"link":var _=fv("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=fv("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=t,At(d),l=d}t.stateNode=l}else dv(h,t.type,t.stateNode);else t.stateNode=hv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?dv(h,t.type,t.stateNode):hv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&vd(t,t.memoizedProps,a.memoizedProps)}break;case 27:on(i,t),ln(t),l&512&&(It||a===null||bi(a,a.return)),a!==null&&l&4&&vd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(on(i,t),ln(t),l&512&&(It||a===null||bi(a,a.return)),t.flags&32){h=t.stateNode;try{sn(h,"")}catch(he){Xe(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,vd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Sd=!0);break;case 6:if(on(i,t),ln(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Xe(t,t.return,he)}}break;case 3:if(Vc=null,h=Zn,Zn=Oc(i.containerInfo),on(i,t),Zn=h,ln(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ya(i.containerInfo)}catch(he){Xe(t,t.return,he)}Sd&&(Sd=!1,d_(t));break;case 4:l=Zn,Zn=Oc(t.stateNode.containerInfo),on(i,t),ln(t),Zn=l;break;case 12:on(i,t),ln(t);break;case 31:on(i,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yc(t,l)));break;case 13:on(i,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(vc=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yc(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,z=Ki,X=It;if(Ki=z||h,It=X||N,on(i,t),It=X,Ki=z,ln(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||Ki||It||qs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=N.stateNode;var Z=N.memoizedProps.style,j=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;S.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(he){Xe(N,N.return,he)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(he){Xe(N,N.return,he)}}}else if(i.tag===18){if(a===null){N=i;try{var F=N.stateNode;h?nv(F,!0):nv(N.stateNode,!1)}catch(he){Xe(N,N.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,yc(t,a))));break;case 19:on(i,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yc(t,l)));break;case 30:break;case 21:break;default:on(i,t),ln(t)}}function ln(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(r_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Ed(t);gc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(sn(_,""),a.flags&=-33);var S=Ed(t);gc(t,S,_);break;case 3:case 4:var N=a.stateNode.containerInfo,z=Ed(t);Td(t,z,N);break;default:throw Error(s(161))}}catch(X){Xe(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function d_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;d_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Xi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)o_(t,i.alternate,i),i=i.sibling}function qs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Mr(4,i,i.return),qs(i);break;case 1:bi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&n_(i,i.return,a),qs(i);break;case 27:Al(i.stateNode);case 26:case 5:bi(i,i.return),qs(i);break;case 22:i.memoizedState===null&&qs(i);break;case 30:qs(i);break;default:qs(i)}t=t.sibling}}function $i(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:$i(h,d,a),dl(4,d);break;case 1:if($i(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Xe(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Fg(N[h],S)}catch(z){Xe(l,l.return,z)}}a&&_&64&&t_(d),ml(d,d.return);break;case 27:s_(d);case 26:case 5:$i(h,d,a),a&&l===null&&_&4&&i_(d),ml(d,d.return);break;case 12:$i(h,d,a);break;case 31:$i(h,d,a),a&&_&4&&c_(h,d);break;case 13:$i(h,d,a),a&&_&4&&h_(h,d);break;case 22:d.memoizedState===null&&$i(h,d,a),ml(d,d.return);break;case 30:break;default:$i(h,d,a)}i=i.sibling}}function Ad(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&el(a))}function bd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t))}function Wn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)m_(t,i,a,l),i=i.sibling}function m_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Wn(t,i,a,l),h&2048&&dl(9,i);break;case 1:Wn(t,i,a,l);break;case 3:Wn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t)));break;case 12:if(h&2048){Wn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Xe(i,i.return,N)}}else Wn(t,i,a,l);break;case 31:Wn(t,i,a,l);break;case 13:Wn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Wn(t,i,a,l):pl(t,i):d._visibility&2?Wn(t,i,a,l):(d._visibility|=2,Ua(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Ad(_,i);break;case 24:Wn(t,i,a,l),h&2048&&bd(i.alternate,i);break;default:Wn(t,i,a,l)}}function Ua(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,N=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:Ua(d,_,S,N,h),dl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?Ua(d,_,S,N,h):pl(d,_):(X._visibility|=2,Ua(d,_,S,N,h)),h&&z&2048&&Ad(_.alternate,_);break;case 24:Ua(d,_,S,N,h),h&&z&2048&&bd(_.alternate,_);break;default:Ua(d,_,S,N,h)}i=i.sibling}}function pl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:pl(a,l),h&2048&&Ad(l.alternate,l);break;case 24:pl(a,l),h&2048&&bd(l.alternate,l);break;default:pl(a,l)}i=i.sibling}}var gl=8192;function ka(t,i,a){if(t.subtreeFlags&gl)for(t=t.child;t!==null;)p_(t,i,a),t=t.sibling}function p_(t,i,a){switch(t.tag){case 26:ka(t,i,a),t.flags&gl&&t.memoizedState!==null&&z1(a,Zn,t.memoizedState,t.memoizedProps);break;case 5:ka(t,i,a);break;case 3:case 4:var l=Zn;Zn=Oc(t.stateNode.containerInfo),ka(t,i,a),Zn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=gl,gl=16777216,ka(t,i,a),gl=l):ka(t,i,a));break;default:ka(t,i,a)}}function g_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function yl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,__(l,t)}g_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)y_(t),t=t.sibling}function y_(t){switch(t.tag){case 0:case 11:case 15:yl(t),t.flags&2048&&Mr(9,t,t.return);break;case 3:yl(t);break;case 12:yl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,_c(t)):yl(t);break;default:yl(t)}}function _c(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,__(l,t)}g_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Mr(8,i,i.return),_c(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,_c(i));break;default:_c(i)}t=t.sibling}}function __(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Mr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(l_(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var e1={getCacheForType:function(t){var i=Ht(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(wt).controller.signal}},t1=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,Ne=null,Ve=0,Ye=0,En=null,Vr=!1,za=!1,wd=!1,Ji=0,ft=0,xr=0,Hs=0,Rd=0,Tn=0,ja=0,_l=null,un=null,Cd=!1,vc=0,v_=0,Ec=1/0,Tc=null,Pr=null,Vt=0,Lr=null,Ba=null,Zi=0,Id=0,Dd=null,E_=null,vl=0,Nd=null;function Sn(){return(Ge&2)!==0&&Ve!==0?Ve&-Ve:Y.T!==null?Ld():Su()}function T_(){if(Tn===0)if((Ve&536870912)===0||ze){var t=gs;gs<<=1,(gs&3932160)===0&&(gs=262144),Tn=t}else Tn=536870912;return t=_n.current,t!==null&&(t.flags|=32),Tn}function cn(t,i,a){(t===et&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(qa(t,0),Ur(t,Ve,Tn,!1)),ys(t,a),((Ge&2)===0||t!==et)&&(t===et&&((Ge&2)===0&&(Hs|=a),ft===4&&Ur(t,Ve,Tn,!1)),wi(t))}function S_(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Hn(t,i),h=l?r1(t,i):Md(t,i,!0),d=l;do{if(h===0){za&&!l&&Ur(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!n1(a)){h=Md(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=_l;var N=S.current.memoizedState.isDehydrated;if(N&&(qa(S,_).flags|=256),_=Md(S,_,!1),_!==2){if(wd&&!N){S.errorRecoveryDisabledLanes|=d,Hs|=d,h=4;break e}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){qa(t,0),Ur(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ur(l,i,Tn,!Vr);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=vc+300-en(),10<h)){if(Ur(l,i,Tn,!Vr),oi(l,0,!0)!==0)break e;Zi=i,l.timeoutHandle=W_(A_.bind(null,l,a,un,Tc,Cd,i,Tn,Hs,ja,Vr,d,"Throttled",-0,0),h);break e}A_(l,a,un,Tc,Cd,i,Tn,Hs,ja,Vr,d,null,-0,0)}}break}while(!0);wi(t)}function A_(t,i,a,l,h,d,_,S,N,z,X,Z,j,F){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},p_(i,d,Z);var he=(d&62914560)===d?vc-en():(d&4194048)===d?v_-en():0;if(he=j1(Z,he),he!==null){Zi=d,t.cancelPendingCommit=he(O_.bind(null,t,i,d,a,l,h,_,S,N,X,Z,null,j,F)),Ur(t,d,_,!z);return}}O_(t,i,d,a,l,h,_,S,N)}function n1(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!gn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ur(t,i,a,l){i&=~Rd,i&=~Hs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-pt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&_s(t,a,i)}function Sc(){return(Ge&6)===0?(El(0),!1):!0}function Od(){if(Ne!==null){if(Ye===0)var t=Ne.return;else t=Ne,Bi=xs=null,Kf(t),Ma=null,nl=0,t=Ne;for(;t!==null;)e_(t.alternate,t),t=t.return;Ne=null}}function qa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,S1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Zi=0,Od(),et=t,Ne=a=zi(t.current,null),Ve=i,Ye=0,En=null,Vr=!1,za=Hn(t,i),wd=!1,ja=Tn=Rd=Hs=xr=ft=0,un=_l=null,Cd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-pt(l),d=1<<h;i|=t[h],l&=~d}return Ji=i,Hu(),a}function b_(t,i){Ie=null,Y.H=cl,i===Oa||i===Ju?(i=jg(),Ye=3):i===Pf?(i=jg(),Ye=4):Ye=i===ud?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,Ne===null&&(ft=1,hc(t,On(i,t.current)))}function w_(){var t=_n.current;return t===null?!0:(Ve&4194048)===Ve?Pn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===Pn:!1}function R_(){var t=Y.H;return Y.H=cl,t===null?cl:t}function C_(){var t=Y.A;return Y.A=e1,t}function Ac(){ft=4,Vr||(Ve&4194048)!==Ve&&_n.current!==null||(za=!0),(xr&134217727)===0&&(Hs&134217727)===0||et===null||Ur(et,Ve,Tn,!1)}function Md(t,i,a){var l=Ge;Ge|=2;var h=R_(),d=C_();(et!==t||Ve!==i)&&(Tc=null,qa(t,i)),i=!1;var _=ft;e:do try{if(Ye!==0&&Ne!==null){var S=Ne,N=En;switch(Ye){case 8:Od(),_=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(i=!0);var z=Ye;if(Ye=0,En=null,Ha(t,S,N,z),a&&za){_=0;break e}break;default:z=Ye,Ye=0,En=null,Ha(t,S,N,z)}}i1(),_=ft;break}catch(X){b_(t,X)}while(!0);return i&&t.shellSuspendCounter++,Bi=xs=null,Ge=l,Y.H=h,Y.A=d,Ne===null&&(et=null,Ve=0,Hu()),_}function i1(){for(;Ne!==null;)I_(Ne)}function r1(t,i){var a=Ge;Ge|=2;var l=R_(),h=C_();et!==t||Ve!==i?(Tc=null,Ec=en()+500,qa(t,i)):za=Hn(t,i);e:do try{if(Ye!==0&&Ne!==null){i=Ne;var d=En;t:switch(Ye){case 1:Ye=0,En=null,Ha(t,i,d,1);break;case 2:case 9:if(kg(d)){Ye=0,En=null,D_(i);break}i=function(){Ye!==2&&Ye!==9||et!==t||(Ye=7),wi(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:kg(d)?(Ye=0,En=null,D_(i)):(Ye=0,En=null,Ha(t,i,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var S=Ne;if(_?mv(_):S.stateNode.complete){Ye=0,En=null;var N=S.sibling;if(N!==null)Ne=N;else{var z=S.return;z!==null?(Ne=z,bc(z)):Ne=null}break t}}Ye=0,En=null,Ha(t,i,d,5);break;case 6:Ye=0,En=null,Ha(t,i,d,6);break;case 8:Od(),ft=6;break e;default:throw Error(s(462))}}s1();break}catch(X){b_(t,X)}while(!0);return Bi=xs=null,Y.H=l,Y.A=h,Ge=a,Ne!==null?0:(et=null,Ve=0,Hu(),ft)}function s1(){for(;Ne!==null&&!lf();)I_(Ne)}function I_(t){var i=Zy(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,i===null?bc(t):Ne=i}function D_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Qy(a,i,i.pendingProps,i.type,void 0,Ve);break;case 11:i=Qy(a,i,i.pendingProps,i.type.render,i.ref,Ve);break;case 5:Kf(i);default:e_(a,i),i=Ne=Cg(i,Ji),i=Zy(a,i,Ji)}t.memoizedProps=t.pendingProps,i===null?bc(t):Ne=i}function Ha(t,i,a,l){Bi=xs=null,Kf(i),Ma=null,nl=0;var h=i.return;try{if(KA(t,h,i,a,Ve)){ft=1,hc(t,On(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ft=1,hc(t,On(a,t.current)),Ne=null;return}i.flags&32768?(ze||l===1?t=!0:za||(Ve&536870912)!==0?t=!1:(Vr=t=!0,(l===2||l===9||l===3||l===6)&&(l=_n.current,l!==null&&l.tag===13&&(l.flags|=16384))),N_(i,t)):bc(i)}function bc(t){var i=t;do{if((i.flags&32768)!==0){N_(i,Vr);return}t=i.return;var a=$A(i.alternate,i,Ji);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ft===0&&(ft=5)}function N_(t,i){do{var a=JA(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ft=6,Ne=null}function O_(t,i,a,l,h,d,_,S,N){t.cancelPendingCommit=null;do wc();while(Vt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Ef,hf(t,a,d,_,S,N),t===et&&(Ne=et=null,Ve=0),Ba=i,Lr=t,Zi=a,Id=d,Dd=h,E_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,u1(dr,function(){return L_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=le.p,le.p=2,_=Ge,Ge|=4;try{ZA(t,i,a)}finally{Ge=_,le.p=h,Y.T=l}}Vt=1,M_(),V_(),x_()}}function M_(){if(Vt===1){Vt=0;var t=Lr,i=Ba,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=le.p;le.p=2;var h=Ge;Ge|=4;try{f_(i,t);var d=Fd,_=_g(t.containerInfo),S=d.focusedElem,N=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&yg(S.ownerDocument.documentElement,S)){if(N!==null&&pf(S)){var z=N.start,X=N.end;if(X===void 0&&(X=z),"selectionStart"in S)S.selectionStart=z,S.selectionEnd=Math.min(X,S.value.length);else{var Z=S.ownerDocument||document,j=Z&&Z.defaultView||window;if(j.getSelection){var F=j.getSelection(),he=S.textContent.length,ye=Math.min(N.start,he),We=N.end===void 0?ye:Math.min(N.end,he);!F.extend&&ye>We&&(_=We,We=ye,ye=_);var x=gg(S,ye),V=gg(S,We);if(x&&V&&(F.rangeCount!==1||F.anchorNode!==x.node||F.anchorOffset!==x.offset||F.focusNode!==V.node||F.focusOffset!==V.offset)){var k=Z.createRange();k.setStart(x.node,x.offset),F.removeAllRanges(),ye>We?(F.addRange(k),F.extend(V.node,V.offset)):(k.setEnd(V.node,V.offset),F.addRange(k))}}}}for(Z=[],F=S;F=F.parentNode;)F.nodeType===1&&Z.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Z.length;S++){var $=Z[S];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Uc=!!Hd,Fd=Hd=null}finally{Ge=h,le.p=l,Y.T=a}}t.current=i,Vt=2}}function V_(){if(Vt===2){Vt=0;var t=Lr,i=Ba,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=le.p;le.p=2;var h=Ge;Ge|=4;try{o_(t,i.alternate,i)}finally{Ge=h,le.p=l,Y.T=a}}Vt=3}}function x_(){if(Vt===4||Vt===3){Vt=0,pu();var t=Lr,i=Ba,a=Zi,l=E_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,Ba=Lr=null,P_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Pr=null),Pi(a),i=i.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(qn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=le.p,le.p=2,Y.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{Y.T=i,le.p=h}}(Zi&3)!==0&&wc(),wi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Nd?vl++:(vl=0,Nd=t):vl=0,El(0)}}function P_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,el(i)))}function wc(){return M_(),V_(),x_(),L_()}function L_(){if(Vt!==5)return!1;var t=Lr,i=Id;Id=0;var a=Pi(Zi),l=Y.T,h=le.p;try{le.p=32>a?32:a,Y.T=null,a=Dd,Dd=null;var d=Lr,_=Zi;if(Vt=0,Ba=Lr=null,Zi=0,(Ge&6)!==0)throw Error(s(331));var S=Ge;if(Ge|=4,y_(d.current),m_(d,d.current,_,a),Ge=S,El(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(qn,d)}catch{}return!0}finally{le.p=h,Y.T=l,P_(t,i)}}function U_(t,i,a){i=On(a,i),i=ld(t.stateNode,i,2),t=Dr(t,i,2),t!==null&&(ys(t,2),wi(t))}function Xe(t,i,a){if(t.tag===3)U_(t,t,a);else for(;i!==null;){if(i.tag===3){U_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Pr===null||!Pr.has(l))){t=On(a,t),a=ky(2),l=Dr(i,a,2),l!==null&&(zy(a,l,i,t),ys(l,2),wi(l));break}}i=i.return}}function Vd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new t1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(wd=!0,h.add(a),t=a1.bind(null,t,i,a),i.then(t,t))}function a1(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Ve&a)===a&&(ft===4||ft===3&&(Ve&62914560)===Ve&&300>en()-vc?(Ge&2)===0&&qa(t,0):Rd|=a,ja===Ve&&(ja=0)),wi(t)}function k_(t,i){i===0&&(i=Tu()),t=Os(t,i),t!==null&&(ys(t,i),wi(t))}function o1(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),k_(t,a)}function l1(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),k_(t,a)}function u1(t,i){return Mt(t,i)}var Rc=null,Fa=null,xd=!1,Cc=!1,Pd=!1,kr=0;function wi(t){t!==Fa&&t.next===null&&(Fa===null?Rc=Fa=t:Fa=Fa.next=t),Cc=!0,xd||(xd=!0,h1())}function El(t,i){if(!Pd&&Cc){Pd=!0;do for(var a=!1,l=Rc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,q_(l,d))}else d=Ve,d=oi(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Hn(l,d)||(a=!0,q_(l,d));l=l.next}while(a);Pd=!1}}function c1(){z_()}function z_(){Cc=xd=!1;var t=0;kr!==0&&T1()&&(t=kr);for(var i=en(),a=null,l=Rc;l!==null;){var h=l.next,d=j_(l,i);d===0?(l.next=null,a===null?Rc=h:a.next=h,h===null&&(Fa=a)):(a=l,(t!==0||(d&3)!==0)&&(Cc=!0)),l=h}Vt!==0&&Vt!==5||El(t),kr!==0&&(kr=0)}function j_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-pt(d),S=1<<_,N=h[_];N===-1?((S&a)===0||(S&l)!==0)&&(h[_]=cf(S,i)):N<=i&&(t.expiredLanes|=S),d&=~S}if(i=et,a=Ve,a=oi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&fr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Hn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&fr(l),Pi(a)){case 2:case 8:a=No;break;case 32:a=dr;break;case 268435456:a=gu;break;default:a=dr}return l=B_.bind(null,t),a=Mt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&fr(l),t.callbackPriority=2,t.callbackNode=null,2}function B_(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(wc()&&t.callbackNode!==a)return null;var l=Ve;return l=oi(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(S_(t,l,i),j_(t,en()),t.callbackNode!=null&&t.callbackNode===a?B_.bind(null,t):null)}function q_(t,i){if(wc())return null;S_(t,i,!0)}function h1(){A1(function(){(Ge&6)!==0?Mt(Do,c1):z_()})}function Ld(){if(kr===0){var t=Da;t===0&&(t=si,si<<=1,(si&261888)===0&&(si=256)),kr=t}return kr}function H_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ma(""+t)}function F_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function f1(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=H_((h[Pt]||null).action),_=l.submitter;_&&(i=(i=_[Pt]||null)?H_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new _i("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(kr!==0){var N=_?F_(h,_):new FormData(h);nd(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=_?F_(h,_):new FormData(h),nd(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Ud=0;Ud<vf.length;Ud++){var kd=vf[Ud],d1=kd.toLowerCase(),m1=kd[0].toUpperCase()+kd.slice(1);Jn(d1,"on"+m1)}Jn(Tg,"onAnimationEnd"),Jn(Sg,"onAnimationIteration"),Jn(Ag,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(NA,"onTransitionRun"),Jn(OA,"onTransitionStart"),Jn(MA,"onTransitionCancel"),Jn(bg,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function G_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],N=S.instance,z=S.currentTarget;if(S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=z;try{d(h)}catch(X){qu(X)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(S=l[_],N=S.instance,z=S.currentTarget,S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=z;try{d(h)}catch(X){qu(X)}h.currentTarget=null,d=N}}}}function Oe(t,i){var a=i[ua];a===void 0&&(a=i[ua]=new Set);var l=t+"__bubble";a.has(l)||(Q_(i,t,2,!1),a.add(l))}function zd(t,i,a){var l=0;i&&(l|=4),Q_(a,t,l,i)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function jd(t){if(!t[Ic]){t[Ic]=!0,Vo.forEach(function(a){a!=="selectionchange"&&(p1.has(a)||zd(a,!1,t),zd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ic]||(i[Ic]=!0,zd("selectionchange",!1,i))}}function Q_(t,i,a,l){switch(Tv(i)){case 2:var h=H1;break;case 8:h=F1;break;default:h=tm}a=h.bind(null,i,a,t),h=void 0,!As||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Bd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=hi(S),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}S=S.parentNode}}l=l.return}vr(function(){var z=d,X=Cn(a),Z=[];e:{var j=wg.get(t);if(j!==void 0){var F=_i,he=t;switch(t){case"keypress":if(ws(a)===0)break e;case"keydown":case"keyup":F=zu;break;case"focusin":he="focus",F=Cs;break;case"focusout":he="blur",F=Cs;break;case"beforeblur":case"afterblur":F=Cs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=g;break;case Tg:case Sg:case Ag:F=Mu;break;case bg:F=A;break;case"scroll":case"scrollend":F=Go;break;case"wheel":F=q;break;case"copy":case"cut":case"paste":F=Vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=ki;break;case"toggle":case"beforetoggle":F=Ce}var ye=(i&4)!==0,We=!ye&&(t==="scroll"||t==="scrollend"),x=ye?j!==null?j+"Capture":null:j;ye=[];for(var V=z,k;V!==null;){var $=V;if(k=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||k===null||x===null||($=Kn(V,x),$!=null&&ye.push(Sl(V,$,k))),We)break;V=V.return}0<ye.length&&(j=new F(j,he,null,a,X),Z.push({event:j,listeners:ye}))}}if((i&7)===0){e:{if(j=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",j&&a!==qo&&(he=a.relatedTarget||a.fromElement)&&(hi(he)||he[ui]))break e;if((F||j)&&(j=X.window===X?X:(j=X.ownerDocument)?j.defaultView||j.parentWindow:window,F?(he=a.relatedTarget||a.toElement,F=z,he=he?hi(he):null,he!==null&&(We=u(he),ye=he.tag,he!==We||ye!==5&&ye!==27&&ye!==6)&&(he=null)):(F=null,he=z),F!==he)){if(ye=Qo,$="onMouseLeave",x="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ye=ki,$="onPointerLeave",x="onPointerEnter",V="pointer"),We=F==null?j:mn(F),k=he==null?j:mn(he),j=new ye($,V+"leave",F,a,X),j.target=We,j.relatedTarget=k,$=null,hi(X)===z&&(ye=new ye(x,V+"enter",he,a,X),ye.target=k,ye.relatedTarget=We,$=ye),We=$,F&&he)t:{for(ye=g1,x=F,V=he,k=0,$=x;$;$=ye($))k++;$=0;for(var me=V;me;me=ye(me))$++;for(;0<k-$;)x=ye(x),k--;for(;0<$-k;)V=ye(V),$--;for(;k--;){if(x===V||V!==null&&x===V.alternate){ye=x;break t}x=ye(x),V=ye(V)}ye=null}else ye=null;F!==null&&K_(Z,j,F,ye,!1),he!==null&&We!==null&&K_(Z,We,he,ye,!0)}}e:{if(j=z?mn(z):window,F=j.nodeName&&j.nodeName.toLowerCase(),F==="select"||F==="input"&&j.type==="file")var Be=cg;else if(lg(j))if(hg)Be=CA;else{Be=wA;var fe=bA}else F=j.nodeName,!F||F.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&da(z.elementType)&&(Be=cg):Be=RA;if(Be&&(Be=Be(t,z))){ug(Z,Be,a,X);break e}fe&&fe(t,j,z),t==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&zo(j,"number",j.value)}switch(fe=z?mn(z):window,t){case"focusin":(lg(fe)||fe.contentEditable==="true")&&(Ta=fe,gf=z,Jo=null);break;case"focusout":Jo=gf=Ta=null;break;case"mousedown":yf=!0;break;case"contextmenu":case"mouseup":case"dragend":yf=!1,vg(Z,a,X);break;case"selectionchange":if(DA)break;case"keydown":case"keyup":vg(Z,a,X)}var De;if(Fe)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Ea?Is(t,a)&&(xe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(Ti&&a.locale!=="ko"&&(Ea||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Ea&&(De=Fo()):(yi=X,Ho="value"in yi?yi.value:yi.textContent,Ea=!0)),fe=Dc(z,xe),0<fe.length&&(xe=new Ei(xe,t,null,a,X),Z.push({event:xe,listeners:fe}),De?xe.data=De:(De=va(a),De!==null&&(xe.data=De)))),(De=Dn?EA(t,a):TA(t,a))&&(xe=Dc(z,"onBeforeInput"),0<xe.length&&(fe=new Ei("onBeforeInput","beforeinput",null,a,X),Z.push({event:fe,listeners:xe}),fe.data=De)),f1(Z,t,z,a,X)}G_(Z,i)})}function Sl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Dc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Kn(t,a),h!=null&&l.unshift(Sl(t,h,d)),h=Kn(t,i),h!=null&&l.push(Sl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function g1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function K_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,N=S.alternate,z=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||z===null||(N=z,h?(z=Kn(a,d),z!=null&&_.unshift(Sl(a,z,N))):h||(z=Kn(a,d),z!=null&&_.push(Sl(a,z,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var y1=/\r\n?/g,_1=/\u0000|\uFFFD/g;function Y_(t){return(typeof t=="string"?t:""+t).replace(y1,`
`).replace(_1,"")}function X_(t,i){return i=Y_(i),Y_(t)===i}function Ze(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||sn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&sn(t,""+l);break;case"className":pn(t,"class",l);break;case"tabIndex":pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(t,a,l);break;case"style":Bo(t,l,d);break;case"data":if(i!=="object"){pn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ma(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ze(t,i,"name",h.name,h,null),Ze(t,i,"formEncType",h.formEncType,h,null),Ze(t,i,"formMethod",h.formMethod,h,null),Ze(t,i,"formTarget",h.formTarget,h,null)):(Ze(t,i,"encType",h.encType,h,null),Ze(t,i,"method",h.method,h,null),Ze(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ma(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Qn);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ma(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),ha(t,"popover",l);break;case"xlinkActuate":bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ha(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Du.get(a)||a,ha(t,a,l))}}function qd(t,i,a,l,h,d){switch(a){case"style":Bo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?sn(t,l):(typeof l=="number"||typeof l=="bigint")&&sn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ha(t,a,l)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,d,_,a,null)}}h&&Ze(t,i,"srcSet",a.srcSet,a,null),l&&Ze(t,i,"src",a.src,a,null);return;case"input":Oe("invalid",t);var S=d=_=h=null,N=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":N=X;break;case"defaultChecked":z=X;break;case"value":d=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Ze(t,i,l,X,a,null)}}Ru(t,d,S,N,z,_,h,!1);return;case"select":Oe("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Ze(t,i,h,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?pr(t,!!l,i,!1):a!=null&&pr(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Ze(t,i,_,S,a,null)}gr(t,l,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,i,N,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Oe(Tl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,z,l,a,null)}return;default:if(da(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&qd(t,i,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Ze(t,i,S,l,a,null))}function v1(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,N=null,z=null,X=null;for(F in a){var Z=a[F];if(a.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=Z;default:l.hasOwnProperty(F)||Ze(t,i,F,null,l,Z)}}for(var j in l){var F=l[j];if(Z=a[j],l.hasOwnProperty(j)&&(F!=null||Z!=null))switch(j){case"type":d=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":X=F;break;case"value":_=F;break;case"defaultValue":S=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==Z&&Ze(t,i,j,F,l,Z)}}fa(t,_,S,N,z,X,d,h);return;case"select":F=_=S=j=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":F=N;default:l.hasOwnProperty(d)||Ze(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":j=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==N&&Ze(t,i,h,d,l,N)}i=S,a=_,l=F,j!=null?pr(t,!!a,j,!1):!!l!=!!a&&(i!=null?pr(t,!!a,i,!0):pr(t,!!a,a?[]:"",!1));return;case"textarea":F=j=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ze(t,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":j=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ze(t,i,_,h,l,d)}Cu(t,j,F);return;case"option":for(var he in a)if(j=a[he],a.hasOwnProperty(he)&&j!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:Ze(t,i,he,null,l,j)}for(N in l)if(j=l[N],F=a[N],l.hasOwnProperty(N)&&j!==F&&(j!=null||F!=null))switch(N){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Ze(t,i,N,j,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)j=a[ye],a.hasOwnProperty(ye)&&j!=null&&!l.hasOwnProperty(ye)&&Ze(t,i,ye,null,l,j);for(z in l)if(j=l[z],F=a[z],l.hasOwnProperty(z)&&j!==F&&(j!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Ze(t,i,z,j,l,F)}return;default:if(da(i)){for(var We in a)j=a[We],a.hasOwnProperty(We)&&j!==void 0&&!l.hasOwnProperty(We)&&qd(t,i,We,void 0,l,j);for(X in l)j=l[X],F=a[X],!l.hasOwnProperty(X)||j===F||j===void 0&&F===void 0||qd(t,i,X,j,l,F);return}}for(var x in a)j=a[x],a.hasOwnProperty(x)&&j!=null&&!l.hasOwnProperty(x)&&Ze(t,i,x,null,l,j);for(Z in l)j=l[Z],F=a[Z],!l.hasOwnProperty(Z)||j===F||j==null&&F==null||Ze(t,i,Z,j,l,F)}function $_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function E1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&$_(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],z=N.startTime;if(z>S)break;var X=N.transferSize,Z=N.initiatorType;X&&$_(Z)&&(N=N.responseEnd,_+=X*(N<S?1:(S-z)/(N-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Hd=null,Fd=null;function Nc(t){return t.nodeType===9?t:t.ownerDocument}function J_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Gd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Qd=null;function T1(){var t=window.event;return t&&t.type==="popstate"?t===Qd?!1:(Qd=t,!0):(Qd=null,!1)}var W_=typeof setTimeout=="function"?setTimeout:void 0,S1=typeof clearTimeout=="function"?clearTimeout:void 0,ev=typeof Promise=="function"?Promise:void 0,A1=typeof queueMicrotask=="function"?queueMicrotask:typeof ev<"u"?function(t){return ev.resolve(null).then(t).catch(b1)}:W_;function b1(t){setTimeout(function(){throw t})}function zr(t){return t==="head"}function tv(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ya(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Al(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Al(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[ci]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Al(t.ownerDocument.body);a=h}while(a);Ya(i)}function nv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Kd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kd(a),ca(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function w1(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ci])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function R1(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ln(t.nextSibling),t===null))return null;return t}function iv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ln(t.nextSibling),t===null))return null;return t}function Yd(t){return t.data==="$?"||t.data==="$~"}function Xd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function C1(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ln(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var $d=null;function rv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Ln(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function sv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function av(t,i,a){switch(i=Nc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Al(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ca(t)}var Un=new Map,ov=new Set;function Oc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Wi=le.d;le.d={f:I1,r:D1,D:N1,C:O1,L:M1,m:V1,X:P1,S:x1,M:L1};function I1(){var t=Wi.f(),i=Sc();return t||i}function D1(t){var i=Rn(t);i!==null&&i.tag===5&&i.type==="form"?by(i):Wi.r(t)}var Ga=typeof document>"u"?null:document;function lv(t,i,a){var l=Ga;if(l&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),ov.has(h)||(ov.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Gt(i,"link",t),At(i),l.head.appendChild(i)))}}function N1(t){Wi.D(t),lv("dns-prefetch",t,null)}function O1(t,i){Wi.C(t,i),lv("preconnect",t,i)}function M1(t,i,a){Wi.L(t,i,a);var l=Ga;if(l&&t&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var d=h;switch(i){case"style":d=Qa(t);break;case"script":d=Ka(t)}Un.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Un.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(bl(d))||i==="script"&&l.querySelector(wl(d))||(i=l.createElement("link"),Gt(i,"link",t),At(i),l.head.appendChild(i)))}}function V1(t,i){Wi.m(t,i);var a=Ga;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ka(t)}if(!Un.has(d)&&(t=T({rel:"modulepreload",href:t},i),Un.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(d)))return}l=a.createElement("link"),Gt(l,"link",t),At(l),a.head.appendChild(l)}}}function x1(t,i,a){Wi.S(t,i,a);var l=Ga;if(l&&t){var h=fi(l).hoistableStyles,d=Qa(t);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(bl(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Un.get(d))&&Jd(t,a);var N=_=l.createElement("link");At(N),Gt(N,"link",t),N._p=new Promise(function(z,X){N.onload=z,N.onerror=X}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Mc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function P1(t,i){Wi.X(t,i);var a=Ga;if(a&&t){var l=fi(a).hoistableScripts,h=Ka(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=T({src:t,async:!0},i),(i=Un.get(h))&&Zd(t,i),d=a.createElement("script"),At(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function L1(t,i){Wi.M(t,i);var a=Ga;if(a&&t){var l=fi(a).hoistableScripts,h=Ka(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Un.get(h))&&Zd(t,i),d=a.createElement("script"),At(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function uv(t,i,a,l){var h=(h=Se.current)?Oc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Qa(a.href),a=fi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Qa(a.href);var d=fi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(bl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Un.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(t,a),d||U1(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ka(a),a=fi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Qa(t){return'href="'+rn(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function cv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function U1(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),At(i),t.head.appendChild(i))}function Ka(t){return'[src="'+rn(t)+'"]'}function wl(t){return"script[async]"+t}function hv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(l)return i.instance=l,At(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),Gt(l,"style",h),Mc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Qa(a.href);var d=t.querySelector(bl(h));if(d)return i.state.loading|=4,i.instance=d,At(d),d;l=cv(a),(h=Un.get(h))&&Jd(l,h),d=(t.ownerDocument||t).createElement("link"),At(d);var _=d;return _._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Gt(d,"link",l),i.state.loading|=4,Mc(d,a.precedence,t),i.instance=d;case"script":return d=Ka(a.src),(h=t.querySelector(wl(d)))?(i.instance=h,At(h),h):(l=a,(h=Un.get(d))&&(l=T({},a),Zd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),At(h),Gt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Mc(l,a.precedence,t));return i.instance}function Mc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Jd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Zd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Vc=null;function fv(t,i,a){if(Vc===null){var l=new Map,h=Vc=new Map;h.set(a,l)}else h=Vc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ci]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function dv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function k1(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function mv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function z1(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Qa(l.href),d=i.querySelector(bl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=xc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,At(d);return}d=i.ownerDocument||i,l=cv(l),(h=Un.get(h))&&Jd(l,h),d=d.createElement("link"),At(d);var _=d;_._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=xc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Wd=0;function j1(t,i){return t.stylesheets&&t.count===0&&Lc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Lc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Wd===0&&(Wd=62500*E1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Lc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Wd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Pc=null;function Lc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Pc=new Map,i.forEach(B1,t),Pc=null,xc.call(t))}function B1(t,i){if(!(i.state.loading&4)){var a=Pc.get(t);if(a)var l=a.get(null);else{a=new Map,Pc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=xc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Rl={$$typeof:se,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function q1(t,i,a,l,h,d,_,S,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function pv(t,i,a,l,h,d,_,S,N,z,X,Z){return t=new q1(t,i,a,_,N,z,X,Z,S),i=1,d===!0&&(i|=24),d=yn(3,null,null,i),t.current=d,d.stateNode=t,i=Mf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Lf(d),t}function gv(t){return t?(t=ba,t):ba}function yv(t,i,a,l,h,d){h=gv(h),l.context===null?l.context=h:l.pendingContext=h,l=Ir(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Dr(t,l,i),a!==null&&(cn(a,t,i),rl(a,t,i))}function _v(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function em(t,i){_v(t,i),(t=t.alternate)&&_v(t,i)}function vv(t){if(t.tag===13||t.tag===31){var i=Os(t,67108864);i!==null&&cn(i,t,67108864),em(t,67108864)}}function Ev(t){if(t.tag===13||t.tag===31){var i=Sn();i=vs(i);var a=Os(t,i);a!==null&&cn(a,t,i),em(t,i)}}var Uc=!0;function H1(t,i,a,l){var h=Y.T;Y.T=null;var d=le.p;try{le.p=2,tm(t,i,a,l)}finally{le.p=d,Y.T=h}}function F1(t,i,a,l){var h=Y.T;Y.T=null;var d=le.p;try{le.p=8,tm(t,i,a,l)}finally{le.p=d,Y.T=h}}function tm(t,i,a,l){if(Uc){var h=nm(l);if(h===null)Bd(t,i,l,kc,a),Sv(t,l);else if(Q1(h,t,i,a,l))l.stopPropagation();else if(Sv(t,l),i&4&&-1<G1.indexOf(t)){for(;h!==null;){var d=Rn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ai(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var N=1<<31-pt(_);S.entanglements[1]|=N,_&=~N}wi(d),(Ge&6)===0&&(Ec=en()+500,El(0))}}break;case 31:case 13:S=Os(d,2),S!==null&&cn(S,d,2),Sc(),em(d,2)}if(d=nm(l),d===null&&Bd(t,i,l,kc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Bd(t,i,l,null,a)}}function nm(t){return t=Cn(t),im(t)}var kc=null;function im(t){if(kc=null,t=hi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return kc=t,null}function Tv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ps()){case Do:return 2;case No:return 8;case dr:case uf:return 32;case gu:return 268435456;default:return 32}default:return 32}}var rm=!1,jr=null,Br=null,qr=null,Cl=new Map,Il=new Map,Hr=[],G1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sv(t,i){switch(t){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":Cl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(i.pointerId)}}function Dl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Rn(i),i!==null&&vv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Q1(t,i,a,l,h){switch(i){case"focusin":return jr=Dl(jr,t,i,a,l,h),!0;case"dragenter":return Br=Dl(Br,t,i,a,l,h),!0;case"mouseover":return qr=Dl(qr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Cl.set(d,Dl(Cl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Il.set(d,Dl(Il.get(d)||null,t,i,a,l,h)),!0}return!1}function Av(t){var i=hi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){Ev(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){Ev(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=nm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);qo=l,a.target.dispatchEvent(l),qo=null}else return i=Rn(a),i!==null&&vv(i),t.blockedOn=a,!1;i.shift()}return!0}function bv(t,i,a){zc(t)&&a.delete(i)}function K1(){rm=!1,jr!==null&&zc(jr)&&(jr=null),Br!==null&&zc(Br)&&(Br=null),qr!==null&&zc(qr)&&(qr=null),Cl.forEach(bv),Il.forEach(bv)}function jc(t,i){t.blockedOn===i&&(t.blockedOn=null,rm||(rm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,K1)))}var Bc=null;function wv(t){Bc!==t&&(Bc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Bc===t&&(Bc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(im(l||a)===null)continue;break}var d=Rn(a);d!==null&&(t.splice(i,3),i-=3,nd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ya(t){function i(N){return jc(N,t)}jr!==null&&jc(jr,t),Br!==null&&jc(Br,t),qr!==null&&jc(qr,t),Cl.forEach(i),Il.forEach(i);for(var a=0;a<Hr.length;a++){var l=Hr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Hr.length&&(a=Hr[0],a.blockedOn===null);)Av(a),a.blockedOn===null&&Hr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Pt]||null;if(typeof d=="function")_||wv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Pt]||null)S=_.formAction;else if(im(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),wv(a)}}}function Rv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function sm(t){this._internalRoot=t}qc.prototype.render=sm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Sn();yv(a,l,t,i,null,null)},qc.prototype.unmount=sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;yv(t.current,2,null,t,null,null),Sc(),i[ui]=null}};function qc(t){this._internalRoot=t}qc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Su();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Hr.length&&i!==0&&i<Hr[a].priority;a++);Hr.splice(a,0,t),a===0&&Av(t)}};var Cv=e.version;if(Cv!=="19.2.2")throw Error(s(527,Cv,"19.2.2"));le.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Y1={bundleType:0,version:"19.2.2",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.2"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{qn=Hc.inject(Y1),jt=Hc}catch{}}return Ol.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=xy,d=Py,_=Ly;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=pv(t,1,!1,null,null,a,l,null,h,d,_,Rv),t[ui]=i.current,jd(t),new sm(i)},Ol.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=xy,_=Py,S=Ly,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=pv(t,1,!0,i,a??null,l,h,N,d,_,S,Rv),i.context=gv(null),a=i.current,l=Sn(),l=vs(l),h=Ir(l),h.callback=null,Dr(a,h,l),a=l,i.current.lanes=a,ys(i,a),wi(i),t[ui]=i.current,jd(t),new qc(i)},Ol.version="19.2.2",Ol}var Uv;function sb(){if(Uv)return lm.exports;Uv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),lm.exports=rb(),lm.exports}var ab=sb();var kv="popstate";function ob(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Cm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Gl(o)}return ub(e,n,null,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Bn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lb(){return Math.random().toString(36).substring(2,10)}function zv(r,e){return{usr:r.state,key:r.key,idx:e}}function Cm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?mo(e):e,state:n,key:e&&e.key||s||lb()}}function Gl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function mo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function ub(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let H=E(),te=H==null?null:H-y;y=H,p&&p({action:m,location:W.location,delta:te})}function w(H,te){m="PUSH";let ne=Cm(W.location,H,te);y=E()+1;let se=zv(ne,y),Re=W.createHref(ne);try{f.pushState(se,"",Re)}catch(_e){if(_e instanceof DOMException&&_e.name==="DataCloneError")throw _e;o.location.assign(Re)}u&&p&&p({action:m,location:W.location,delta:1})}function P(H,te){m="REPLACE";let ne=Cm(W.location,H,te);y=E();let se=zv(ne,y),Re=W.createHref(ne);f.replaceState(se,"",Re),u&&p&&p({action:m,location:W.location,delta:0})}function G(H){return cb(H)}let W={get action(){return m},get location(){return r(o,f)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(kv,T),p=H,()=>{o.removeEventListener(kv,T),p=null}},createHref(H){return e(o,H)},createURL:G,encodeLocation(H){let te=G(H);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:w,replace:P,go(H){return f.go(H)}};return W}function cb(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Gl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function RT(r,e,n="/"){return hb(r,e,n,!1)}function hb(r,e,n,s){let o=typeof e=="string"?mo(e):e,u=rr(o.pathname||"/",n);if(u==null)return null;let f=CT(r);fb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=Ab(u);m=Tb(f[p],y,s)}return m}function CT(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;lt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=nr([s,E.relativePath]),w=n.concat(E);f.children&&f.children.length>0&&(lt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),CT(f.children,e,w,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:vb(T,f.index),routesMeta:w})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of IT(f.path))u(f,m,!0,p)}),e}function IT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=IT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function fb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Eb(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var db=/^:[\w-]+$/,mb=3,pb=2,gb=1,yb=10,_b=-2,jv=r=>r==="*";function vb(r,e){let n=r.split("/"),s=n.length;return n.some(jv)&&(s+=_b),e&&(s+=pb),n.filter(o=>!jv(o)).reduce((o,u)=>o+(db.test(u)?mb:u===""?gb:yb),s)}function Eb(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Tb(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),w=p.route;if(!T&&y&&n&&!s[s.length-1].route.index&&(T=ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:nr([u,T.pathname]),pathnameBase:Cb(nr([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=nr([u,T.pathnameBase]))}return f}function ch(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Sb(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:T},w)=>{if(E==="*"){let G=m[w]||"";f=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const P=m[w];return T&&!P?y[E]=void 0:y[E]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function Sb(r,e=!1,n=!0){Bn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Ab(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function rr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var DT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bb=r=>DT.test(r);function wb(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?mo(r):r,u;if(n)if(bb(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Bn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=Bv(n.substring(1),"/"):u=Bv(n,e)}else u=e;return{pathname:u,search:Ib(s),hash:Db(o)}}function Bv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function fm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Rb(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ip(r){let e=Rb(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function rp(r,e,n,s=!1){let o;typeof r=="string"?o=mo(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),fm("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),fm("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),fm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?e[T]:"/"}let p=wb(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var nr=r=>r.join("/").replace(/\/\/+/g,"/"),Cb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Ib=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Db=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Nb=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Ob(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Mb(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var NT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function OT(r,e){let n=r;if(typeof n!="string"||!DT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(NT)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=rr(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{Bn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var MT=["POST","PUT","PATCH","DELETE"];new Set(MT);var Vb=["GET",...MT];new Set(Vb);var po=B.createContext(null);po.displayName="DataRouter";var xh=B.createContext(null);xh.displayName="DataRouterState";var xb=B.createContext(!1),VT=B.createContext({isTransitioning:!1});VT.displayName="ViewTransition";var Pb=B.createContext(new Map);Pb.displayName="Fetchers";var Lb=B.createContext(null);Lb.displayName="Await";var bn=B.createContext(null);bn.displayName="Navigation";var nu=B.createContext(null);nu.displayName="Location";var xi=B.createContext({outlet:null,matches:[],isDataRoute:!1});xi.displayName="Route";var sp=B.createContext(null);sp.displayName="RouteError";var xT="REACT_ROUTER_ERROR",Ub="REDIRECT",kb="ROUTE_ERROR_RESPONSE";function zb(r){if(r.startsWith(`${xT}:${Ub}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function jb(r){if(r.startsWith(`${xT}:${kb}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Nb(e.status,e.statusText,e.data)}catch{}}function Bb(r,{relative:e}={}){lt(go(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=B.useContext(bn),{hash:o,pathname:u,search:f}=iu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:nr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function go(){return B.useContext(nu)!=null}function cr(){return lt(go(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(nu).location}var PT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LT(r){B.useContext(bn).static||B.useLayoutEffect(r)}function Ph(){let{isDataRoute:r}=B.useContext(xi);return r?ew():qb()}function qb(){lt(go(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(po),{basename:e,navigator:n}=B.useContext(bn),{matches:s}=B.useContext(xi),{pathname:o}=cr(),u=JSON.stringify(ip(s)),f=B.useRef(!1);return LT(()=>{f.current=!0}),B.useCallback((p,y={})=>{if(Bn(f.current,PT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=rp(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:nr([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}B.createContext(null);function iu(r,{relative:e}={}){let{matches:n}=B.useContext(xi),{pathname:s}=cr(),o=JSON.stringify(ip(n));return B.useMemo(()=>rp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Hb(r,e){return UT(r,e)}function UT(r,e,n,s,o){lt(go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=B.useContext(bn),{matches:f}=B.useContext(xi),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let ne=T&&T.path||"";zT(y,!T||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let w=cr(),P;if(e){let ne=typeof e=="string"?mo(e):e;lt(E==="/"||ne.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),P=ne}else P=w;let G=P.pathname||"/",W=G;if(E!=="/"){let ne=E.replace(/^\//,"").split("/");W="/"+G.replace(/^\//,"").split("/").slice(ne.length).join("/")}let H=RT(r,{pathname:W});Bn(T||H!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Bn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let te=Yb(H&&H.map(ne=>Object.assign({},ne,{params:Object.assign({},p,ne.params),pathname:nr([E,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?E:nr([E,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),f,n,s,o);return e&&te?B.createElement(nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},te):te}function Fb(){let r=Wb(),e=Ob(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:o},n):null,f)}var Gb=B.createElement(Fb,null),kT=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=jb(r.digest);n&&(r=n)}let e=r!==void 0?B.createElement(xi.Provider,{value:this.props.routeContext},B.createElement(sp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?B.createElement(Qb,{error:r},e):e}};kT.contextType=xb;var dm=new WeakMap;function Qb({children:r,error:e}){let{basename:n}=B.useContext(bn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=zb(e.digest);if(s){let o=dm.get(e);if(o)throw o;let u=OT(s.location,n);if(NT&&!dm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw dm.set(e,f),f}return B.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function Kb({routeContext:r,match:e,children:n}){let s=B.useContext(po);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(xi.Provider,{value:r},n)}function Yb(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);lt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:w,errors:P}=n,G=T.route.loader&&!w.hasOwnProperty(T.route.id)&&(!P||P[T.route.id]===void 0);if(T.route.lazy||G){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let y=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Mb(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,w)=>{let P,G=!1,W=null,H=null;n&&(P=f&&T.route.id?f[T.route.id]:void 0,W=T.route.errorElement||Gb,m&&(p<0&&w===0?(zT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),G=!0,H=null):p===w&&(G=!0,H=T.route.hydrateFallbackElement||null)));let te=e.concat(u.slice(0,w+1)),ne=()=>{let se;return P?se=W:G?se=H:T.route.Component?se=B.createElement(T.route.Component,null):T.route.element?se=T.route.element:se=E,B.createElement(Kb,{match:T,routeContext:{outlet:E,matches:te,isDataRoute:n!=null},children:se})};return n&&(T.route.ErrorBoundary||T.route.errorElement||w===0)?B.createElement(kT,{location:n.location,revalidation:n.revalidation,component:W,error:P,children:ne(),routeContext:{outlet:null,matches:te,isDataRoute:!0},onError:y}):ne()},null)}function ap(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xb(r){let e=B.useContext(po);return lt(e,ap(r)),e}function $b(r){let e=B.useContext(xh);return lt(e,ap(r)),e}function Jb(r){let e=B.useContext(xi);return lt(e,ap(r)),e}function op(r){let e=Jb(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Zb(){return op("useRouteId")}function Wb(){let r=B.useContext(sp),e=$b("useRouteError"),n=op("useRouteError");return r!==void 0?r:e.errors?.[n]}function ew(){let{router:r}=Xb("useNavigate"),e=op("useNavigate"),n=B.useRef(!1);return LT(()=>{n.current=!0}),B.useCallback(async(o,u={})=>{Bn(n.current,PT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var qv={};function zT(r,e,n){!e&&!qv[r]&&(qv[r]=!0,Bn(!1,n))}B.memo(tw);function tw({routes:r,future:e,state:n,onError:s}){return UT(r,void 0,n,s,e)}function nw({to:r,replace:e,state:n,relative:s}){lt(go(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(bn);Bn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=B.useContext(xi),{pathname:f}=cr(),m=Ph(),p=rp(r,ip(u),f,s==="path"),y=JSON.stringify(p);return B.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:s})},[m,y,s,e,n]),null}function Jc(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){lt(!go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=B.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=mo(n));let{pathname:y="/",search:E="",hash:T="",state:w=null,key:P="default"}=n,G=B.useMemo(()=>{let W=rr(y,m);return W==null?null:{location:{pathname:W,search:E,hash:T,state:w,key:P},navigationType:s}},[m,y,E,T,w,P,s]);return Bn(G!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),G==null?null:B.createElement(bn.Provider,{value:p},B.createElement(nu.Provider,{children:e,value:G}))}function rw({children:r,location:e}){return Hb(Im(r),e)}function Im(r,e=[]){let n=[];return B.Children.forEach(r,(s,o)=>{if(!B.isValidElement(s))return;let u=[...e,o];if(s.type===B.Fragment){n.push.apply(n,Im(s.props.children,u));return}lt(s.type===Jc,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Im(s.props.children,u)),n.push(f)}),n}var Zc="get",Wc="application/x-www-form-urlencoded";function Lh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function sw(r){return Lh(r)&&r.tagName.toLowerCase()==="button"}function aw(r){return Lh(r)&&r.tagName.toLowerCase()==="form"}function ow(r){return Lh(r)&&r.tagName.toLowerCase()==="input"}function lw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function uw(r,e){return r.button===0&&(!e||e==="_self")&&!lw(r)}var Fc=null;function cw(){if(Fc===null)try{new FormData(document.createElement("form"),0),Fc=!1}catch{Fc=!0}return Fc}var hw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mm(r){return r!=null&&!hw.has(r)?(Bn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wc}"`),null):r}function fw(r,e){let n,s,o,u,f;if(aw(r)){let m=r.getAttribute("action");s=m?rr(m,e):null,n=r.getAttribute("method")||Zc,o=mm(r.getAttribute("enctype"))||Wc,u=new FormData(r)}else if(sw(r)||ow(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?rr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Zc,o=mm(r.getAttribute("formenctype"))||mm(m.getAttribute("enctype"))||Wc,u=new FormData(m,r),!cw()){let{name:y,type:E,value:T}=r;if(E==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,T)}}else{if(Lh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zc,s=null,o=Wc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function dw(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&rr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function mw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function gw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await mw(u,n);return f.links?f.links():[]}return[]}));return Ew(s.flat(1).filter(pw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Hv(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function yw(r,e,{includeHydrateFallback:n}={}){return _w(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function _w(r){return[...new Set(r)]}function vw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Ew(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(vw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function jT(){let r=B.useContext(po);return lp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Tw(){let r=B.useContext(xh);return lp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var up=B.createContext(void 0);up.displayName="FrameworkContext";function BT(){let r=B.useContext(up);return lp(r,"You must render this element inside a <HydratedRouter> element"),r}function Sw(r,e){let n=B.useContext(up),[s,o]=B.useState(!1),[u,f]=B.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=e,w=B.useRef(null);B.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let W=te=>{te.forEach(ne=>{f(ne.isIntersecting)})},H=new IntersectionObserver(W,{threshold:.5});return w.current&&H.observe(w.current),()=>{H.disconnect()}}},[r]),B.useEffect(()=>{if(s){let W=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(W)}}},[s]);let P=()=>{o(!0)},G=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Ml(m,P),onBlur:Ml(p,G),onMouseEnter:Ml(y,P),onMouseLeave:Ml(E,G),onTouchStart:Ml(T,P)}]:[!1,w,{}]}function Ml(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Aw({page:r,...e}){let{router:n}=jT(),s=B.useMemo(()=>RT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?B.createElement(ww,{page:r,matches:s,...e}):null}function bw(r){let{manifest:e,routeModules:n}=BT(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return gw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function ww({page:r,matches:e,...n}){let s=cr(),{manifest:o,routeModules:u}=BT(),{basename:f}=jT(),{loaderData:m,matches:p}=Tw(),y=B.useMemo(()=>Hv(r,e,p,o,s,"data"),[r,e,p,o,s]),E=B.useMemo(()=>Hv(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=B.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let G=new Set,W=!1;if(e.forEach(te=>{let ne=o.routes[te.route.id];!ne||!ne.hasLoader||(!y.some(se=>se.route.id===te.route.id)&&te.route.id in m&&u[te.route.id]?.shouldRevalidate||ne.hasClientLoader?W=!0:G.add(te.route.id))}),G.size===0)return[];let H=dw(r,f,"data");return W&&G.size>0&&H.searchParams.set("_routes",e.filter(te=>G.has(te.route.id)).map(te=>te.route.id).join(",")),[H.pathname+H.search]},[f,m,s,o,y,e,r,u]),w=B.useMemo(()=>yw(E,o),[E,o]),P=bw(E);return B.createElement(B.Fragment,null,T.map(G=>B.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...n})),w.map(G=>B.createElement("link",{key:G,rel:"modulepreload",href:G,...n})),P.map(({key:G,link:W})=>B.createElement("link",{key:G,nonce:n.nonce,...W})))}function Rw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Cw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Cw&&(window.__reactRouterVersion="7.11.0")}catch{}function Iw({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=B.useRef();o.current==null&&(o.current=ob({window:s,v5Compat:!0}));let u=o.current,[f,m]=B.useState({action:u.action,location:u.location}),p=B.useCallback(y=>{n===!1?m(y):B.startTransition(()=>m(y))},[n]);return B.useLayoutEffect(()=>u.listen(p),[u,p]),B.createElement(iw,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var qT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cp=B.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:w,...P},G){let{basename:W,unstable_useTransitions:H}=B.useContext(bn),te=typeof y=="string"&&qT.test(y),ne=OT(y,W);y=ne.to;let se=Bb(y,{relative:o}),[Re,_e,Te]=Sw(s,P),D=Mw(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:w,unstable_useTransitions:H});function b(O){e&&e(O),O.defaultPrevented||D(O)}let R=B.createElement("a",{...P,...Te,href:ne.absoluteURL||se,onClick:ne.isExternal||u?e:b,ref:Rw(G,_e),target:p,"data-discover":!te&&n==="render"?"true":void 0});return Re&&!te?B.createElement(B.Fragment,null,R,B.createElement(Aw,{page:se})):R});cp.displayName="Link";var Dw=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let T=iu(f,{relative:y.relative}),w=cr(),P=B.useContext(xh),{navigator:G,basename:W}=B.useContext(bn),H=P!=null&&Uw(T)&&m===!0,te=G.encodeLocation?G.encodeLocation(T).pathname:T.pathname,ne=w.pathname,se=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),se=se?se.toLowerCase():null,te=te.toLowerCase()),se&&W&&(se=rr(se,W)||se);const Re=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let _e=ne===te||!o&&ne.startsWith(te)&&ne.charAt(Re)==="/",Te=se!=null&&(se===te||!o&&se.startsWith(te)&&se.charAt(te.length)==="/"),D={isActive:_e,isPending:Te,isTransitioning:H},b=_e?e:void 0,R;typeof s=="function"?R=s(D):R=[s,_e?"active":null,Te?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(D):u;return B.createElement(cp,{...y,"aria-current":b,className:R,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(D):p)});Dw.displayName="NavLink";var Nw=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Zc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:w,...P},G)=>{let{unstable_useTransitions:W}=B.useContext(bn),H=Pw(),te=Lw(m,{relative:y}),ne=f.toLowerCase()==="get"?"get":"post",se=typeof m=="string"&&qT.test(m),Re=_e=>{if(p&&p(_e),_e.defaultPrevented)return;_e.preventDefault();let Te=_e.nativeEvent.submitter,D=Te?.getAttribute("formmethod")||f,b=()=>H(Te||_e.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:w});W&&n!==!1?B.startTransition(()=>b()):b()};return B.createElement("form",{ref:G,method:ne,action:te,onSubmit:s?p:Re,...P,"data-discover":!se&&r==="render"?"true":void 0})});Nw.displayName="Form";function Ow(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HT(r){let e=B.useContext(po);return lt(e,Ow(r)),e}function Mw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let y=Ph(),E=cr(),T=iu(r,{relative:u});return B.useCallback(w=>{if(uw(w,e)){w.preventDefault();let P=n!==void 0?n:Gl(E)===Gl(T),G=()=>y(r,{replace:P,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?B.startTransition(()=>G()):G()}},[E,y,T,n,s,e,r,o,u,f,m,p])}var Vw=0,xw=()=>`__${String(++Vw)}__`;function Pw(){let{router:r}=HT("useSubmit"),{basename:e}=B.useContext(bn),n=Zb(),s=r.fetch,o=r.navigate;return B.useCallback(async(u,f={})=>{let{action:m,method:p,encType:y,formData:E,body:T}=fw(u,e);if(f.navigate===!1){let w=f.fetcherKey||xw();await s(w,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function Lw(r,{relative:e}={}){let{basename:n}=B.useContext(bn),s=B.useContext(xi);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...iu(r||".",{relative:e})},f=cr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:nr([n,u.pathname])),Gl(u)}function Uw(r,{relative:e}={}){let n=B.useContext(VT);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=HT("useViewTransitionState"),o=iu(r,{relative:e});if(!n.isTransitioning)return!1;let u=rr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=rr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ch(o.pathname,f)!=null||ch(o.pathname,u)!=null}const kw=()=>{};var Fv={};const FT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},zw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},GT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,P=y&63;p||(P=64,f||(w=64)),s.push(n[E],n[T],n[w],n[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(FT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):zw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new jw;const w=u<<2|m>>4;if(s.push(w),y!==64){const P=m<<4&240|y>>2;if(s.push(P),T!==64){const G=y<<6&192|T;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class jw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bw=function(r){const e=FT(r);return GT.encodeByteArray(e,!0)},hh=function(r){return Bw(r).replace(/\./g,"")},QT=function(r){try{return GT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Hw=()=>qw().__FIREBASE_DEFAULTS__,Fw=()=>{if(typeof process>"u"||typeof Fv>"u")return;const r=Fv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Gw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&QT(r[1]);return e&&JSON.parse(e)},Uh=()=>{try{return kw()||Hw()||Fw()||Gw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},KT=r=>Uh()?.emulatorHosts?.[r],Qw=r=>{const e=KT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},YT=()=>Uh()?.config,XT=r=>Uh()?.[`_${r}`];class Kw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function yo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $T(r){return(await fetch(r,{credentials:"include"})).ok}function Yw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[hh(JSON.stringify(n)),hh(JSON.stringify(f)),""].join(".")}const zl={};function Xw(){const r={prod:[],emulator:[]};for(const e of Object.keys(zl))zl[e]?r.emulator.push(e):r.prod.push(e);return r}function $w(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Gv=!1;function JT(r,e){if(typeof window>"u"||typeof document>"u"||!yo(window.location.host)||zl[r]===e||zl[r]||Gv)return;zl[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=Xw().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,P){w.setAttribute("width","24"),w.setAttribute("id",P),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Gv=!0,f()},w}function E(w,P){w.setAttribute("id",P),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=$w(s),P=n("text"),G=document.getElementById(P)||document.createElement("span"),W=n("learnmore"),H=document.getElementById(W)||document.createElement("a"),te=n("preprendIcon"),ne=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const se=w.element;m(se),E(H,W);const Re=y();p(ne,te),se.append(ne,G,H,Re),document.body.appendChild(se)}u?(G.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Jw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function Zw(){const r=Uh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ww(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function tR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nR(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function iR(){return!Zw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rR(){try{return typeof indexedDB=="object"}catch{return!1}}function sR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const aR="FirebaseError";class hr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=aR,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ru.prototype.create)}}class ru{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?oR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new hr(o,m,s)}}function oR(r,e){return r.replace(lR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const lR=/\{\$([^}]+)}/g;function uR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Js(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Qv(u)&&Qv(f)){if(!Js(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Qv(r){return r!==null&&typeof r=="object"}function su(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Vl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function xl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function cR(r,e){const n=new hR(r,e);return n.subscribe.bind(n)}class hR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");fR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=pm),o.error===void 0&&(o.error=pm),o.complete===void 0&&(o.complete=pm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function pm(){}function zt(r){return r&&r._delegate?r._delegate:r}class Zs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fs="[DEFAULT]";class dR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Kw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pR(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:mR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mR(r){return r===Fs?void 0:r}function pR(r){return r.instantiationMode==="EAGER"}class gR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const yR={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},_R=Pe.INFO,vR={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},ER=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=vR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hp{constructor(e){this.name=e,this._logLevel=_R,this._logHandler=ER,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const TR=(r,e)=>e.some(n=>r instanceof n);let Kv,Yv;function SR(){return Kv||(Kv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AR(){return Yv||(Yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZT=new WeakMap,Dm=new WeakMap,WT=new WeakMap,gm=new WeakMap,fp=new WeakMap;function bR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Jr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&ZT.set(n,r)}).catch(()=>{}),fp.set(e,r),e}function wR(r){if(Dm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Dm.set(r,e)}let Nm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Dm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||WT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function RR(r){Nm=r(Nm)}function CR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(ym(this),e,...n);return WT.set(s,e.sort?e.sort():[e]),Jr(s)}:AR().includes(r)?function(...e){return r.apply(ym(this),e),Jr(ZT.get(this))}:function(...e){return Jr(r.apply(ym(this),e))}}function IR(r){return typeof r=="function"?CR(r):(r instanceof IDBTransaction&&wR(r),TR(r,SR())?new Proxy(r,Nm):r)}function Jr(r){if(r instanceof IDBRequest)return bR(r);if(gm.has(r))return gm.get(r);const e=IR(r);return e!==r&&(gm.set(r,e),fp.set(e,r)),e}const ym=r=>fp.get(r);function DR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Jr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Jr(f.result),p.oldVersion,p.newVersion,Jr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const NR=["get","getKey","getAll","getAllKeys","count"],OR=["put","add","delete","clear"],_m=new Map;function Xv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(_m.get(e))return _m.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=OR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||NR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return _m.set(e,u),u}RR(r=>({...r,get:(e,n,s)=>Xv(e,n)||r.get(e,n,s),has:(e,n)=>!!Xv(e,n)||r.has(e,n)}));class MR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function VR(r){return r.getComponent()?.type==="VERSION"}const Om="@firebase/app",$v="0.14.6";const sr=new hp("@firebase/app"),xR="@firebase/app-compat",PR="@firebase/analytics-compat",LR="@firebase/analytics",UR="@firebase/app-check-compat",kR="@firebase/app-check",zR="@firebase/auth",jR="@firebase/auth-compat",BR="@firebase/database",qR="@firebase/data-connect",HR="@firebase/database-compat",FR="@firebase/functions",GR="@firebase/functions-compat",QR="@firebase/installations",KR="@firebase/installations-compat",YR="@firebase/messaging",XR="@firebase/messaging-compat",$R="@firebase/performance",JR="@firebase/performance-compat",ZR="@firebase/remote-config",WR="@firebase/remote-config-compat",eC="@firebase/storage",tC="@firebase/storage-compat",nC="@firebase/firestore",iC="@firebase/ai",rC="@firebase/firestore-compat",sC="firebase",aC="12.6.0";const Mm="[DEFAULT]",oC={[Om]:"fire-core",[xR]:"fire-core-compat",[LR]:"fire-analytics",[PR]:"fire-analytics-compat",[kR]:"fire-app-check",[UR]:"fire-app-check-compat",[zR]:"fire-auth",[jR]:"fire-auth-compat",[BR]:"fire-rtdb",[qR]:"fire-data-connect",[HR]:"fire-rtdb-compat",[FR]:"fire-fn",[GR]:"fire-fn-compat",[QR]:"fire-iid",[KR]:"fire-iid-compat",[YR]:"fire-fcm",[XR]:"fire-fcm-compat",[$R]:"fire-perf",[JR]:"fire-perf-compat",[ZR]:"fire-rc",[WR]:"fire-rc-compat",[eC]:"fire-gcs",[tC]:"fire-gcs-compat",[nC]:"fire-fst",[rC]:"fire-fst-compat",[iC]:"fire-vertex","fire-js":"fire-js",[sC]:"fire-js-all"};const fh=new Map,lC=new Map,Vm=new Map;function Jv(r,e){try{r.container.addComponent(e)}catch(n){sr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function so(r){const e=r.name;if(Vm.has(e))return sr.debug(`There were multiple attempts to register component ${e}.`),!1;Vm.set(e,r);for(const n of fh.values())Jv(n,r);for(const n of lC.values())Jv(n,r);return!0}function dp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ei(r){return r==null?!1:r.settings!==void 0}const uC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new ru("app","Firebase",uC);class cC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}const _o=aC;function e0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Mm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Zr.create("bad-app-name",{appName:String(o)});if(n||(n=YT()),!n)throw Zr.create("no-options");const u=fh.get(o);if(u){if(Js(n,u.options)&&Js(s,u.config))return u;throw Zr.create("duplicate-app",{appName:o})}const f=new gR(o);for(const p of Vm.values())f.addComponent(p);const m=new cC(n,s,f);return fh.set(o,m),m}function t0(r=Mm){const e=fh.get(r);if(!e&&r===Mm&&YT())return e0();if(!e)throw Zr.create("no-app",{appName:r});return e}function Wr(r,e,n){let s=oC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sr.warn(f.join(" "));return}so(new Zs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const hC="firebase-heartbeat-database",fC=1,Ql="firebase-heartbeat-store";let vm=null;function n0(){return vm||(vm=DR(hC,fC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ql)}catch(n){console.warn(n)}}}}).catch(r=>{throw Zr.create("idb-open",{originalErrorMessage:r.message})})),vm}async function dC(r){try{const n=(await n0()).transaction(Ql),s=await n.objectStore(Ql).get(i0(r));return await n.done,s}catch(e){if(e instanceof hr)sr.warn(e.message);else{const n=Zr.create("idb-get",{originalErrorMessage:e?.message});sr.warn(n.message)}}}async function Zv(r,e){try{const s=(await n0()).transaction(Ql,"readwrite");await s.objectStore(Ql).put(e,i0(r)),await s.done}catch(n){if(n instanceof hr)sr.warn(n.message);else{const s=Zr.create("idb-set",{originalErrorMessage:n?.message});sr.warn(s.message)}}}function i0(r){return`${r.name}!${r.options.appId}`}const mC=1024,pC=30;class gC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _C(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Wv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>pC){const o=vC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){sr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Wv(),{heartbeatsToSend:n,unsentEntries:s}=yC(this._heartbeatsCache.heartbeats),o=hh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return sr.warn(e),""}}}function Wv(){return new Date().toISOString().substring(0,10)}function yC(r,e=mC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),eE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),eE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class _C{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rR()?sR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Zv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Zv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function eE(r){return hh(JSON.stringify({version:2,heartbeats:r})).length}function vC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function EC(r){so(new Zs("platform-logger",e=>new MR(e),"PRIVATE")),so(new Zs("heartbeat",e=>new gC(e),"PRIVATE")),Wr(Om,$v,r),Wr(Om,$v,"esm2020"),Wr("fire-js","")}EC("");var tE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var es,r0;(function(){var r;function e(D,b){function R(){}R.prototype=b.prototype,D.F=b.prototype,D.prototype=new R,D.prototype.constructor=D,D.D=function(O,M,L){for(var I=Array(arguments.length-2),He=2;He<arguments.length;He++)I[He-2]=arguments[He];return b.prototype[M].apply(O,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,b,R){R||(R=0);const O=Array(16);if(typeof b=="string")for(var M=0;M<16;++M)O[M]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(M=0;M<16;++M)O[M]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=D.g[0],R=D.g[1],M=D.g[2];let L=D.g[3],I;I=b+(L^R&(M^L))+O[0]+3614090360&4294967295,b=R+(I<<7&4294967295|I>>>25),I=L+(M^b&(R^M))+O[1]+3905402710&4294967295,L=b+(I<<12&4294967295|I>>>20),I=M+(R^L&(b^R))+O[2]+606105819&4294967295,M=L+(I<<17&4294967295|I>>>15),I=R+(b^M&(L^b))+O[3]+3250441966&4294967295,R=M+(I<<22&4294967295|I>>>10),I=b+(L^R&(M^L))+O[4]+4118548399&4294967295,b=R+(I<<7&4294967295|I>>>25),I=L+(M^b&(R^M))+O[5]+1200080426&4294967295,L=b+(I<<12&4294967295|I>>>20),I=M+(R^L&(b^R))+O[6]+2821735955&4294967295,M=L+(I<<17&4294967295|I>>>15),I=R+(b^M&(L^b))+O[7]+4249261313&4294967295,R=M+(I<<22&4294967295|I>>>10),I=b+(L^R&(M^L))+O[8]+1770035416&4294967295,b=R+(I<<7&4294967295|I>>>25),I=L+(M^b&(R^M))+O[9]+2336552879&4294967295,L=b+(I<<12&4294967295|I>>>20),I=M+(R^L&(b^R))+O[10]+4294925233&4294967295,M=L+(I<<17&4294967295|I>>>15),I=R+(b^M&(L^b))+O[11]+2304563134&4294967295,R=M+(I<<22&4294967295|I>>>10),I=b+(L^R&(M^L))+O[12]+1804603682&4294967295,b=R+(I<<7&4294967295|I>>>25),I=L+(M^b&(R^M))+O[13]+4254626195&4294967295,L=b+(I<<12&4294967295|I>>>20),I=M+(R^L&(b^R))+O[14]+2792965006&4294967295,M=L+(I<<17&4294967295|I>>>15),I=R+(b^M&(L^b))+O[15]+1236535329&4294967295,R=M+(I<<22&4294967295|I>>>10),I=b+(M^L&(R^M))+O[1]+4129170786&4294967295,b=R+(I<<5&4294967295|I>>>27),I=L+(R^M&(b^R))+O[6]+3225465664&4294967295,L=b+(I<<9&4294967295|I>>>23),I=M+(b^R&(L^b))+O[11]+643717713&4294967295,M=L+(I<<14&4294967295|I>>>18),I=R+(L^b&(M^L))+O[0]+3921069994&4294967295,R=M+(I<<20&4294967295|I>>>12),I=b+(M^L&(R^M))+O[5]+3593408605&4294967295,b=R+(I<<5&4294967295|I>>>27),I=L+(R^M&(b^R))+O[10]+38016083&4294967295,L=b+(I<<9&4294967295|I>>>23),I=M+(b^R&(L^b))+O[15]+3634488961&4294967295,M=L+(I<<14&4294967295|I>>>18),I=R+(L^b&(M^L))+O[4]+3889429448&4294967295,R=M+(I<<20&4294967295|I>>>12),I=b+(M^L&(R^M))+O[9]+568446438&4294967295,b=R+(I<<5&4294967295|I>>>27),I=L+(R^M&(b^R))+O[14]+3275163606&4294967295,L=b+(I<<9&4294967295|I>>>23),I=M+(b^R&(L^b))+O[3]+4107603335&4294967295,M=L+(I<<14&4294967295|I>>>18),I=R+(L^b&(M^L))+O[8]+1163531501&4294967295,R=M+(I<<20&4294967295|I>>>12),I=b+(M^L&(R^M))+O[13]+2850285829&4294967295,b=R+(I<<5&4294967295|I>>>27),I=L+(R^M&(b^R))+O[2]+4243563512&4294967295,L=b+(I<<9&4294967295|I>>>23),I=M+(b^R&(L^b))+O[7]+1735328473&4294967295,M=L+(I<<14&4294967295|I>>>18),I=R+(L^b&(M^L))+O[12]+2368359562&4294967295,R=M+(I<<20&4294967295|I>>>12),I=b+(R^M^L)+O[5]+4294588738&4294967295,b=R+(I<<4&4294967295|I>>>28),I=L+(b^R^M)+O[8]+2272392833&4294967295,L=b+(I<<11&4294967295|I>>>21),I=M+(L^b^R)+O[11]+1839030562&4294967295,M=L+(I<<16&4294967295|I>>>16),I=R+(M^L^b)+O[14]+4259657740&4294967295,R=M+(I<<23&4294967295|I>>>9),I=b+(R^M^L)+O[1]+2763975236&4294967295,b=R+(I<<4&4294967295|I>>>28),I=L+(b^R^M)+O[4]+1272893353&4294967295,L=b+(I<<11&4294967295|I>>>21),I=M+(L^b^R)+O[7]+4139469664&4294967295,M=L+(I<<16&4294967295|I>>>16),I=R+(M^L^b)+O[10]+3200236656&4294967295,R=M+(I<<23&4294967295|I>>>9),I=b+(R^M^L)+O[13]+681279174&4294967295,b=R+(I<<4&4294967295|I>>>28),I=L+(b^R^M)+O[0]+3936430074&4294967295,L=b+(I<<11&4294967295|I>>>21),I=M+(L^b^R)+O[3]+3572445317&4294967295,M=L+(I<<16&4294967295|I>>>16),I=R+(M^L^b)+O[6]+76029189&4294967295,R=M+(I<<23&4294967295|I>>>9),I=b+(R^M^L)+O[9]+3654602809&4294967295,b=R+(I<<4&4294967295|I>>>28),I=L+(b^R^M)+O[12]+3873151461&4294967295,L=b+(I<<11&4294967295|I>>>21),I=M+(L^b^R)+O[15]+530742520&4294967295,M=L+(I<<16&4294967295|I>>>16),I=R+(M^L^b)+O[2]+3299628645&4294967295,R=M+(I<<23&4294967295|I>>>9),I=b+(M^(R|~L))+O[0]+4096336452&4294967295,b=R+(I<<6&4294967295|I>>>26),I=L+(R^(b|~M))+O[7]+1126891415&4294967295,L=b+(I<<10&4294967295|I>>>22),I=M+(b^(L|~R))+O[14]+2878612391&4294967295,M=L+(I<<15&4294967295|I>>>17),I=R+(L^(M|~b))+O[5]+4237533241&4294967295,R=M+(I<<21&4294967295|I>>>11),I=b+(M^(R|~L))+O[12]+1700485571&4294967295,b=R+(I<<6&4294967295|I>>>26),I=L+(R^(b|~M))+O[3]+2399980690&4294967295,L=b+(I<<10&4294967295|I>>>22),I=M+(b^(L|~R))+O[10]+4293915773&4294967295,M=L+(I<<15&4294967295|I>>>17),I=R+(L^(M|~b))+O[1]+2240044497&4294967295,R=M+(I<<21&4294967295|I>>>11),I=b+(M^(R|~L))+O[8]+1873313359&4294967295,b=R+(I<<6&4294967295|I>>>26),I=L+(R^(b|~M))+O[15]+4264355552&4294967295,L=b+(I<<10&4294967295|I>>>22),I=M+(b^(L|~R))+O[6]+2734768916&4294967295,M=L+(I<<15&4294967295|I>>>17),I=R+(L^(M|~b))+O[13]+1309151649&4294967295,R=M+(I<<21&4294967295|I>>>11),I=b+(M^(R|~L))+O[4]+4149444226&4294967295,b=R+(I<<6&4294967295|I>>>26),I=L+(R^(b|~M))+O[11]+3174756917&4294967295,L=b+(I<<10&4294967295|I>>>22),I=M+(b^(L|~R))+O[2]+718787259&4294967295,M=L+(I<<15&4294967295|I>>>17),I=R+(L^(M|~b))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+L&4294967295}s.prototype.v=function(D,b){b===void 0&&(b=D.length);const R=b-this.blockSize,O=this.C;let M=this.h,L=0;for(;L<b;){if(M==0)for(;L<=R;)o(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<b;)if(O[M++]=D.charCodeAt(L++),M==this.blockSize){o(this,O),M=0;break}}else for(;L<b;)if(O[M++]=D[L++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=b},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;b=this.o*8;for(var R=D.length-8;R<D.length;++R)D[R]=b&255,b/=256;for(this.v(D),D=Array(16),b=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)D[b++]=this.g[R]>>>O&255;return D};function u(D,b){var R=m;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=b(D)}function f(D,b){this.h=b;const R=[];let O=!0;for(let M=D.length-1;M>=0;M--){const L=D[M]|0;O&&L==b||(R[M]=L,O=!1)}this.g=R}var m={};function p(D){return-128<=D&&D<128?u(D,function(b){return new f([b|0],b<0?-1:0)}):new f([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return T;if(D<0)return H(y(-D));const b=[];let R=1;for(let O=0;D>=R;O++)b[O]=D/R|0,R*=4294967296;return new f(b,0)}function E(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return H(E(D.substring(1),b));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(b,8));let O=T;for(let L=0;L<D.length;L+=8){var M=Math.min(8,D.length-L);const I=parseInt(D.substring(L,L+M),b);M<8?(M=y(Math.pow(b,M)),O=O.j(M).add(y(I))):(O=O.j(R),O=O.add(y(I)))}return O}var T=p(0),w=p(1),P=p(16777216);r=f.prototype,r.m=function(){if(W(this))return-H(this).m();let D=0,b=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);D+=(O>=0?O:4294967296+O)*b,b*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(G(this))return"0";if(W(this))return"-"+H(this).toString(D);const b=y(Math.pow(D,6));var R=this;let O="";for(;;){const M=Re(R,b).g;R=te(R,M.j(b));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(D);if(R=M,G(R))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function G(D){if(D.h!=0)return!1;for(let b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function W(D){return D.h==-1}r.l=function(D){return D=te(this,D),W(D)?-1:G(D)?0:1};function H(D){const b=D.g.length,R=[];for(let O=0;O<b;O++)R[O]=~D.g[O];return new f(R,~D.h).add(w)}r.abs=function(){return W(this)?H(this):this},r.add=function(D){const b=Math.max(this.g.length,D.g.length),R=[];let O=0;for(let M=0;M<=b;M++){let L=O+(this.i(M)&65535)+(D.i(M)&65535),I=(L>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);O=I>>>16,L&=65535,I&=65535,R[M]=I<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function te(D,b){return D.add(H(b))}r.j=function(D){if(G(this)||G(D))return T;if(W(this))return W(D)?H(this).j(H(D)):H(H(this).j(D));if(W(D))return H(this.j(H(D)));if(this.l(P)<0&&D.l(P)<0)return y(this.m()*D.m());const b=this.g.length+D.g.length,R=[];for(var O=0;O<2*b;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let M=0;M<D.g.length;M++){const L=this.i(O)>>>16,I=this.i(O)&65535,He=D.i(M)>>>16,ut=D.i(M)&65535;R[2*O+2*M]+=I*ut,ne(R,2*O+2*M),R[2*O+2*M+1]+=L*ut,ne(R,2*O+2*M+1),R[2*O+2*M+1]+=I*He,ne(R,2*O+2*M+1),R[2*O+2*M+2]+=L*He,ne(R,2*O+2*M+2)}for(D=0;D<b;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=b;D<2*b;D++)R[D]=0;return new f(R,0)};function ne(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function se(D,b){this.g=D,this.h=b}function Re(D,b){if(G(b))throw Error("division by zero");if(G(D))return new se(T,T);if(W(D))return b=Re(H(D),b),new se(H(b.g),H(b.h));if(W(b))return b=Re(D,H(b)),new se(H(b.g),b.h);if(D.g.length>30){if(W(D)||W(b))throw Error("slowDivide_ only works with positive integers.");for(var R=w,O=b;O.l(D)<=0;)R=_e(R),O=_e(O);var M=Te(R,1),L=Te(O,1);for(O=Te(O,2),R=Te(R,2);!G(O);){var I=L.add(O);I.l(D)<=0&&(M=M.add(R),L=I),O=Te(O,1),R=Te(R,1)}return b=te(D,M.j(b)),new se(M,b)}for(M=T;D.l(b)>=0;){for(R=Math.max(1,Math.floor(D.m()/b.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=y(R),I=L.j(b);W(I)||I.l(D)>0;)R-=O,L=y(R),I=L.j(b);G(L)&&(L=w),M=M.add(L),D=te(D,I)}return new se(M,D)}r.B=function(D){return Re(this,D).h},r.and=function(D){const b=Math.max(this.g.length,D.g.length),R=[];for(let O=0;O<b;O++)R[O]=this.i(O)&D.i(O);return new f(R,this.h&D.h)},r.or=function(D){const b=Math.max(this.g.length,D.g.length),R=[];for(let O=0;O<b;O++)R[O]=this.i(O)|D.i(O);return new f(R,this.h|D.h)},r.xor=function(D){const b=Math.max(this.g.length,D.g.length),R=[];for(let O=0;O<b;O++)R[O]=this.i(O)^D.i(O);return new f(R,this.h^D.h)};function _e(D){const b=D.g.length+1,R=[];for(let O=0;O<b;O++)R[O]=D.i(O)<<1|D.i(O-1)>>>31;return new f(R,D.h)}function Te(D,b){const R=b>>5;b%=32;const O=D.g.length-R,M=[];for(let L=0;L<O;L++)M[L]=b>0?D.i(L+R)>>>b|D.i(L+R+1)<<32-b:D.i(L+R);return new f(M,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,r0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,es=f}).apply(typeof tE<"u"?tE:typeof self<"u"?self:typeof window<"u"?window:{});var Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var s0,Pl,a0,eh,xm,o0,l0,u0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gc=="object"&&Gc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in v))break e;v=v[U]}c=c[c.length-1],A=v[c],g=g(A),g!=A&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&v.push([A,g[A]]);return v}});var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,v){return c.call.apply(c.bind,arguments)}function y(c,g,v){return y=p,y.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,U,q){for(var oe=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)oe[Ce-2]=arguments[Ce];return g.prototype[U].apply(A,oe)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const g=c.length;if(g>0){const v=Array(g);for(let A=0;A<g;A++)v[A]=c[A];return v}return[]}function G(c,g){for(let A=1;A<arguments.length;A++){const U=arguments[A];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const q=U.length||0;c.length=v+q;for(let oe=0;oe<q;oe++)c[v+oe]=U[oe]}else c.push(U)}}class W{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function H(c){f.setTimeout(()=>{throw c},0)}function te(){var c=D;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ne{constructor(){this.h=this.g=null}add(g,v){const A=se.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var se=new W(()=>new Re,c=>c.reset());class Re{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,Te=!1,D=new ne,b=()=>{const c=Promise.resolve(void 0);_e=()=>{c.then(R)}};function R(){for(var c;c=te();){try{c.h.call(c.g)}catch(v){H(v)}var g=se;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}Te=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function He(c,g){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}T(He,M),He.prototype.init=function(c,g){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&He.Z.h.call(this)},He.prototype.h=function(){He.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ut="closure_listenable_"+(Math.random()*1e6|0),Y=0;function le(c,g,v,A,U){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=U,this.key=++Y,this.da=this.fa=!1}function de(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ke(c,g,v){for(const A in c)g.call(v,c[A],A,c)}function ae(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function C(c){const g={};for(const v in c)g[v]=c[v];return g}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(c,g){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)c[v]=A[v];for(let q=0;q<K.length;q++)v=K[q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ie(c){this.src=c,this.g={},this.h=0}ie.prototype.add=function(c,g,v,A,U){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const oe=Se(c,g,A,U);return oe>-1?(g=c[oe],v||(g.fa=!1)):(g=new le(g,this.src,q,!!A,U),g.fa=v,c.push(g)),g};function ge(c,g){const v=g.type;if(v in c.g){var A=c.g[v],U=Array.prototype.indexOf.call(A,g,void 0),q;(q=U>=0)&&Array.prototype.splice.call(A,U,1),q&&(de(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Se(c,g,v,A){for(let U=0;U<c.length;++U){const q=c[U];if(!q.da&&q.listener==g&&q.capture==!!v&&q.ha==A)return U}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),mt={};function st(c,g,v,A,U){if(Array.isArray(g)){for(let q=0;q<g.length;q++)st(c,g[q],v,A,U);return null}return v=Io(v),c&&c[ut]?c.J(g,v,m(A)?!!A.capture:!1,U):ds(c,g,v,!1,A,U)}function ds(c,g,v,A,U,q){if(!g)throw Error("Invalid event type");const oe=m(U)?!!U.capture:!!U;let Ce=ms(c);if(Ce||(c[Me]=Ce=new ie(c)),v=Ce.add(g,v,A,oe,q),v.proxy)return v;if(A=sa(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)L||(U=oe),U===void 0&&(U=!1),c.addEventListener(g.toString(),A,U);else if(c.attachEvent)c.attachEvent(ri(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function sa(){function c(v){return g.call(c.src,c.listener,v)}const g=Ro;return c}function aa(c,g,v,A,U){if(Array.isArray(g))for(var q=0;q<g.length;q++)aa(c,g[q],v,A,U);else A=m(A)?!!A.capture:!!A,v=Io(v),c&&c[ut]?(c=c.i,q=String(g).toString(),q in c.g&&(g=c.g[q],v=Se(g,v,A,U),v>-1&&(de(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[q],c.h--)))):c&&(c=ms(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Se(g,v,A,U)),(v=c>-1?g[c]:null)&&oa(v))}function oa(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ut])ge(g.i,c);else{var v=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(v,A,c.capture):g.detachEvent?g.detachEvent(ri(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=ms(g))?(ge(v,c),v.h==0&&(v.src=null,g[Me]=null)):de(c)}}}function ri(c){return c in mt?mt[c]:mt[c]="on"+c}function Ro(c,g){if(c.da)c=!0;else{g=new He(g,this);const v=c.listener,A=c.ha||c.src;c.fa&&oa(c),c=v.call(A,g)}return c}function ms(c){return c=c[Me],c instanceof ie?c:null}var Co="__closure_events_fn_"+(Math.random()*1e9>>>0);function Io(c){return typeof c=="function"?c:(c[Co]||(c[Co]=function(g){return c.handleEvent(g)}),c[Co])}function Et(){O.call(this),this.i=new ie(this),this.M=this,this.G=null}T(Et,O),Et.prototype[ut]=!0,Et.prototype.removeEventListener=function(c,g,v,A){aa(this,c,g,v,A)};function Mt(c,g){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new M(g,c);else if(g instanceof M)g.target=g.target||c;else{var U=g;g=new M(A,c),re(g,U)}U=!0;let q,oe;if(v)for(oe=v.length-1;oe>=0;oe--)q=g.g=v[oe],U=fr(q,A,!0,g)&&U;if(q=g.g=c,U=fr(q,A,!0,g)&&U,U=fr(q,A,!1,g)&&U,v)for(oe=0;oe<v.length;oe++)q=g.g=v[oe],U=fr(q,A,!1,g)&&U}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let A=0;A<v.length;A++)de(v[A]);delete c.g[g],c.h--}}this.G=null},Et.prototype.J=function(c,g,v,A){return this.i.add(String(c),g,!1,v,A)},Et.prototype.K=function(c,g,v,A){return this.i.add(String(c),g,!0,v,A)};function fr(c,g,v,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let U=!0;for(let q=0;q<g.length;++q){const oe=g[q];if(oe&&!oe.da&&oe.capture==v){const Ce=oe.listener,gt=oe.ha||oe.src;oe.fa&&ge(c.i,oe),U=Ce.call(gt,A)!==!1&&U}}return U&&!A.defaultPrevented}function lf(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function pu(c){c.g=lf(()=>{c.g=null,c.i&&(c.i=!1,pu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class en extends O{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:pu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(c){O.call(this),this.h=c,this.g={}}T(ps,O);var Do=[];function No(c){ke(c.g,function(g,v){this.g.hasOwnProperty(v)&&oa(g)},c),c.g={}}ps.prototype.N=function(){ps.Z.N.call(this),No(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dr=f.JSON.stringify,uf=f.JSON.parse,gu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function yu(){}function _u(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){M.call(this,"d")}T(jt,M);function wn(){M.call(this,"c")}T(wn,M);var pt={},vu=null;function la(){return vu=vu||new Et}pt.Ia="serverreachability";function Eu(c){M.call(this,pt.Ia,c)}T(Eu,M);function si(c){const g=la();Mt(g,new Eu(g))}pt.STAT_EVENT="statevent";function gs(c,g){M.call(this,pt.STAT_EVENT,c),this.stat=g}T(gs,M);function Tt(c){const g=la();Mt(g,new gs(g,c))}pt.Ja="timingevent";function ai(c,g){M.call(this,pt.Ja,c),this.size=g}T(ai,M);function oi(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function cf(c,g,v,A,U,q){c.info(function(){if(c.g)if(q){var oe="",Ce=q.split("&");for(let Fe=0;Fe<Ce.length;Fe++){var gt=Ce[Fe].split("=");if(gt.length>1){const at=gt[0];gt=gt[1];const Dn=at.split("_");oe=Dn.length>=2&&Dn[1]=="type"?oe+(at+"="+gt+"&"):oe+(at+"=redacted&")}}}else oe=null;else oe=q;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+g+`
`+v+`
`+oe})}function Tu(c,g,v,A,U,q,oe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+g+`
`+v+`
`+q+" "+oe})}function li(c,g,v,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+hf(c,v)+(A?" "+A:"")})}function ys(c,g){c.info(function(){return"TIMEOUT: "+g})}Hn.prototype.info=function(){};function hf(c,g){if(!c.g)return g;if(!g)return null;try{const q=JSON.parse(g);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let oe=1;oe<A.length;oe++)A[oe]=""}}}}return dr(q)}catch{return g}}var _s={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Oo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Mo;function vs(){}T(vs,yu),vs.prototype.g=function(){return new XMLHttpRequest},Mo=new vs;function Pi(c){return encodeURIComponent(String(c))}function Su(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function Fn(c,g,v,A){this.j=c,this.i=g,this.l=v,this.S=A||1,this.V=new ps(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var St={},Pt={};function ui(c,g,v){c.M=1,c.A=Es(bt(g)),c.u=v,c.R=!0,ua(c,null)}function ua(c,g){c.F=Date.now(),ci(c),c.B=bt(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),da(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Gn,c.g=Uu(c.j,v?g:null,!c.u),c.P>0&&(c.O=new en(y(c.Y,c,c.g),c.P)),g=c.V,v=c.g,A=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(Do[0]=U.toString()),U=Do);for(let q=0;q<U.length;q++){const oe=st(v,U[q],A||g.handleEvent,!1,g.h||g);if(!oe)break;g.g[oe.key]=oe}g=c.J?C(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),si(),cf(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Yn(c)==3?g.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=Yn(this.g),gt=this.g.ya(),Fe=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Ce!=4||gt==7||(gt==8||Fe<=0?si(3):si(2)),hi(this);var g=this.g.ca();this.X=g;var v=ff(this);if(this.o=g==200,Tu(this.i,this.v,this.B,this.l,this.S,Ce,g),this.o){if(this.U&&!this.L){t:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var q=A;break t}}q=null}if(c=q)li(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,c);else{this.o=!1,this.m=3,Tt(12),mn(this),Rn(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<v.length;)if(at=bu(this,v),at==Pt){Ce==4&&(this.m=4,Tt(14),c=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(at==St){this.m=4,Tt(15),li(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else li(this.i,this.l,at,null),fi(this,at);if(Au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)li(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ko(oe),oe.P=!0,Tt(11))}}else li(this.i,this.l,v,null),fi(this,v);Ce==4&&mn(this),this.o&&!this.K&&(Ce==4?Vu(this.j,this):(this.o=!1,ci(this)))}else Ui(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),mn(this),Rn(this)}}}catch{}finally{}};function ff(c){if(!Au(c))return c.g.la();const g=Bt(c.g);if(g==="")return"";let v="";const A=g.length,U=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return mn(c),Rn(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<A;q++)c.h.h=!0,v+=c.h.i.decode(g[q],{stream:!(U&&q==A-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function Au(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function bu(c,g){var v=c.C,A=g.indexOf(`
`,v);return A==-1?Pt:(v=Number(g.substring(v,A)),isNaN(v)?St:(A+=1,A+v>g.length?Pt:(g=g.slice(A,A+v),c.C=A+v,g)))}Fn.prototype.cancel=function(){this.K=!0,mn(this)};function ci(c){c.T=Date.now()+c.H,ca(c,c.H)}function ca(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=oi(y(c.aa,c),g)}function hi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ys(this.i,this.B),this.M!=2&&(si(),Tt(17)),mn(this),this.m=2,Rn(this)):ca(this,this.T-c)};function Rn(c){c.j.I==0||c.K||Vu(c.j,c)}function mn(c){hi(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,No(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function fi(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||mi(v.h,c))){if(!c.L&&mi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)_a(v),Tr(v);else break e;Cs(v),Tt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=oi(y(v.Va,v),6e3));di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ei(v,11)}else if((c.L||v.g==c)&&_a(v),!I(g))for(U=v.Ba.g.parse(g),g=0;g<U.length;g++){let Fe=U[g];const at=Fe[0];if(!(at<=v.K))if(v.K=at,Fe=Fe[1],v.I==2)if(Fe[0]=="c"){v.M=Fe[1],v.ba=Fe[2];const Dn=Fe[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const Ti=Fe[4];Ti!=null&&(v.za=Ti,v.j.info("SVER="+v.za));const Xn=Fe[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(A=1.5*Xn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const $n=c.g;if($n){const Is=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Is){var q=A.h;q.g||Is.indexOf("spdy")==-1&&Is.indexOf("quic")==-1&&Is.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Po(q,q.h),q.h=null))}if(A.G){const va=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;va&&(A.wa=va,Ke(A.J,A.G,va))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var oe=c;if(A.na=Lu(A,A.L?A.ba:null,A.W),oe.L){Lo(A.h,oe);var Ce=oe,gt=A.O;gt&&(Ce.H=gt),Ce.D&&(hi(Ce),ci(Ce)),A.g=oe}else Ou(A);v.i.length>0&&vi(v)}else Fe[0]!="stop"&&Fe[0]!="close"||Ei(v,7);else v.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ei(v,7):Go(v):Fe[0]!="noop"&&v.l&&v.l.qa(Fe),v.A=0)}}si(4)}catch{}}var At=class{constructor(c,g){this.g=c,this.map=g}};function Vo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function di(c){return c.h?1:c.g?c.g.size:0}function mi(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Po(c,g){c.g?c.g.add(g):c.h=g}function Lo(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Vo.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Uo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return P(c.i)}var wu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ha(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let U,q=null;A>=0?(U=c[v].substring(0,A),q=c[v].substring(A+1)):U=c[v],g(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function pn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof pn?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,mr(this,c.u),this.h=c.h,ko(this,Du(c.i)),this.m=c.m):c&&(g=String(c).match(wu))?(this.l=!1,Lt(this,g[1]||"",!0),this.o=pi(g[2]||""),this.g=pi(g[3]||"",!0),mr(this,g[4]),this.h=pi(g[5]||"",!0),ko(this,g[6]||"",!0),this.m=pi(g[7]||"")):(this.l=!1,this.i=new gr(null,this.l))}pn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Ts(g,fa,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Ts(g,fa,!0),"@"),c.push(Pi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ts(v,v.charAt(0)=="/"?zo:Ru,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ts(v,Cu)),c.join("")},pn.prototype.resolve=function(c){const g=bt(this);let v=!!c.j;v?Lt(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var A=c.h;if(v)mr(g,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=g.h.lastIndexOf("/");U!=-1&&(A=g.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let oe=0;oe<U.length;){const Ce=U[oe++];Ce=="."?A&&oe==U.length&&q.push(""):Ce==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&oe==U.length&&q.push("")):(q.push(Ce),A=!0)}A=q.join("/")}else A=U}return v?g.h=A:v=c.i.toString()!=="",v?ko(g,Du(c.i)):v=!!c.m,v&&(g.m=c.m),g};function bt(c){return new pn(c)}function Lt(c,g,v){c.j=v?pi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function mr(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function ko(c,g,v){g instanceof gr?(c.i=g,ma(c.i,c.l)):(v||(g=Ts(g,pr)),c.i=new gr(g,c.l))}function Ke(c,g,v){c.i.set(g,v)}function Es(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function pi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ts(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,rn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var fa=/[#\/\?@]/g,Ru=/[#\?:]/g,zo=/[#\?]/g,pr=/[#\?@]/g,Cu=/#/g;function gr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&ha(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=gr.prototype,r.add=function(c,g){sn(this),this.i=null,c=yr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Iu(c,g){sn(c),g=yr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function jo(c,g){return sn(c),g=yr(c,g),c.g.has(g)}r.forEach=function(c,g){sn(this),this.g.forEach(function(v,A){v.forEach(function(U){c.call(g,U,A,this)},this)},this)};function Bo(c,g){sn(c);let v=[];if(typeof g=="string")jo(c,g)&&(v=v.concat(c.g.get(yr(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}r.set=function(c,g){return sn(this),this.i=null,c=yr(this,c),jo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=Bo(this,c),c.length>0?String(c[0]):g):g};function da(c,g,v){Iu(c,g),v.length>0&&(c.i=null,c.g.set(yr(c,g),P(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var v=g[A];const U=Pi(v);v=Bo(this,v);for(let q=0;q<v.length;q++){let oe=U;v[q]!==""&&(oe+="="+Pi(v[q])),c.push(oe)}}return this.i=c.join("&")};function Du(c){const g=new gr;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function yr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ma(c,g){g&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(v,A){const U=A.toLowerCase();A!=U&&(Iu(this,A),da(this,U,v))},c)),c.j=g}function Qn(c,g){const v=new Hn;if(f.Image){const A=new Image;A.onload=E(Cn,v,"TestLoadImage: loaded",!0,g,A),A.onerror=E(Cn,v,"TestLoadImage: error",!1,g,A),A.onabort=E(Cn,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=E(Cn,v,"TestLoadImage: timeout",!1,g,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function qo(c,g){const v=new Hn,A=new AbortController,U=setTimeout(()=>{A.abort(),Cn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(q=>{clearTimeout(U),q.ok?Cn(v,"TestPingServer: ok",!0,g):Cn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),Cn(v,"TestPingServer: error",!1,g)})}function Cn(c,g,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function _r(){this.g=new gu}function gi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(gi,yu),gi.prototype.g=function(){return new Ss(this.i,this.h)};function Ss(c,g){Et.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ss,Et),r=Ss.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Kn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function pa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?vr(this):Kn(this),this.readyState==3&&pa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,vr(this))},r.Na=function(c){this.g&&(this.response=c,vr(this))},r.ga=function(){this.g&&vr(this)};function vr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Kn(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Kn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let g="";return ke(c,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function As(c,g,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=In(v),typeof c=="string"?v!=null&&Pi(v):Ke(c,g,v))}function $e(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T($e,Et);var yi=/^https?$/i,Ho=["POST","PUT"];r=$e.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Mo.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(q){bs(this,q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Ho,g,void 0)>=0)||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,oe]of v)this.g.setRequestHeader(q,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){bs(this,q)}};function bs(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Fo(c),Li(c)}function Fo(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),Li(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ws(this):this.Xa())},r.Xa=function(){ws(this)};function ws(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var A;if(A=q===0){let oe=String(c.D).match(wu)[1]||null;!oe&&f.self&&f.self.location&&(oe=f.self.location.protocol.slice(0,-1)),A=!yi.test(oe?oe.toLowerCase():"")}v=A}if(v)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var U=Yn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",Fo(c)}}finally{Li(c)}}}}function Li(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||Mt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),uf(g)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(c){const g={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var v=Su(c[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=g[U]||[];g[U]=q,q.push(v)}ae(g,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Er(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,c),this.Za=_i("retryDelaySeedMs",1e4,c),this.Ta=_i("forwardChannelMaxRetries",2,c),this.va=_i("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Vo(c&&c.concurrentRequestLimit),this.Ba=new _r,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Er.prototype,r.ka=8,r.I=1,r.connect=function(c,g,v,A){Tt(0),this.W=c,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Lu(this,null,this.W),vi(this)};function Go(c){if(ga(c),c.I==3){var g=c.V++,v=bt(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",g),Ke(v,"TYPE","terminate"),Rs(c,v),g=new Fn(c,c.j,g),g.M=2,g.A=Es(bt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=Uu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),ci(g)}Pu(c)}function Tr(c){c.g&&(Ko(c),c.g.cancel(),c.g=null)}function ga(c){Tr(c),c.v&&(f.clearTimeout(c.v),c.v=null),_a(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function vi(c){if(!xo(c.h)&&!c.m){c.m=!0;var g=c.Ea;_e||b(),Te||(_e(),Te=!0),D.add(g,c),c.D=0}}function ya(c,g){return di(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=oi(y(c.Ea,c,g),xu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new Fn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=C(q),re(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Nu(this,U,g),v=bt(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),Rs(this,v),q&&(this.R?g="headers="+Pi(In(q))+"&"+g:this.u&&As(v,this.u,q)),Po(this.h,U),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",g),Ke(v,"SID","null"),U.U=!0,ui(U,v,null)):ui(U,v,g),this.I=2}}else this.I==3&&(c?Qo(this,c):this.i.length==0||xo(this.h)||Qo(this))};function Qo(c,g){var v;g?v=g.l:v=c.V++;const A=bt(c.J);Ke(A,"SID",c.M),Ke(A,"RID",v),Ke(A,"AID",c.K),Rs(c,A),c.u&&c.o&&As(A,c.u,c.o),v=new Fn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Nu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Po(c.h,v),ui(v,A,g)}function Rs(c,g){c.H&&ke(c.H,function(v,A){Ke(g,A,v)}),c.l&&ke({},function(v,A){Ke(g,A,v)})}function Nu(c,g,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;e:{var U=c.i;let Ce=-1;for(;;){const gt=["count="+v];Ce==-1?v>0?(Ce=U[0].g,gt.push("ofs="+Ce)):Ce=0:gt.push("ofs="+Ce);let Fe=!0;for(let at=0;at<v;at++){var q=U[at].g;const Dn=U[at].map;if(q-=Ce,q<0)Ce=Math.max(0,U[at].g-100),Fe=!1;else try{q="req"+q+"_"||"";try{var oe=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Ti,Xn]of oe){let $n=Xn;m(Xn)&&($n=dr(Xn)),gt.push(q+Ti+"="+encodeURIComponent($n))}}catch(Ti){throw gt.push(q+"type="+encodeURIComponent("_badmap")),Ti}}catch{A&&A(Dn)}}if(Fe){oe=gt.join("&");break e}}oe=void 0}return c=c.i.splice(0,v),g.G=c,oe}function Ou(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;_e||b(),Te||(_e(),Te=!0),D.add(g,c),c.A=0}}function Cs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=oi(y(c.Da,c),xu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=oi(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Tr(this),Mu(this))};function Ko(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Mu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=bt(c.na);Ke(g,"RID","rpc"),Ke(g,"SID",c.M),Ke(g,"AID",c.K),Ke(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(g,"TO",c.ia),Ke(g,"TYPE","xmlhttp"),Rs(c,g),c.u&&c.o&&As(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Es(bt(g)),v.u=null,v.R=!0,ua(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Tr(this),Cs(this),Tt(19))};function _a(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Vu(c,g){var v=null;if(c.g==g){_a(c),Ko(c),c.g=null;var A=2}else if(mi(c.h,g))v=g.G,Lo(c.h,g),A=1;else return;if(c.I!=0){if(g.o)if(A==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var U=c.D;A=la(),Mt(A,new ai(A,v)),vi(c)}else Ou(c);else if(U=g.m,U==3||U==0&&g.X>0||!(A==1&&ya(c,g)||A==2&&Cs(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),U){case 1:Ei(c,5);break;case 4:Ei(c,10);break;case 3:Ei(c,6);break;default:Ei(c,2)}}}function xu(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function Ei(c,g){if(c.j.info("Error code "+g),g==2){var v=y(c.bb,c),A=c.Ua;const U=!A;A=new pn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Lt(A,"https"),Es(A),U?Qn(A.toString(),v):qo(A.toString(),v)}else Tt(2);c.I=0,c.l&&c.l.pa(g),Pu(c),ga(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Pu(c){if(c.I=0,c.ja=[],c.l){const g=Uo(c.h);(g.length!=0||c.i.length!=0)&&(G(c.ja,g),G(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function Lu(c,g,v){var A=v instanceof pn?bt(v):new pn(v);if(A.g!="")g&&(A.g=g+"."+A.g),mr(A,A.u);else{var U=f.location;A=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;const q=new pn(null);A&&Lt(q,A),g&&(q.g=g),U&&mr(q,U),v&&(q.h=v),A=q}return v=c.G,g=c.wa,v&&g&&Ke(A,v,g),Ke(A,"VER",c.ka),Rs(c,A),A}function Uu(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new $e(new gi({ab:v})):new $e(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ku(){}r=ku.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Sr(){}Sr.prototype.g=function(c,g){return new tn(c,g)};function tn(c,g){Et.call(this),this.g=new Er(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!I(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!I(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ki(this)}T(tn,Et),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Go(this.g)},tn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=dr(c),c=v);g.i.push(new At(g.Ya++,c)),g.I==3&&vi(g)},tn.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,tn.Z.N.call(this)};function zu(c){jt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}T(zu,jt);function ju(){wn.call(this),this.status=1}T(ju,wn);function ki(c){this.g=c}T(ki,ku),ki.prototype.ra=function(){Mt(this.g,"a")},ki.prototype.qa=function(c){Mt(this.g,new zu(c))},ki.prototype.pa=function(c){Mt(this.g,new ju)},ki.prototype.oa=function(){Mt(this.g,"b")},Sr.prototype.createWebChannel=Sr.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,u0=function(){return new Sr},l0=function(){return la()},o0=pt,xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_s.NO_ERROR=0,_s.TIMEOUT=8,_s.HTTP_ERROR=6,eh=_s,Oo.COMPLETE="complete",a0=Oo,_u.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Pl=_u,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,s0=$e}).apply(typeof Gc<"u"?Gc:typeof self<"u"?self:typeof window<"u"?window:{});const nE="@firebase/firestore",iE="4.9.3";class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let vo="12.7.0";const Ws=new hp("@firebase/firestore");function Xa(){return Ws.logLevel}function ce(r,...e){if(Ws.logLevel<=Pe.DEBUG){const n=e.map(mp);Ws.debug(`Firestore (${vo}): ${r}`,...n)}}function ar(r,...e){if(Ws.logLevel<=Pe.ERROR){const n=e.map(mp);Ws.error(`Firestore (${vo}): ${r}`,...n)}}function ao(r,...e){if(Ws.logLevel<=Pe.WARN){const n=e.map(mp);Ws.warn(`Firestore (${vo}): ${r}`,...n)}}function mp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,c0(r,s,n)}function c0(r,e,n){let s=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ar(s),new Error(s)}function Qe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||c0(e,o,s)}function we(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ir{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class h0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class SC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class AC{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ir,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ir)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new h0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class bC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new bC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class rE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new rE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function CC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class pp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=CC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Le(r,e){return r<e?-1:r>e?1:0}function Pm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Em(o)===Em(u)?Le(o,u):Em(o)?1:-1}return Le(r.length,e.length)}const IC=55296,DC=57343;function Em(r){const e=r.charCodeAt(0);return e>=IC&&e<=DC}function oo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const sE="__name__";class Ri{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ri.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Le(e.length,n.length)}static compareSegments(e,n){const s=Ri.isNumericId(e),o=Ri.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ri.extractNumericId(e).compare(Ri.extractNumericId(n)):Pm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return es.fromString(e.substring(4,e.length-2))}}class tt extends Ri{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const NC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ri{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return NC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sE}static keyField(){return new Kt([sE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(tt.fromString(e))}static fromName(e){return new pe(tt.fromString(e).popFirst(5))}static empty(){return new pe(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new tt(e.slice()))}}function f0(r,e,n){if(!n)throw new ue(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function OC(r,e,n,s){if(e===!0&&s===!0)throw new ue(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function aE(r){if(!pe.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function oE(r){if(pe.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function d0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function kh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function dn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kh(r);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Ot(r,e){const n={typeString:r};return e&&(n.value=e),n}function au(r,e){if(!d0(r))throw new ue(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ue(J.INVALID_ARGUMENT,n);return!0}const lE=-62135596800,uE=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*uE);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lE)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uE}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(au(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-lE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Ot("string",rt._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new rt(0,0))}static max(){return new Ae(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Kl=-1;function MC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new is(o,pe.empty(),e)}function VC(r){return new is(r.readTime,r.key,Kl)}class is{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new is(Ae.min(),pe.empty(),Kl)}static max(){return new is(Ae.max(),pe.empty(),Kl)}}function xC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:Le(r.largestBatchId,e.largestBatchId))}const PC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Eo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==PC)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((o=>o?ee.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ee(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function UC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function To(r){return r.name==="IndexedDbTransactionError"}class zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zh.ce=-1;const gp=-1;function jh(r){return r==null}function dh(r){return r===0&&1/r==-1/0}function kC(r){return typeof r=="number"&&Number.isInteger(r)&&!dh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const m0="";function zC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=cE(e)),e=jC(r.get(n),e);return cE(e)}function jC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case m0:n+="";break;default:n+=u}}return n}function cE(r){return r+m0+""}function hE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function us(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function p0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ct{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qc(this.root,e,this.comparator,!0)}}class Qc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fE(this.data.getIterator())}getIteratorFrom(e){return new fE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class fE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new An([])}unionWith(e){let n=new xt(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class g0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new g0("Invalid base64 string: "+u):u}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const BC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(r){if(Qe(!!r,39018),typeof r=="string"){let e=0;const n=BC.exec(r);if(Qe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(r.seconds),nanos:vt(r.nanos)}}function vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ss(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}const y0="server_timestamp",_0="__type__",v0="__previous_value__",E0="__local_write_time__";function yp(r){return(r?.mapValue?.fields||{})[_0]?.stringValue===y0}function Bh(r){const e=r.mapValue.fields[v0];return yp(e)?Bh(e):e}function Yl(r){const e=rs(r.mapValue.fields[E0].timestampValue);return new rt(e.seconds,e.nanos)}class qC{constructor(e,n,s,o,u,f,m,p,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const mh="(default)";class Xl{constructor(e,n){this.projectId=e,this.database=n||mh}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database===mh}isEqual(e){return e instanceof Xl&&e.projectId===this.projectId&&e.database===this.database}}const T0="__type__",HC="__max__",Kc={mapValue:{}},S0="__vector__",ph="value";function as(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?yp(r)?4:GC(r)?9007199254740991:FC(r)?10:11:Ee(28295,{value:r})}function Vi(r,e){if(r===e)return!0;const n=as(r);if(n!==as(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Yl(r).isEqual(Yl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=rs(o.timestampValue),m=rs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ss(o.bytesValue).isEqual(ss(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=vt(o.doubleValue),m=vt(u.doubleValue);return f===m?dh(f)===dh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return oo(r.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(hE(f)!==hE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Vi(f[p],m[p])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function $l(r,e){return(r.values||[]).find((n=>Vi(n,e)))!==void 0}function lo(r,e){if(r===e)return 0;const n=as(r),s=as(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=vt(u.integerValue||u.doubleValue),p=vt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return dE(r.timestampValue,e.timestampValue);case 4:return dE(Yl(r),Yl(e));case 5:return Pm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=ss(u),p=ss(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Le(m[y],p[y]);if(E!==0)return E}return Le(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Le(vt(u.latitude),vt(f.latitude));return m!==0?m:Le(vt(u.longitude),vt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return mE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},y=m[ph]?.arrayValue,E=p[ph]?.arrayValue,T=Le(y?.values?.length||0,E?.values?.length||0);return T!==0?T:mE(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Kc.mapValue&&f===Kc.mapValue)return 0;if(u===Kc.mapValue)return 1;if(f===Kc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const w=Pm(p[T],E[T]);if(w!==0)return w;const P=lo(m[p[T]],y[E[T]]);if(P!==0)return P}return Le(p.length,E.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function dE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const n=rs(r),s=rs(e),o=Le(n.seconds,s.seconds);return o!==0?o:Le(n.nanos,s.nanos)}function mE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=lo(n[o],s[o]);if(u)return u}return Le(n.length,s.length)}function uo(r){return Lm(r)}function Lm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=rs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ss(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return pe.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Lm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Lm(n.fields[f])}`;return o+"}"})(r.mapValue):Ee(61005,{value:r})}function th(r){switch(as(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bh(r);return e?16+th(e):16;case 5:return 2*r.stringValue.length;case 6:return ss(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+th(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return us(s.fields,((u,f)=>{o+=u.length+th(f)})),o})(r.mapValue);default:throw Ee(13486,{value:r})}}function pE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Um(r){return!!r&&"integerValue"in r}function _p(r){return!!r&&"arrayValue"in r}function gE(r){return!!r&&"nullValue"in r}function yE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function nh(r){return!!r&&"mapValue"in r}function FC(r){return(r?.mapValue?.fields||{})[T0]?.stringValue===S0}function jl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return us(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=jl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jl(r.arrayValue.values[n]);return e}return{...r}}function GC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===HC}class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!nh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(n)}setAll(e){let n=Kt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=jl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){us(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new fn(jl(this.value))}}function A0(r){const e=[];return us(r.fields,((n,s)=>{const o=new Kt([n]);if(nh(s)){const u=A0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new An(e)}class Zt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Ae.min(),Ae.min(),Ae.min(),fn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Ae.min(),Ae.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Ae.min(),Ae.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gh{constructor(e,n){this.position=e,this.inclusive=n}}function _E(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),n.key):s=lo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function vE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Vi(r.position[n],e.position[n]))return!1;return!0}class Jl{constructor(e,n="asc"){this.field=e,this.dir=n}}function QC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class b0{}class Nt extends b0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new YC(e,n,s):n==="array-contains"?new JC(e,s):n==="in"?new ZC(e,s):n==="not-in"?new WC(e,s):n==="array-contains-any"?new e2(e,s):new Nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new XC(e,s):new $C(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lo(n,this.value)):n!==null&&as(this.value)===as(n)&&this.matchesComparison(lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends b0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ni(e,n)}matches(e){return w0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function w0(r){return r.op==="and"}function R0(r){return KC(r)&&w0(r)}function KC(r){for(const e of r.filters)if(e instanceof ni)return!1;return!0}function km(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+uo(r.value);if(R0(r))return r.filters.map((e=>km(e))).join(",");{const e=r.filters.map((n=>km(n))).join(",");return`${r.op}(${e})`}}function C0(r,e){return r instanceof Nt?(function(s,o){return o instanceof Nt&&s.op===o.op&&s.field.isEqual(o.field)&&Vi(s.value,o.value)})(r,e):r instanceof ni?(function(s,o){return o instanceof ni&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&C0(f,o.filters[m])),!0):!1})(r,e):void Ee(19439)}function I0(r){return r instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${uo(n.value)}`})(r):r instanceof ni?(function(n){return n.op.toString()+" {"+n.getFilters().map(I0).join(" ,")+"}"})(r):"Filter"}class YC extends Nt{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class XC extends Nt{constructor(e,n){super(e,"in",n),this.keys=D0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class $C extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=D0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function D0(r,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class JC extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _p(n)&&$l(n.arrayValue,this.value)}}class ZC extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$l(this.value.arrayValue,n)}}class WC extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!$l(this.value.arrayValue,n)}}class e2 extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_p(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>$l(this.value.arrayValue,s)))}}class t2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function EE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new t2(r,e,n,s,o,u,f)}function vp(r){const e=we(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>km(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>uo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>uo(s))).join(",")),e.Te=n}return e.Te}function Ep(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!QC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!C0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!vE(r.startAt,e.startAt)&&vE(r.endAt,e.endAt)}function zm(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class So{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function n2(r,e,n,s,o,u,f,m){return new So(r,e,n,s,o,u,f,m)}function qh(r){return new So(r)}function TE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function N0(r){return r.collectionGroup!==null}function Bl(r){const e=we(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new xt(Kt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Jl(u,s))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new Jl(Kt.keyField(),s))}return e.Ie}function Ci(r){const e=we(r);return e.Ee||(e.Ee=i2(e,Bl(r))),e.Ee}function i2(r,e){if(r.limitType==="F")return EE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Jl(o.field,u)}));const n=r.endAt?new gh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new gh(r.startAt.position,r.startAt.inclusive):null;return EE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function jm(r,e){const n=r.filters.concat([e]);return new So(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Bm(r,e,n){return new So(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Hh(r,e){return Ep(Ci(r),Ci(e))&&r.limitType===e.limitType}function O0(r){return`${vp(Ci(r))}|lt:${r.limitType}`}function $a(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>I0(o))).join(", ")}]`),jh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>uo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>uo(o))).join(",")),`Target(${s})`})(Ci(r))}; limitType=${r.limitType})`}function Fh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Bl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const y=_E(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,Bl(s),o)||s.endAt&&!(function(f,m,p){const y=_E(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,Bl(s),o))})(r,e)}function r2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function M0(r){return(e,n)=>{let s=!1;for(const o of Bl(r)){const u=s2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function s2(r,e,n){const s=r.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?lo(p,y):Ee(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}class na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return p0(this.inner)}size(){return this.innerSize}}const a2=new ct(pe.comparator);function or(){return a2}const V0=new ct(pe.comparator);function Ll(...r){let e=V0;for(const n of r)e=e.insert(n.key,n);return e}function x0(r){let e=V0;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Qs(){return ql()}function P0(){return ql()}function ql(){return new na((r=>r.toString()),((r,e)=>r.isEqual(e)))}const o2=new ct(pe.comparator),l2=new xt(pe.comparator);function Ue(...r){let e=l2;for(const n of r)e=e.add(n);return e}const u2=new xt(Le);function c2(){return u2}function Tp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(e)?"-0":e}}function L0(r){return{integerValue:""+r}}function h2(r,e){return kC(e)?L0(e):Tp(r,e)}class Gh{constructor(){this._=void 0}}function f2(r,e,n){return r instanceof yh?(function(o,u){const f={fields:{[_0]:{stringValue:y0},[E0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&yp(u)&&(u=Bh(u)),u&&(f.fields[v0]=u),{mapValue:f}})(n,e):r instanceof Zl?k0(r,e):r instanceof Wl?z0(r,e):(function(o,u){const f=U0(o,u),m=SE(f)+SE(o.Ae);return Um(f)&&Um(o.Ae)?L0(m):Tp(o.serializer,m)})(r,e)}function d2(r,e,n){return r instanceof Zl?k0(r,e):r instanceof Wl?z0(r,e):n}function U0(r,e){return r instanceof _h?(function(s){return Um(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class yh extends Gh{}class Zl extends Gh{constructor(e){super(),this.elements=e}}function k0(r,e){const n=j0(e);for(const s of r.elements)n.some((o=>Vi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Wl extends Gh{constructor(e){super(),this.elements=e}}function z0(r,e){let n=j0(e);for(const s of r.elements)n=n.filter((o=>!Vi(o,s)));return{arrayValue:{values:n}}}class _h extends Gh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function SE(r){return vt(r.integerValue||r.doubleValue)}function j0(r){return _p(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function m2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Zl&&o instanceof Zl||s instanceof Wl&&o instanceof Wl?oo(s.elements,o.elements,Vi):s instanceof _h&&o instanceof _h?Vi(s.Ae,o.Ae):s instanceof yh&&o instanceof yh})(r.transform,e.transform)}class p2{constructor(e,n){this.version=e,this.transformResults=n}}class jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ih(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Qh{}function B0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Sp(r.key,jn.none()):new ou(r.key,r.data,jn.none());{const n=r.data,s=fn.empty();let o=new xt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new cs(r.key,s,new An(o.toArray()),jn.none())}}function g2(r,e,n){r instanceof ou?(function(o,u,f){const m=o.value.clone(),p=bE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof cs?(function(o,u,f){if(!ih(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=bE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(q0(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Hl(r,e,n,s){return r instanceof ou?(function(u,f,m,p){if(!ih(u.precondition,f))return m;const y=u.value.clone(),E=wE(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof cs?(function(u,f,m,p){if(!ih(u.precondition,f))return m;const y=wE(u.fieldTransforms,p,f),E=f.data;return E.setAll(q0(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,f,m){return ih(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function y2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=U0(s.transform,o||null);u!=null&&(n===null&&(n=fn.empty()),n.set(s.field,u))}return n||null}function AE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&oo(s,o,((u,f)=>m2(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ou extends Qh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cs extends Qh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function q0(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function bE(r,e,n){const s=new Map;Qe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,d2(f,m,n[o]))}return s}function wE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,f2(u,f,e))}return s}class Sp extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _2 extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class v2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&g2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Hl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Hl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=P0();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=B0(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,((n,s)=>AE(n,s)))&&oo(this.baseMutations,e.baseMutations,((n,s)=>AE(n,s)))}}class Ap{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return o2})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Ap(e,n,s,o)}}class E2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class T2{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,je;function S2(r){switch(r){case J.OK:return Ee(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function H0(r){if(r===void 0)return ar("GRPC error has no .code"),J.UNKNOWN;switch(r){case Dt.OK:return J.OK;case Dt.CANCELLED:return J.CANCELLED;case Dt.UNKNOWN:return J.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return J.INTERNAL;case Dt.UNAVAILABLE:return J.UNAVAILABLE;case Dt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Dt.NOT_FOUND:return J.NOT_FOUND;case Dt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Dt.ABORTED:return J.ABORTED;case Dt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Dt.DATA_LOSS:return J.DATA_LOSS;default:return Ee(39323,{code:r})}}(je=Dt||(Dt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";function A2(){return new TextEncoder}const b2=new es([4294967295,4294967295],0);function RE(r){const e=A2().encode(r),n=new r0;return n.update(e),new Uint8Array(n.digest())}function CE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new es([n,s],0),new es([o,u],0)]}class bp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ul(`Invalid padding: ${n}`);if(s<0)throw new Ul(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=es.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(es.fromNumber(s)));return o.compare(b2)===1&&(o=new es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=RE(e),[s,o]=CE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new bp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=RE(e),[s,o]=CE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Kh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Kh(Ae.min(),o,new ct(Le),or(),Ue())}}class lu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new lu(s,n,Ue(),Ue(),Ue())}}class rh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class F0{constructor(e,n){this.targetId=e,this.Ce=n}}class G0{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class IE{constructor(){this.ve=0,this.Fe=DE(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new lu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=DE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class w2{constructor(e){this.Ge=e,this.ze=new Map,this.je=or(),this.Je=Yc(),this.He=Yc(),this.Ye=new ct(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(zm(u))if(s===0){const f=new pe(u.path);this.et(n,f,Zt.newNoDocument(f,Ae.min()))}else Qe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ss(s).toUint8Array()}catch(p){if(p instanceof g0)return ao("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new bp(f,o,u)}catch(p){return ao(p instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&zm(m.target)){const p=new pe(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Zt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Ue();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Kh(e,n,this.Ye,this.je,s);return this.je=or(),this.Je=Yc(),this.He=Yc(),this.Ye=new ct(Le),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new IE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new xt(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new xt(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new IE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Yc(){return new ct(pe.comparator)}function DE(){return new ct(pe.comparator)}const R2={asc:"ASCENDING",desc:"DESCENDING"},C2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},I2={and:"AND",or:"OR"};class D2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qm(r,e){return r.useProto3Json||jh(e)?e:{value:e}}function vh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function N2(r,e){return vh(r,e.toTimestamp())}function Ii(r){return Qe(!!r,49232),Ae.fromTimestamp((function(n){const s=rs(n);return new rt(s.seconds,s.nanos)})(r))}function wp(r,e){return Hm(r,e).canonicalString()}function Hm(r,e){const n=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function K0(r){const e=tt.fromString(r);return Qe(Z0(e),10190,{key:e.toString()}),e}function Fm(r,e){return wp(r.databaseId,e.path)}function Tm(r,e){const n=K0(e);if(n.get(1)!==r.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(X0(n))}function Y0(r,e){return wp(r.databaseId,e)}function O2(r){const e=K0(r);return e.length===4?tt.emptyPath():X0(e)}function Gm(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function X0(r){return Qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function NE(r,e,n){return{name:Fm(r,e),fields:n.value.mapValue.fields}}function M2(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Qe(E===void 0||typeof E=="string",58123),Yt.fromBase64String(E||"")):(Qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Yt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?J.UNKNOWN:H0(y.code);return new ue(E,y.message||"")})(f);n=new G0(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Tm(r,s.document.name),u=Ii(s.document.updateTime),f=s.document.createTime?Ii(s.document.createTime):Ae.min(),m=new fn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new rh(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Tm(r,s.document),u=s.readTime?Ii(s.readTime):Ae.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new rh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Tm(r,s.document),u=s.removedTargetIds||[];n=new rh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new T2(o,u),m=s.targetId;n=new F0(m,f)}}return n}function V2(r,e){let n;if(e instanceof ou)n={update:NE(r,e.key,e.value)};else if(e instanceof Sp)n={delete:Fm(r,e.key)};else if(e instanceof cs)n={update:NE(r,e.key,e.data),updateMask:q2(e.fieldMask)};else{if(!(e instanceof _2))return Ee(16599,{Vt:e.type});n={verify:Fm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof yh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Zl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Wl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof _h)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:N2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(r,e.precondition)),n}function x2(r,e){return r&&r.length>0?(Qe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Ii(o.updateTime):Ii(u);return f.isEqual(Ae.min())&&(f=Ii(u)),new p2(f,o.transformResults||[])})(n,e)))):[]}function P2(r,e){return{documents:[Y0(r,e.path)]}}function L2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Y0(r,o);const u=(function(y){if(y.length!==0)return J0(ni.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:Ja(w.field),direction:z2(w.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=qm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function U2(r){let e=O2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const w=$0(T);return w instanceof ni&&R0(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((w=>(function(G){return new Jl(Za(G.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,jh(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(T){const w=!!T.before,P=T.values||[];return new gh(P,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const w=!T.before,P=T.values||[];return new gh(P,w)})(n.endAt)),n2(e,o,f,u,m,"F",p,y)}function k2(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Za(n.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Za(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Za(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Za(n.unaryFilter.field);return Nt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Nt.create(Za(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ni.create(n.compositeFilter.filters.map((s=>$0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(r):Ee(30097,{filter:r})}function z2(r){return R2[r]}function j2(r){return C2[r]}function B2(r){return I2[r]}function Ja(r){return{fieldPath:r.canonicalString()}}function Za(r){return Kt.fromServerFormat(r.fieldPath)}function J0(r){return r instanceof Nt?(function(n){if(n.op==="=="){if(yE(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NAN"}};if(gE(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yE(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NAN"}};if(gE(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(n.field),op:j2(n.op),value:n.value}}})(r):r instanceof ni?(function(n){const s=n.getFilters().map((o=>J0(o)));return s.length===1?s[0]:{compositeFilter:{op:B2(n.op),filters:s}}})(r):Ee(54877,{filter:r})}function q2(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Z0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class $r{constructor(e,n,s,o,u=Ae.min(),f=Ae.min(),m=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new $r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class H2{constructor(e){this.yt=e}}function F2(r){const e=U2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Bm(e,e.limit,"L"):e}class G2{constructor(){this.Cn=new Q2}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(is.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(is.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class Q2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new xt(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new xt(tt.comparator)).toArray()}}const OE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},W0=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(W0,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class co{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new co(0)}static cr(){return new co(-1)}}const ME="LruGarbageCollector",K2=1048576;function VE([r,e],[n,s]){const o=Le(r,n);return o===0?Le(e,s):o}class Y2{constructor(e){this.Ir=e,this.buffer=new xt(VE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();VE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class X2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(ME,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){To(n)?ce(ME,"Ignoring IndexedDB error during garbage collection: ",n):await Eo(n)}await this.Vr(3e5)}))}}class $2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(zh.ce);const s=new Y2(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(OE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(y=Date.now(),Xa()<=Pe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function J2(r,e){return new $2(r,e)}class Z2{constructor(){this.changes=new na((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class W2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class eI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Hl(s.mutation,o,An.empty(),rt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ue()){const o=Qs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Ll();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Qs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ue())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=or();const f=ql(),m=(function(){return ql()})();return n.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof cs)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Hl(E.mutation,y,E.mutation.getFieldMask(),rt.now())):f.set(y.key,An.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new W2(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=ql();let o=new ct(((f,m)=>f-m)),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||An.empty();E=m.applyToLocalView(y,E),s.set(p,E);const T=(o.get(m.batchId)||Ue()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,T=P0();E.forEach((w=>{if(!u.has(w)){const P=B0(n.get(w),s.get(w));P!==null&&T.set(w,P),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,T))}return ee.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):N0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(Qs());let m=Kl,p=u;return f.next((y=>ee.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,Ue()))).next((E=>({batchId:m,changes:x0(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((s=>{let o=Ll();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ll();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(p=>{const y=(function(T,w){return new So(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((T,w)=>{f=f.insert(T,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Zt.newInvalidDocument(E)))}));let m=Ll();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&Hl(E.mutation,y,An.empty(),rt.now()),Fh(n,y)&&(m=m.insert(p,y))})),m}))}}class tI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ii(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:F2(o.bundledQuery),readTime:Ii(o.readTime)}})(n)),ee.resolve()}}class nI{constructor(){this.overlays=new ct(pe.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Qs();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=Qs(),u=n.length+1,f=new pe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Qs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Qs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return ee.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new E2(n,s));let u=this.qr.get(n);u===void 0&&(u=Ue(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class iI{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class Rp{constructor(){this.Qr=new xt(kt.$r),this.Ur=new xt(kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new kt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new kt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new pe(new tt([])),s=new kt(n,e),o=new kt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new tt([])),s=new kt(n,e),o=new kt(n,e+1);let u=Ue();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new kt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class kt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}class rI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new xt(kt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new v2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new kt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?gp:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new kt(n,0),o=new kt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new xt(Le);return n.forEach((o=>{const u=new kt(o,0),f=new kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ee.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const f=new kt(new pe(u),0);let m=new xt(Le);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),f),ee.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ee.forEach(n.mutations,(o=>{const u=new kt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new kt(n,0),o=this.Zr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class sI{constructor(e){this.ri=e,this.docs=(function(){return new ct(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=or();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=or();const f=n.path,m=new pe(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||xC(VC(E),s)<=0||(o.has(E.key)||Fh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new aI(this)}getSize(e){return ee.resolve(this.size)}}class aI extends Z2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class oI{constructor(e){this.persistence=e,this.si=new na((n=>vp(n)),Ep),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Rp,this.targetCount=0,this.ai=co.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new co(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}class eS{constructor(e,n){this.ui={},this.overlays={},this.ci=new zh(0),this.li=!1,this.li=!0,this.hi=new iI,this.referenceDelegate=e(this),this.Pi=new oI(this),this.indexManager=new G2,this.remoteDocumentCache=(function(o){return new sI(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new H2(n),this.Ii=new tI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new rI(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new lI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ee.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class lI extends LC{constructor(e){super(),this.currentSequenceNumber=e}}class Cp{constructor(e){this.persistence=e,this.Ri=new Rp,this.Vi=null}static mi(e){return new Cp(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(s=>{const o=pe.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Eh{constructor(e,n){this.persistence=e,this.pi=new na((s=>zC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=J2(this,n)}static mi(e,n){return new Eh(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Ae.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=th(e.data.value)),n}br(e,n,s){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ip{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ip(e,n.fromCache,s,o)}}class uI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class cI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return iR()?8:UC(Wt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new uI;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Xa()<=Pe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",$a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(Xa()<=Pe.DEBUG&&ce("QueryEngine","Query:",$a(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Xa()<=Pe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",$a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(n))):ee.resolve())}ys(e,n){if(TE(n))return ee.resolve(null);let s=Ci(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Bm(n,null,"F"),s=Ci(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Ue(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.Ds(n,m);return this.Cs(n,y,f,p.readTime)?this.ys(e,Bm(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,s,o){return TE(n)||o.isEqual(Ae.min())?ee.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ee.resolve(null):(Xa()<=Pe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$a(n)),this.vs(e,f,n,MC(o,Kl)).next((m=>m)))}))}Ds(e,n){let s=new xt(M0(e));return n.forEach(((o,u)=>{Fh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Xa()<=Pe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",$a(n)),this.ps.getDocumentsMatchingQuery(e,n,is.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Dp="LocalStore",hI=3e8;class fI{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ct(Le),this.xs=new na((u=>vp(u)),Ep),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function dI(r,e,n,s){return new fI(r,e,n,s)}async function tS(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Ue();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function mI(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const T=y.batch,w=T.keys();let P=ee.resolve();return w.forEach((G=>{P=P.next((()=>E.getEntry(p,G))).next((W=>{const H=y.docVersions.get(G);Qe(H!==null,48541),W.version.compareTo(H)<0&&(T.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),E.addEntry(W)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ue();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function nS(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function pI(r,e){const n=we(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const w=o.get(T);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let P=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?P=P.withResumeToken(Yt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(T,P),(function(W,H,te){return W.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=hI?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(w,P,E)&&m.push(n.Pi.updateTargetData(u,P))}));let p=or(),y=Ue();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(gI(u,f,e.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!s.isEqual(Ae.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ee.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function gI(r,e,n){let s=Ue(),o=Ue();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=or();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ce(Dp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function yI(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=gp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function _I(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ee.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new $r(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Qm(r,e,n){const s=we(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!To(f))throw f;ce(Dp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function xE(r,e,n){const s=we(r);let o=Ae.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const T=we(p),w=T.xs.get(E);return w!==void 0?ee.resolve(T.Ms.get(w)):T.Pi.getTargetData(y,E)})(s,f,Ci(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Ae.min(),n?u:Ue()))).next((m=>(vI(s,r2(e),m),{documents:m,Qs:u})))))}function vI(r,e,n){let s=r.Os.get(e)||Ae.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class PE{constructor(){this.activeTargetIds=c2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EI{constructor(){this.Mo=new PE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new PE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class TI{Oo(e){}shutdown(){}}const LE="ConnectivityMonitor";class UE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(LE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(LE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Xc=null;function Km(){return Xc===null?Xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xc++,"0x"+Xc.toString(16)}const Sm="RestConnection",SI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===mh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Km(),m=this.zo(e,n.toUriEncodedString());ce(Sm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),E=yo(y);return this.Jo(e,m,p,s,E).then((T=>(ce(Sm,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw ao(Sm,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=SI[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class bI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const $t="WebChannelConnection";class wI extends AI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Km();return new Promise(((m,p)=>{const y=new s0;y.setWithCredentials(!0),y.listenOnce(a0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case eh.NO_ERROR:const T=y.getResponseJson();ce($t,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case eh.TIMEOUT:ce($t,`RPC '${e}' ${f} timed out`),p(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const w=y.getStatus();if(ce($t,`RPC '${e}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const G=P?.error;if(G&&G.status&&G.message){const W=(function(te){const ne=te.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ne)>=0?ne:J.UNKNOWN})(G.status);p(new ue(W,G.message))}else p(new ue(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ue(J.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ce($t,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ce($t,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Km(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=u0(),m=l0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ce($t,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.I_(T);let w=!1,P=!1;const G=new bI({Yo:H=>{P?ce($t,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(w||(ce($t,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),ce($t,`RPC '${e}' stream ${o} sending:`,H),T.send(H))},Zo:()=>T.close()}),W=(H,te,ne)=>{H.listen(te,(se=>{try{ne(se)}catch(Re){setTimeout((()=>{throw Re}),0)}}))};return W(T,Pl.EventType.OPEN,(()=>{P||(ce($t,`RPC '${e}' stream ${o} transport opened.`),G.o_())})),W(T,Pl.EventType.CLOSE,(()=>{P||(P=!0,ce($t,`RPC '${e}' stream ${o} transport closed`),G.a_(),this.E_(T))})),W(T,Pl.EventType.ERROR,(H=>{P||(P=!0,ao($t,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),G.a_(new ue(J.UNAVAILABLE,"The operation could not be completed")))})),W(T,Pl.EventType.MESSAGE,(H=>{if(!P){const te=H.data[0];Qe(!!te,16349);const ne=te,se=ne?.error||ne[0]?.error;if(se){ce($t,`RPC '${e}' stream ${o} received error:`,se);const Re=se.status;let _e=(function(b){const R=Dt[b];if(R!==void 0)return H0(R)})(Re),Te=se.message;_e===void 0&&(_e=J.INTERNAL,Te="Unknown error status: "+Re+" with message "+se.message),P=!0,G.a_(new ue(_e,Te)),T.close()}else ce($t,`RPC '${e}' stream ${o} received:`,te),G.u_(te)}})),W(m,o0.STAT_EVENT,(H=>{H.stat===xm.PROXY?ce($t,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===xm.NOPROXY&&ce($t,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Am(){return typeof document<"u"?document:null}function Yh(r){return new D2(r,!0)}class iS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const kE="PersistentStream";class rS{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(ar(n.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(kE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(kE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class RI extends rS{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=M2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?Ii(f.readTime):Ae.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Gm(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=zm(p)?{documents:P2(u,p)}:{query:L2(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Q0(u,f.resumeToken);const y=qm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=vh(u,f.snapshotVersion.toTimestamp());const y=qm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=k2(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Gm(this.serializer),n.removeTarget=e,this.q_(n)}}class CI extends rS{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=x2(e.writeResults,e.commitTime),s=Ii(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Gm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>V2(this.serializer,s)))};this.q_(n)}}class II{}class DI extends II{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Hm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(J.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Hm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class NI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ar(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ea="RemoteStore";class OI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ia(this)&&(ce(ea,"Restarting streams for network reachability change."),await(async function(p){const y=we(p);y.Ea.add(4),await uu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Xh(y)})(this))}))})),this.Ra=new NI(s,o)}}async function Xh(r){if(ia(r))for(const e of r.da)await e(!0)}async function uu(r){for(const e of r.da)await e(!1)}function sS(r,e){const n=we(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Vp(n)?Mp(n):Ao(n).O_()&&Op(n,e))}function Np(r,e){const n=we(r),s=Ao(n);n.Ia.delete(e),s.O_()&&aS(n,e),n.Ia.size===0&&(s.O_()?s.L_():ia(n)&&n.Ra.set("Unknown"))}function Op(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ao(r).Y_(e)}function aS(r,e){r.Va.Ue(e),Ao(r).Z_(e)}function Mp(r){r.Va=new w2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ao(r).start(),r.Ra.ua()}function Vp(r){return ia(r)&&!Ao(r).x_()&&r.Ia.size>0}function ia(r){return we(r).Ea.size===0}function oS(r){r.Va=void 0}async function MI(r){r.Ra.set("Online")}async function VI(r){r.Ia.forEach(((e,n)=>{Op(r,e)}))}async function xI(r,e){oS(r),Vp(r)?(r.Ra.ha(e),Mp(r)):r.Ra.set("Unknown")}async function PI(r,e,n){if(r.Ra.set("Online"),e instanceof G0&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){ce(ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Th(r,s)}else if(e instanceof rh?r.Va.Ze(e):e instanceof F0?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await nS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),aS(u,p);const T=new $r(E.target,p,y,E.sequenceNumber);Op(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ce(ea,"Failed to raise snapshot:",s),await Th(r,s)}}async function Th(r,e,n){if(!To(e))throw e;r.Ea.add(1),await uu(r),r.Ra.set("Offline"),n||(n=()=>nS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(ea,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Xh(r)}))}function lS(r,e){return e().catch((n=>Th(r,n,e)))}async function $h(r){const e=we(r),n=os(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gp;for(;LI(e);)try{const o=await yI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,UI(e,o)}catch(o){await Th(e,o)}uS(e)&&cS(e)}function LI(r){return ia(r)&&r.Ta.length<10}function UI(r,e){r.Ta.push(e);const n=os(r);n.O_()&&n.X_&&n.ea(e.mutations)}function uS(r){return ia(r)&&!os(r).x_()&&r.Ta.length>0}function cS(r){os(r).start()}async function kI(r){os(r).ra()}async function zI(r){const e=os(r);for(const n of r.Ta)e.ea(n.mutations)}async function jI(r,e,n){const s=r.Ta.shift(),o=Ap.from(s,e,n);await lS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await $h(r)}async function BI(r,e){e&&os(r).X_&&await(async function(s,o){if((function(f){return S2(f)&&f!==J.ABORTED})(o.code)){const u=s.Ta.shift();os(s).B_(),await lS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await $h(s)}})(r,e),uS(r)&&cS(r)}async function zE(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),ce(ea,"RemoteStore received new credentials");const s=ia(n);n.Ea.add(3),await uu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Xh(n)}async function qI(r,e){const n=we(r);e?(n.Ea.delete(2),await Xh(n)):e||(n.Ea.add(2),await uu(n),n.Ra.set("Unknown"))}function Ao(r){return r.ma||(r.ma=(function(n,s,o){const u=we(n);return u.sa(),new RI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:MI.bind(null,r),t_:VI.bind(null,r),r_:xI.bind(null,r),H_:PI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Vp(r)?Mp(r):r.Ra.set("Unknown")):(await r.ma.stop(),oS(r))}))),r.ma}function os(r){return r.fa||(r.fa=(function(n,s,o){const u=we(n);return u.sa(),new CI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:kI.bind(null,r),r_:BI.bind(null,r),ta:zI.bind(null,r),na:jI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await $h(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(ea,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class xp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new xp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pp(r,e){if(ar("AsyncQueue",`${e}: ${r}`),To(r))return new ue(J.UNAVAILABLE,`${e}: ${r}`);throw r}class to{static emptySet(e){return new to(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=Ll(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof to)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new to;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class jE{constructor(){this.ga=new ct(pe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class ho{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new ho(e,n,to.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class HI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class FI{constructor(){this.queries=BE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=BE(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function BE(){return new na((r=>O0(r)),Hh)}async function Lp(r,e){const n=we(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new HI,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Pp(f,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&kp(n)}async function Up(r,e){const n=we(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function GI(r,e){const n=we(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&kp(n)}function QI(r,e,n){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function kp(r){r.Ca.forEach((e=>{e.next()}))}var Ym,qE;(qE=Ym||(Ym={})).Ma="default",qE.Cache="cache";class zp{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ho(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ym.Cache}}class hS{constructor(e){this.key=e}}class fS{constructor(e){this.key=e}}class KI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=M0(e),this.tu=new to(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new jE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const w=o.get(E),P=Fh(this.query,T)?T:null,G=!!w&&this.mutatedKeys.has(w.key),W=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let H=!1;w&&P?w.data.isEqual(P.data)?G!==W&&(s.track({type:3,doc:P}),H=!0):this.su(w,P)||(s.track({type:2,doc:P}),H=!0,(p&&this.eu(P,p)>0||y&&this.eu(P,y)<0)&&(m=!0)):!w&&P?(s.track({type:0,doc:P}),H=!0):w&&!P&&(s.track({type:1,doc:w}),H=!0,(p||y)&&(m=!0)),H&&(P?(f=f.add(P),u=W?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(P,G){const W=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:H})}};return W(P)-W(G)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new ho(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new fS(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new hS(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jp="SyncEngine";class YI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class XI{constructor(e){this.key=e,this.hu=!1}}class $I{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new na((m=>O0(m)),Hh),this.Iu=new Map,this.Eu=new Set,this.du=new ct(pe.comparator),this.Au=new Map,this.Ru=new Rp,this.Vu={},this.mu=new Map,this.fu=co.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JI(r,e,n=!0){const s=_S(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await dS(s,e,n,!0),o}async function ZI(r,e){const n=_S(r);await dS(n,e,!0,!1)}async function dS(r,e,n,s){const o=await _I(r.localStore,Ci(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await WI(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&sS(r.remoteStore,o),m}async function WI(r,e,n,s,o){r.pu=(T,w,P)=>(async function(W,H,te,ne){let se=H.view.ru(te);se.Cs&&(se=await xE(W.localStore,H.query,!1).then((({documents:D})=>H.view.ru(D,se))));const Re=ne&&ne.targetChanges.get(H.targetId),_e=ne&&ne.targetMismatches.get(H.targetId)!=null,Te=H.view.applyChanges(se,W.isPrimaryClient,Re,_e);return FE(W,H.targetId,Te.au),Te.snapshot})(r,T,w,P);const u=await xE(r.localStore,e,!0),f=new KI(e,u.Qs),m=f.ru(u.documents),p=lu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);FE(r,n,y.au);const E=new YI(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function eD(r,e,n){const s=we(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Hh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Qm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Np(s.remoteStore,o.targetId),Xm(s,o.targetId)})).catch(Eo)):(Xm(s,o.targetId),await Qm(s.localStore,o.targetId,!0))}async function tD(r,e){const n=we(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Np(n.remoteStore,s.targetId))}async function nD(r,e,n){const s=uD(r);try{const o=await(function(f,m){const p=we(f),y=rt.now(),E=m.reduce(((P,G)=>P.add(G.key)),Ue());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let G=or(),W=Ue();return p.Ns.getEntries(P,E).next((H=>{G=H,G.forEach(((te,ne)=>{ne.isValidDocument()||(W=W.add(te))}))})).next((()=>p.localDocuments.getOverlayedDocuments(P,G))).next((H=>{T=H;const te=[];for(const ne of m){const se=y2(ne,T.get(ne.key).overlayedDocument);se!=null&&te.push(new cs(ne.key,se,A0(se.value.mapValue),jn.exists(!0)))}return p.mutationQueue.addMutationBatch(P,y,te,m)})).next((H=>{w=H;const te=H.applyToLocalDocumentSet(T,W);return p.documentOverlayCache.saveOverlays(P,H.batchId,te)}))})).then((()=>({batchId:w.batchId,changes:x0(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new ct(Le)),y=y.insert(m,p),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await cu(s,o.changes),await $h(s.remoteStore)}catch(o){const u=Pp(o,"Failed to persist write");n.reject(u)}}async function mS(r,e){const n=we(r);try{const s=await pI(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qe(f.hu,14607):o.removedDocuments.size>0&&(Qe(f.hu,42227),f.hu=!1))})),await cu(n,s,e)}catch(s){await Eo(s)}}function HE(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=we(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,T)=>{for(const w of T.Sa)w.va(m)&&(y=!0)})),y&&kp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function iD(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ct(pe.comparator);f=f.insert(u,Zt.newNoDocument(u,Ae.min()));const m=Ue().add(u),p=new Kh(Ae.min(),new Map,new ct(Le),f,m);await mS(s,p),s.du=s.du.remove(u),s.Au.delete(e),Bp(s)}else await Qm(s.localStore,e,!1).then((()=>Xm(s,e,n))).catch(Eo)}async function rD(r,e){const n=we(r),s=e.batch.batchId;try{const o=await mI(n.localStore,e);gS(n,s,null),pS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await cu(n,o)}catch(o){await Eo(o)}}async function sD(r,e,n){const s=we(r);try{const o=await(function(f,m){const p=we(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((T=>(Qe(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);gS(s,e,n),pS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await cu(s,o)}catch(o){await Eo(o)}}function pS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function gS(r,e,n){const s=we(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Xm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||yS(r,s)}))}function yS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Np(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Bp(r))}function FE(r,e,n){for(const s of n)s instanceof hS?(r.Ru.addReference(s.key,e),aD(r,s)):s instanceof fS?(ce(jp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||yS(r,s.key)):Ee(19791,{wu:s})}function aD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ce(jp,"New document in limbo: "+n),r.Eu.add(s),Bp(r))}function Bp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new pe(tt.fromString(e)),s=r.fu.next();r.Au.set(s,new XI(n)),r.du=r.du.insert(n,s),sS(r.remoteStore,new $r(Ci(qh(n.path)),s,"TargetPurposeLimboResolution",zh.ce))}}async function cu(r,e,n){const s=we(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Ip.As(p.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,y){const E=we(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ee.forEach(y,(w=>ee.forEach(w.Es,(P=>E.persistence.referenceDelegate.addReference(T,w.targetId,P))).next((()=>ee.forEach(w.ds,(P=>E.persistence.referenceDelegate.removeReference(T,w.targetId,P)))))))))}catch(T){if(!To(T))throw T;ce(Dp,"Failed to update sequence numbers: "+T)}for(const T of y){const w=T.targetId;if(!T.fromCache){const P=E.Ms.get(w),G=P.snapshotVersion,W=P.withLastLimboFreeSnapshotVersion(G);E.Ms=E.Ms.insert(w,W)}}})(s.localStore,u))}async function oD(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){ce(jp,"User change. New user:",e.toKey());const s=await tS(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ue(J.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await cu(n,s.Ls)}}function lD(r,e){const n=we(r),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let o=Ue();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function _S(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=mS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iD.bind(null,e),e.Pu.H_=GI.bind(null,e.eventManager),e.Pu.yu=QI.bind(null,e.eventManager),e}function uD(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sD.bind(null,e),e}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return dI(this.persistence,new cI,e.initialUser,this.serializer)}Cu(e){return new eS(Cp.mi,this.serializer)}Du(e){return new EI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class cD extends Sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof Eh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new X2(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new eS((s=>Eh.mi(s,n)),this.serializer)}}class $m{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>HE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=oD.bind(null,this.syncEngine),await qI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new FI})()}createDatastore(e){const n=Yh(e.databaseInfo.databaseId),s=(function(u){return new wI(u)})(e.databaseInfo);return(function(u,f,m,p){return new DI(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new OI(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>HE(this.syncEngine,n,0)),(function(){return UE.v()?new UE:new TI})())}createSyncEngine(e,n){return(function(o,u,f,m,p,y,E){const T=new $I(o,u,f,m,p,y);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=we(n);ce(ea,"RemoteStore shutting down."),s.Ea.add(5),await uu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}$m.provider={build:()=>new $m};class qp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ls="FirestoreClient";class hD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=pp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ce(ls,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ce(ls,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Pp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function bm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(ls,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await tS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function GE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await fD(r);ce(ls,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>zE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>zE(e.remoteStore,o))),r._onlineComponents=e}async function fD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(ls,"Using user provided OfflineComponentProvider");try{await bm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ao("Error using user provided cache. Falling back to memory cache: "+n),await bm(r,new Sh)}}else ce(ls,"Using default OfflineComponentProvider"),await bm(r,new cD(void 0));return r._offlineComponents}async function vS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(ls,"Using user provided OnlineComponentProvider"),await GE(r,r._uninitializedComponentsProvider._online)):(ce(ls,"Using default OnlineComponentProvider"),await GE(r,new $m))),r._onlineComponents}function dD(r){return vS(r).then((e=>e.syncEngine))}async function Ah(r){const e=await vS(r),n=e.eventManager;return n.onListen=JI.bind(null,e.syncEngine),n.onUnlisten=eD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ZI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tD.bind(null,e.syncEngine),n}function mD(r,e,n={}){const s=new ir;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new qp({next:w=>{E.Nu(),f.enqueueAndForget((()=>Up(u,T)));const P=w.docs.has(m);!P&&w.fromCache?y.reject(new ue(J.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&w.fromCache&&p&&p.source==="server"?y.reject(new ue(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),T=new zp(qh(m.path),E,{includeMetadataChanges:!0,qa:!0});return Lp(u,T)})(await Ah(r),r.asyncQueue,e,n,s))),s.promise}function pD(r,e,n={}){const s=new ir;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new qp({next:w=>{E.Nu(),f.enqueueAndForget((()=>Up(u,T))),w.fromCache&&p.source==="server"?y.reject(new ue(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),T=new zp(m,E,{includeMetadataChanges:!0,qa:!0});return Lp(u,T)})(await Ah(r),r.asyncQueue,e,n,s))),s.promise}function ES(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const QE=new Map;const TS="firestore.googleapis.com",KE=!0;class YE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TS,this.ssl=KE}else this.host=e.host,this.ssl=e.ssl??KE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=W0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<K2)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ES(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new TC;switch(s.type){case"firstParty":return new wC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=QE.get(n);s&&(ce("ComponentProvider","Removing Datastore"),QE.delete(n),s.terminate())})(this),Promise.resolve()}}function gD(r,e,n,s={}){r=dn(r,Jh);const o=yo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&($T(`https://${m}`),JT("Firestore",!0)),u.host!==TS&&u.host!==m&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Js(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Jt.MOCK_USER;else{y=Yw(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jt(T)}r._authCredentials=new SC(new h0(y,E))}}class hs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new hs(this.firestore,e,this._query)}}class dt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}toJSON(){return{type:dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(au(n,dt._jsonSchema))return new dt(e,s||null,new pe(tt.fromString(n.referencePath)))}}dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:Ot("string",dt._jsonSchemaVersion),referencePath:Ot("string")};class ts extends hs{constructor(e,n,s){super(e,n,qh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new pe(e))}withConverter(e){return new ts(this.firestore,e,this._path)}}function Gs(r,e,...n){if(r=zt(r),f0("collection","path",e),r instanceof Jh){const s=tt.fromString(e,...n);return oE(s),new ts(r,null,s)}{if(!(r instanceof dt||r instanceof ts))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return oE(s),new ts(r.firestore,null,s)}}function Wa(r,e,...n){if(r=zt(r),arguments.length===1&&(e=pp.newId()),f0("doc","path",e),r instanceof Jh){const s=tt.fromString(e,...n);return aE(s),new dt(r,null,new pe(s))}{if(!(r instanceof dt||r instanceof ts))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return aE(s),new dt(r.firestore,r instanceof ts?r.converter:null,new pe(s))}}const XE="AsyncQueue";class $E{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iS(this,"async_queue_retry"),this._c=()=>{const s=Am();s&&ce(XE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Am();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Am();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ir;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!To(e))throw e;ce(XE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ar("INTERNAL UNHANDLED ERROR: ",JE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=xp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:JE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function JE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function ZE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class lr extends Jh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new $E,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $E(e),this._firestoreClient=void 0,await e}}}function yD(r,e){const n=typeof r=="object"?r:t0(),s=typeof r=="string"?r:mh,o=dp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Qw("firestore");u&&gD(o,...u)}return o}function Zh(r){if(r._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||_D(r),r._firestoreClient}function _D(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new qC(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,ES(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new hD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Yt.fromBase64String(e))}catch(n){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(au(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Ot("string",zn._jsonSchemaVersion),bytes:Ot("string")};class Wh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hp{constructor(e){this._methodName=e}}class Di{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(e){if(au(e,Di._jsonSchema))return new Di(e.latitude,e.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:Ot("string",Di._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class Ni{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(au(e,Ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ni(e.vectorValues);throw new ue(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:Ot("string",Ni._jsonSchemaVersion),vectorValues:Ot("object")};const vD=/^__.*__$/;class ED{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,n,this.fieldTransforms):new ou(e,this.data,n,this.fieldTransforms)}}class SS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new cs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class Fp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Fp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(AS(this.Ac)&&vD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class TD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Yh(e)}Cc(e,n,s,o=!1){return new Fp({Ac:e,methodName:n,Dc:s,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ef(r){const e=r._freezeSettings(),n=Yh(r._databaseId);return new TD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function bS(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Gp("Data must be an object, but it was:",f,s);const m=wS(s,f);let p,y;if(u.merge)p=new An(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const w=Jm(e,T,n);if(!f.contains(w))throw new ue(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);CS(E,w)||E.push(w)}p=new An(E),y=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=f.fieldTransforms;return new ED(new fn(m),p,y)}class tf extends Hp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tf}}function SD(r,e,n,s){const o=r.Cc(1,e,n);Gp("Data must be an object, but it was:",o,s);const u=[],f=fn.empty();us(s,((p,y)=>{const E=Qp(e,p,n);y=zt(y);const T=o.yc(E);if(y instanceof tf)u.push(E);else{const w=hu(y,T);w!=null&&(u.push(E),f.set(E,w))}}));const m=new An(u);return new SS(f,m,o.fieldTransforms)}function AD(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[Jm(e,s,n)],p=[o];if(u.length%2!=0)throw new ue(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(Jm(e,u[w])),p.push(u[w+1]);const y=[],E=fn.empty();for(let w=m.length-1;w>=0;--w)if(!CS(y,m[w])){const P=m[w];let G=p[w];G=zt(G);const W=f.yc(P);if(G instanceof tf)y.push(P);else{const H=hu(G,W);H!=null&&(y.push(P),E.set(P,H))}}const T=new An(y);return new SS(E,T,f.fieldTransforms)}function bD(r,e,n,s=!1){return hu(n,r.Cc(s?4:3,e))}function hu(r,e){if(RS(r=zt(r)))return Gp("Unsupported field value:",e,r),wS(r,e);if(r instanceof Hp)return(function(s,o){if(!AS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=hu(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=zt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return h2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:vh(o.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:vh(o.serializer,u)}}if(s instanceof Di)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:Q0(o.serializer,s._byteString)};if(s instanceof dt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:wp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ni)return(function(f,m){return{mapValue:{fields:{[T0]:{stringValue:S0},[ph]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Tp(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${kh(s)}`)})(r,e)}function wS(r,e){const n={};return p0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(r,((s,o)=>{const u=hu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function RS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof Di||r instanceof zn||r instanceof dt||r instanceof Hp||r instanceof Ni)}function Gp(r,e,n){if(!RS(n)||!d0(n)){const s=kh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Jm(r,e,n){if((e=zt(e))instanceof Wh)return e._internalPath;if(typeof e=="string")return Qp(r,e);throw bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const wD=new RegExp("[~\\*/\\[\\]]");function Qp(r,e,n){if(e.search(wD)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Wh(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function bh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ue(J.INVALID_ARGUMENT,m+r+p)}function CS(r,e){return r.some((n=>n.isEqual(e)))}class IS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Kp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RD extends IS{data(){return super.data()}}function Kp(r,e){return typeof e=="string"?Qp(r,e):e instanceof Wh?e._internalPath:e._delegate._internalPath}function DS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yp{}class NS extends Yp{}function CD(r,e,...n){let s=[];e instanceof Yp&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof $p)).length,m=u.filter((p=>p instanceof Xp)).length;if(f>1||f>0&&m>0)throw new ue(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Xp extends NS{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Xp(e,n,s)}_apply(e){const n=this._parse(e);return OS(e._query,n),new hs(e.firestore,e.converter,jm(e._query,n))}_parse(e){const n=ef(e.firestore);return(function(u,f,m,p,y,E,T){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){tT(T,E);const G=[];for(const W of T)G.push(eT(p,u,W));w={arrayValue:{values:G}}}else w=eT(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||tT(T,E),w=bD(m,f,T,E==="in"||E==="not-in");return Nt.create(y,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class $p extends Yp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $p(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ni.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)OS(f,p),f=jm(f,p)})(e._query,n),new hs(e.firestore,e.converter,jm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jp extends NS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Jp(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jl(u,f)})(e._query,this._field,this._direction);return new hs(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new So(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function WE(r,e="asc"){const n=e,s=Kp("orderBy",r);return Jp._create(s,n)}function eT(r,e,n){if(typeof(n=zt(n))=="string"){if(n==="")throw new ue(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!N0(e)&&n.indexOf("/")!==-1)throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!pe.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return pE(r,new pe(s))}if(n instanceof dt)return pE(r,n._key);throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kh(n)}.`)}function tT(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OS(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ID{convertValue(e,n="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return us(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[ph].arrayValue?.values?.map((s=>vt(s.doubleValue)));return new Ni(n)}convertGeoPoint(e){return new Di(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Bh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const n=rs(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Qe(Z0(s),9688,{name:e});const o=new Xl(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(n)||ar(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function MS(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xs extends IS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Kp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xs._jsonSchema={type:Ot("string",Xs._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class sh extends Xs{data(e={}){return super.data(e)}}class $s{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new kl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new sh(this._firestore,this._userDataWriter,s.key,s,new kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:DD(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$s._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function DD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}function ND(r){r=dn(r,dt);const e=dn(r.firestore,lr);return mD(Zh(e),r._key).then((n=>xS(e,r,n)))}$s._jsonSchemaVersion="firestore/querySnapshot/1.0",$s._jsonSchema={type:Ot("string",$s._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Zp extends ID{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}}function nT(r){r=dn(r,hs);const e=dn(r.firestore,lr),n=Zh(e),s=new Zp(e);return DS(r._query),pD(n,r._query).then((o=>new $s(e,s,r,o)))}function OD(r,e,n){r=dn(r,dt);const s=dn(r.firestore,lr),o=MS(r.converter,e);return nf(s,[bS(ef(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,jn.none())])}function iT(r,e,n,...s){r=dn(r,dt);const o=dn(r.firestore,lr),u=ef(o);let f;return f=typeof(e=zt(e))=="string"||e instanceof Wh?AD(u,"updateDoc",r._key,e,n,s):SD(u,"updateDoc",r._key,e),nf(o,[f.toMutation(r._key,jn.exists(!0))])}function MD(r){return nf(dn(r.firestore,lr),[new Sp(r._key,jn.none())])}function Zm(r,e){const n=dn(r.firestore,lr),s=Wa(r),o=MS(r.converter,e);return nf(n,[bS(ef(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,jn.exists(!1))]).then((()=>s))}function VS(r,...e){r=zt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||ZE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(ZE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(r instanceof dt)f=dn(r.firestore,lr),m=qh(r._key.path),u={next:p=>{e[s]&&e[s](xS(f,r,p))},error:e[s+1],complete:e[s+2]};else{const p=dn(r,hs);f=dn(p.firestore,lr),m=p._query;const y=new Zp(f);u={next:E=>{e[s]&&e[s](new $s(f,y,p,E))},error:e[s+1],complete:e[s+2]},DS(r._query)}return(function(y,E,T,w){const P=new qp(w),G=new zp(E,P,T);return y.asyncQueue.enqueueAndForget((async()=>Lp(await Ah(y),G))),()=>{P.Nu(),y.asyncQueue.enqueueAndForget((async()=>Up(await Ah(y),G)))}})(Zh(f),m,o,u)}function nf(r,e){return(function(s,o){const u=new ir;return s.asyncQueue.enqueueAndForget((async()=>nD(await dD(s),o,u))),u.promise})(Zh(r),e)}function xS(r,e,n){const s=n.docs.get(e._key),o=new Zp(r);return new Xs(r,o,e._key,s,new kl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){vo=o})(_o),so(new Zs("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new lr(new AC(s.getProvider("auth-internal")),new RC(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Wr(nE,iE,e),Wr(nE,iE,"esm2020")})();var VD="firebase",xD="12.7.0";Wr(VD,xD,"app");function PS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PD=PS,LS=new ru("auth","Firebase",PS());const wh=new hp("@firebase/auth");function LD(r,...e){wh.logLevel<=Pe.WARN&&wh.warn(`Auth (${_o}): ${r}`,...e)}function ah(r,...e){wh.logLevel<=Pe.ERROR&&wh.error(`Auth (${_o}): ${r}`,...e)}function ii(r,...e){throw Wp(r,...e)}function Oi(r,...e){return Wp(r,...e)}function US(r,e,n){const s={...PD(),[e]:n};return new ru("auth","Firebase",s).create(e,{appName:r.name})}function ns(r){return US(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return LS.create(r,...e)}function ve(r,e,...n){if(!r)throw Wp(e,...n)}function er(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ah(e),new Error(e)}function ur(r,e){r||er(e)}function Wm(){return typeof self<"u"&&self.location?.href||""}function UD(){return rT()==="http:"||rT()==="https:"}function rT(){return typeof self<"u"&&self.location?.protocol||null}function kD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UD()||eR()||"connection"in navigator)?navigator.onLine:!0}function zD(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ur(n>e,"Short delay should be less than long delay!"),this.isMobile=Jw()||tR()}get(){return kD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function eg(r,e){ur(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class kS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const BD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qD=new fu(3e4,6e4);function ra(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function fs(r,e,n,s,o={}){return zS(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=su({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:p,...u};return Ww()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&yo(r.emulatorConfig.host)&&(y.credentials="include"),kS.fetch()(await jS(r,r.config.apiHost,n,m),y)})}async function zS(r,e,n){r._canInitEmulator=!1;const s={...jD,...e};try{const o=new FD(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw $c(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw $c(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw $c(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw $c(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw US(r,E,y);ii(r,E)}}catch(o){if(o instanceof hr)throw o;ii(r,"network-request-failed",{message:String(o)})}}async function rf(r,e,n,s,o={}){const u=await fs(r,e,n,s,o);return"mfaPendingCredential"in u&&ii(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function jS(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?eg(r.config,o):`${r.config.apiScheme}://${o}`;return BD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function HD(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Oi(this.auth,"network-request-failed")),qD.get())})}}function $c(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Oi(r,e,s);return o.customData._tokenResponse=n,o}function sT(r){return r!==void 0&&r.enterprise!==void 0}class GD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QD(r,e){return fs(r,"GET","/v2/recaptchaConfig",ra(r,e))}async function KD(r,e){return fs(r,"POST","/v1/accounts:delete",e)}async function Rh(r,e){return fs(r,"POST","/v1/accounts:lookup",e)}function Fl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YD(r,e=!1){const n=zt(r),s=await n.getIdToken(e),o=tg(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Fl(wm(o.auth_time)),issuedAtTime:Fl(wm(o.iat)),expirationTime:Fl(wm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function wm(r){return Number(r)*1e3}function tg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=QT(n);return o?JSON.parse(o):(ah("Failed to decode base64 JWT payload"),null)}catch(o){return ah("Caught error parsing JWT payload as JSON",o?.toString()),null}}function aT(r){const e=tg(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function eu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof hr&&XD(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function XD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class $D{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ep{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fl(this.lastLoginAt),this.creationTime=Fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ch(r){const e=r.auth,n=await r.getIdToken(),s=await eu(r,Rh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?BS(o.providerUserInfo):[],f=ZD(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new ep(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function JD(r){const e=zt(r);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZD(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function BS(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function WD(r,e){const n=await zS(r,{},async()=>{const s=su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await jS(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&yo(r.emulatorConfig.host)&&(p.credentials="include"),kS.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eN(r,e){return fs(r,"POST","/v2/accounts:revokeToken",ra(r,e))}class no{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=aT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await WD(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new no;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new no,this.toJSON())}_performRefresh(){return er("not implemented")}}function Gr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ti{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new $D(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ep(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await eu(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return YD(this,e)}reload(){return JD(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(ns(this.auth));const e=await this.getIdToken();return await eu(this,KD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:P,providerData:G,stsTokenManager:W}=n;ve(T&&W,e,"internal-error");const H=no.fromJSON(this.name,W);ve(typeof T=="string",e,"internal-error"),Gr(s,e.name),Gr(o,e.name),ve(typeof w=="boolean",e,"internal-error"),ve(typeof P=="boolean",e,"internal-error"),Gr(u,e.name),Gr(f,e.name),Gr(m,e.name),Gr(p,e.name),Gr(y,e.name),Gr(E,e.name);const te=new ti({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:P,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:H,createdAt:y,lastLoginAt:E});return G&&Array.isArray(G)&&(te.providerData=G.map(ne=>({...ne}))),p&&(te._redirectEventId=p),te}static async _fromIdTokenResponse(e,n,s=!1){const o=new no;o.updateFromServerResponse(n);const u=new ti({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ch(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?BS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new no;m.updateFromIdToken(s);const p=new ti({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ep(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const oT=new Map;function tr(r){ur(r instanceof Function,"Expected a class definition");let e=oT.get(r);return e?(ur(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,oT.set(r,e),e)}class qS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qS.type="NONE";const lT=qS;function oh(r,e,n){return`firebase:${r}:${e}:${n}`}class io{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=oh(this.userKey,o.apiKey,u),this.fullPersistenceKey=oh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Rh(this.auth,{idToken:e}).catch(()=>{});return n?ti._fromGetAccountInfoResponse(this.auth,n,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new io(tr(lT),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||tr(lT);const f=oh(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let T;if(typeof E=="string"){const w=await Rh(e,{idToken:E}).catch(()=>{});if(!w)break;T=await ti._fromGetAccountInfoResponse(e,w,E)}else T=ti._fromJSON(e,E);y!==u&&(m=T),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new io(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new io(u,e,s))}}function uT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YS(e))return"Blackberry";if(XS(e))return"Webos";if(FS(e))return"Safari";if((e.includes("chrome/")||GS(e))&&!e.includes("edge/"))return"Chrome";if(KS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function HS(r=Wt()){return/firefox\//i.test(r)}function FS(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GS(r=Wt()){return/crios\//i.test(r)}function QS(r=Wt()){return/iemobile/i.test(r)}function KS(r=Wt()){return/android/i.test(r)}function YS(r=Wt()){return/blackberry/i.test(r)}function XS(r=Wt()){return/webos/i.test(r)}function ng(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function tN(r=Wt()){return ng(r)&&!!window.navigator?.standalone}function nN(){return nR()&&document.documentMode===10}function $S(r=Wt()){return ng(r)||KS(r)||XS(r)||YS(r)||/windows phone/i.test(r)||QS(r)}function JS(r,e=[]){let n;switch(r){case"Browser":n=uT(Wt());break;case"Worker":n=`${uT(Wt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_o}/${s}`}class iN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function rN(r,e={}){return fs(r,"GET","/v2/passwordPolicy",ra(r,e))}const sN=6;class aN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??sN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class oN{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cT(this),this.idTokenSubscription=new cT(this),this.beforeStateQueue=new iN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=tr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await io.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Rh(this,{idToken:e}),s=await ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ei(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ei(this.app))return Promise.reject(ns(this));const n=e?zt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ei(this.app)?Promise.reject(ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rN(this),n=new aN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ru("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await eN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&tr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await io.create(this,[tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&LD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function bo(r){return zt(r)}class cT{constructor(e){this.auth=e,this.observer=null,this.addObserver=cR(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let sf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lN(r){sf=r}function ZS(r){return sf.loadJS(r)}function uN(){return sf.recaptchaEnterpriseScript}function cN(){return sf.gapiScript}function hN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class fN{constructor(){this.enterprise=new dN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class dN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const mN="recaptcha-enterprise",WS="NO_RECAPTCHA";class pN{constructor(e){this.type=mN,this.auth=bo(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{QD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new GD(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;sT(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(WS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fN().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&sT(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=uN();p.length!==0&&(p+=m),ZS(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function hT(r,e,n,s=!1,o=!1){const u=new pN(r);let f;if(o)f=WS;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function fT(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await hT(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await hT(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function gN(r,e){const n=dp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Js(u,e??{}))return o;ii(o,"already-initialized")}return n.initialize({options:e})}function yN(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(tr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function _N(r,e,n){const s=bo(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=eA(e),{host:f,port:m}=vN(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Js(y,s.config.emulator)&&Js(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,yo(f)?($T(`${u}//${f}${p}`),JT("Auth",!0)):EN()}function eA(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function vN(r){const e=eA(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:dT(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:dT(f)}}}function dT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function EN(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class ig{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return er("not implemented")}_getIdTokenResponse(e){return er("not implemented")}_linkToIdToken(e,n){return er("not implemented")}_getReauthenticationResolver(e){return er("not implemented")}}async function TN(r,e){return fs(r,"POST","/v1/accounts:signUp",e)}async function SN(r,e){return rf(r,"POST","/v1/accounts:signInWithPassword",ra(r,e))}async function AN(r,e){return rf(r,"POST","/v1/accounts:signInWithEmailLink",ra(r,e))}async function bN(r,e){return rf(r,"POST","/v1/accounts:signInWithEmailLink",ra(r,e))}class tu extends ig{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new tu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new tu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fT(e,n,"signInWithPassword",SN);case"emailLink":return AN(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fT(e,s,"signUpPassword",TN);case"emailLink":return bN(e,{idToken:n,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ro(r,e){return rf(r,"POST","/v1/accounts:signInWithIdp",ra(r,e))}const wN="http://localhost";class ta extends ig{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ii("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ta(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ro(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ro(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ro(e,n)}buildRequest(){const e={requestUri:wN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=su(n)}return e}}function RN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CN(r){const e=Vl(xl(r)).link,n=e?Vl(xl(e)).deep_link_id:null,s=Vl(xl(r)).deep_link_id;return(s?Vl(xl(s)).link:null)||s||n||e||r}class rg{constructor(e){const n=Vl(xl(e)),s=n.apiKey??null,o=n.oobCode??null,u=RN(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=CN(e);try{return new rg(n)}catch{return null}}}class wo{constructor(){this.providerId=wo.PROVIDER_ID}static credential(e,n){return tu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=rg.parseLink(n);return ve(s,"argument-error"),tu._fromEmailAndCode(e,s.code,s.tenantId)}}wo.PROVIDER_ID="password";wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class tA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class du extends tA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qr extends du{constructor(){super("facebook.com")}static credential(e){return ta._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";class Kr extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ta._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Kr.credential(n,s)}catch{return null}}}Kr.GOOGLE_SIGN_IN_METHOD="google.com";Kr.PROVIDER_ID="google.com";class Yr extends du{constructor(){super("github.com")}static credential(e){return ta._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";class Xr extends du{constructor(){super("twitter.com")}static credential(e,n){return ta._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Xr.credential(n,s)}catch{return null}}}Xr.TWITTER_SIGN_IN_METHOD="twitter.com";Xr.PROVIDER_ID="twitter.com";class fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ti._fromIdTokenResponse(e,s,o),f=mT(s);return new fo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=mT(s);return new fo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function mT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Ih extends hr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ih(e,n,s,o)}}function nA(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(r,u,e,s):u})}async function IN(r,e,n=!1){const s=await eu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return fo._forOperation(r,"link",s)}async function DN(r,e,n=!1){const{auth:s}=r;if(ei(s.app))return Promise.reject(ns(s));const o="reauthenticate";try{const u=await eu(r,nA(s,o,e,r),n);ve(u.idToken,s,"internal-error");const f=tg(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(r.uid===m,s,"user-mismatch"),fo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ii(s,"user-mismatch"),u}}async function iA(r,e,n=!1){if(ei(r.app))return Promise.reject(ns(r));const s="signIn",o=await nA(r,s,e),u=await fo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function NN(r,e){return iA(bo(r),e)}async function ON(r){const e=bo(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function MN(r,e,n){return ei(r.app)?Promise.reject(ns(r)):NN(zt(r),wo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ON(r),s})}function VN(r,e,n,s){return zt(r).onIdTokenChanged(e,n,s)}function xN(r,e,n){return zt(r).beforeAuthStateChanged(e,n)}function PN(r,e,n,s){return zt(r).onAuthStateChanged(e,n,s)}const Dh="__sak";class rA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const LN=1e3,UN=10;class sA extends rA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$S(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);nN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,UN):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},LN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sA.type="LOCAL";const kN=sA;class aA extends rA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}aA.type="SESSION";const oA=aA;function zN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class af{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new af(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await zN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}af.receivers=[];function sg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class jN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=sg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Mi(){return window}function BN(r){Mi().location.href=r}function lA(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function qN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HN(){return navigator?.serviceWorker?.controller||null}function FN(){return lA()?self:null}const uA="firebaseLocalStorageDb",GN=1,Nh="firebaseLocalStorage",cA="fbase_key";class mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function of(r,e){return r.transaction([Nh],e?"readwrite":"readonly").objectStore(Nh)}function QN(){const r=indexedDB.deleteDatabase(uA);return new mu(r).toPromise()}function tp(){const r=indexedDB.open(uA,GN);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Nh,{keyPath:cA})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Nh)?e(s):(s.close(),await QN(),e(await tp()))})})}async function pT(r,e,n){const s=of(r,!0).put({[cA]:e,value:n});return new mu(s).toPromise()}async function KN(r,e){const n=of(r,!1).get(e),s=await new mu(n).toPromise();return s===void 0?null:s.value}function gT(r,e){const n=of(r,!0).delete(e);return new mu(n).toPromise()}const YN=800,XN=3;class hA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>XN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=af._getInstance(FN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await qN(),!this.activeServiceWorker)return;this.sender=new jN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tp();return await pT(e,Dh,"1"),await gT(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>pT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>KN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=of(o,!1).getAll();return new mu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hA.type="LOCAL";const $N=hA;new fu(3e4,6e4);function JN(r,e){return e?tr(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class ag extends ig{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ro(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ro(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ZN(r){return iA(r.auth,new ag(r),r.bypassAuthState)}function WN(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),DN(n,new ag(r),r.bypassAuthState)}async function eO(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),IN(n,new ag(r),r.bypassAuthState)}class fA{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZN;case"linkViaPopup":case"linkViaRedirect":return eO;case"reauthViaPopup":case"reauthViaRedirect":return WN;default:ii(this.auth,"internal-error")}}resolve(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tO=new fu(2e3,1e4);class eo extends fA{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,eo.currentPopupAction&&eo.currentPopupAction.cancel(),eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){ur(this.filter.length===1,"Popup operations only handle one event");const e=sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tO.get())};e()}}eo.currentPopupAction=null;const nO="pendingRedirect",lh=new Map;class iO extends fA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const s=await rO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rO(r,e){const n=oO(e),s=aO(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function sO(r,e){lh.set(r._key(),e)}function aO(r){return tr(r._redirectPersistence)}function oO(r){return oh(nO,r.config.apiKey,r.name)}async function lO(r,e,n=!1){if(ei(r.app))return Promise.reject(ns(r));const s=bo(r),o=JN(s,e),f=await new iO(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const uO=600*1e3;class cO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!dA(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Oi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uO&&this.cachedEventUids.clear(),this.cachedEventUids.has(yT(e))}saveEventToCache(e){this.cachedEventUids.add(yT(e)),this.lastProcessedEventTime=Date.now()}}function yT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function dA({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function hO(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dA(r);default:return!1}}async function fO(r,e={}){return fs(r,"GET","/v1/projects",e)}const dO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mO=/^https?/;async function pO(r){if(r.config.emulator)return;const{authorizedDomains:e}=await fO(r);for(const n of e)try{if(gO(n))return}catch{}ii(r,"unauthorized-domain")}function gO(r){const e=Wm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!mO.test(n))return!1;if(dO.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const yO=new fu(3e4,6e4);function _T(){const r=Mi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function _O(r){return new Promise((e,n)=>{function s(){_T(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_T(),n(Oi(r,"network-request-failed"))},timeout:yO.get()})}if(Mi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Mi().gapi?.load)s();else{const o=hN("iframefcb");return Mi()[o]=()=>{gapi.load?s():n(Oi(r,"network-request-failed"))},ZS(`${cN()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw uh=null,e})}let uh=null;function vO(r){return uh=uh||_O(r),uh}const EO=new fu(5e3,15e3),TO="__/auth/iframe",SO="emulator/auth/iframe",AO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wO(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?eg(e,SO):`https://${r.config.authDomain}/${TO}`,s={apiKey:e.apiKey,appName:r.name,v:_o},o=bO.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${su(s).slice(1)}`}async function RO(r){const e=await vO(r),n=Mi().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:wO(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Oi(r,"network-request-failed"),m=Mi().setTimeout(()=>{u(f)},EO.get());function p(){Mi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const CO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IO=500,DO=600,NO="_blank",OO="http://localhost";class vT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MO(r,e,n,s=IO,o=DO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...CO,width:s.toString(),height:o.toString(),top:u,left:f},y=Wt().toLowerCase();n&&(m=GS(y)?NO:n),HS(y)&&(e=e||OO,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[P,G])=>`${w}${P}=${G},`,"");if(tN(y)&&m!=="_self")return VO(e||"",m),new vT(null);const T=window.open(e||"",m,E);ve(T,r,"popup-blocked");try{T.focus()}catch{}return new vT(T)}function VO(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const xO="__/auth/handler",PO="emulator/auth/handler",LO=encodeURIComponent("fac");async function ET(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:_o,eventId:o};if(e instanceof tA){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",uR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof du){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${LO}=${encodeURIComponent(p)}`:"";return`${UO(r)}?${su(m).slice(1)}${y}`}function UO({config:r}){return r.emulator?eg(r,PO):`https://${r.authDomain}/${xO}`}const Rm="webStorageSupport";class kO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oA,this._completeRedirectFn=lO,this._overrideRedirectResult=sO}async _openPopup(e,n,s,o){ur(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await ET(e,n,s,Wm(),o);return MO(e,u,sg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await ET(e,n,s,Wm(),o);return BN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ur(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await RO(e),s=new cO(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rm,{type:Rm},o=>{const u=o?.[0]?.[Rm];u!==void 0&&n(!!u),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $S()||FS()||ng()}}const zO=kO;var TT="@firebase/auth",ST="1.12.0";class jO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function BO(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qO(r){so(new Zs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JS(r)},y=new oN(s,o,u,p);return yN(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),so(new Zs("auth-internal",e=>{const n=bo(e.getProvider("auth").getImmediate());return(s=>new jO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(TT,ST,BO(r)),Wr(TT,ST,"esm2020")}const HO=300,FO=XT("authIdTokenMaxAge")||HO;let AT=null;const GO=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>FO)return;const o=n?.token;AT!==o&&(AT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function QO(r=t0()){const e=dp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=gN(r,{popupRedirectResolver:zO,persistence:[$N,kN,oA]}),s=XT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=GO(u.toString());xN(n,f,()=>f(n.currentUser)),VN(n,m=>f(m))}}const o=KT("auth");return o&&_N(n,`http://${o}`),n}function KO(){return document.getElementsByTagName("head")?.[0]??document}lN({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Oi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",KO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qO("Browser");const YO={apiKey:"AIzaSyAbUXBuqMXnaTZKBVQ-NO6KvZ0rKFwpBhA",authDomain:"fabim-barber.firebaseapp.com",projectId:"fabim-barber",storageBucket:"fabim-barber.firebasestorage.app",messagingSenderId:"769232328010",appId:"1:769232328010:web:897f7b36deeb0d98001db3"},mA=e0(YO),kn=yD(mA),pA=QO(mA),gA=B.createContext();function yA({children:r}){const[e,n]=B.useState(null),[s,o]=B.useState(!0);return B.useEffect(()=>{const u=PN(pA,f=>{n(f),o(!1)});return()=>u()},[]),Q.jsx(gA.Provider,{value:{user:e,loading:s},children:r})}function XO(){return B.useContext(gA)}const Ks={cabelo:{nome:"Cabelo",duracao:50,preco:25},barba:{nome:"Barba",duracao:20,preco:15},sobrancelha:{nome:"Sobrancelha",duracao:10,preco:15},peDoCabelo:{nome:"P do Cabelo",duracao:10,preco:5}};function $O({onSubmit:r,gerarHorarios:e}){const[n,s]=B.useState(""),[o,u]=B.useState(""),[f,m]=B.useState(null),[p,y]=B.useState([]),[E,T]=B.useState(!1),[w,P]=B.useState({tipo:"",mensagem:"",visivel:!1});function G(b,R){P({tipo:b,mensagem:R,visivel:!0}),setTimeout(()=>{P({tipo:"",mensagem:"",visivel:!1})},3e3)}function W(b){y(R=>R.includes(b)?R.filter(O=>O!==b):[...R,b])}const H=B.useMemo(()=>p.reduce((b,R)=>b+(Ks[R]?.duracao||0),0),[p]),{totalFinal:te,descontoAplicado:ne}=B.useMemo(()=>{let b=p.reduce((He,ut)=>He+(Ks[ut]?.preco||0),0);const R=p.map(He=>Ks[He]?.nome?.toLowerCase()),O=R.includes("cabelo"),M=R.includes("barba"),L=R.includes("sobrancelha");let I=0;return O&&M&&L&&(I=5,b-=I),{totalFinal:b,descontoAplicado:I}},[p]),se=B.useMemo(()=>!o||H===0?[]:e(o,H),[o,H,e]),Re=se.filter(b=>b.inicioMinutos<720),_e=se.filter(b=>b.inicioMinutos>=840);async function Te(b){if(b.preventDefault(),!n||!o||!f||p.length===0){G("error","Preencha todos os campos.");return}T(!0);const R=await r({nome:n,data:o,servicos:p,inicio:f.inicio,fim:f.fim,inicioMinutos:f.inicioMinutos,fimMinutos:f.fimMinutos,status:"ativo",valorTotal:te});if(T(!1),R===!1){G("error","Esse horrio no comporta os servios selecionados.");return}s(""),u(""),m(null),y([]),G("success",`Agendamento realizado! Total: R$ ${te}`)}function D(b,R){return R.length===0?null:Q.jsxs(Q.Fragment,{children:[Q.jsx("h3",{className:"periodo-titulo",children:b}),Q.jsx("div",{className:"horarios-grid",children:R.map(O=>Q.jsxs("button",{type:"button",className:`horario-btn ${f?.inicioMinutos===O.inicioMinutos?"ativo":""}`,onClick:()=>m(O),children:[Q.jsx("span",{children:O.inicio}),Q.jsxs("small",{children:["at ",O.fim]})]},O.inicioMinutos))})]})}return Q.jsxs("div",{className:"form-container",children:[w.visivel&&Q.jsx("div",{className:"alert-overlay",children:Q.jsx("div",{className:`alert-box ${w.tipo}`,children:w.mensagem})}),Q.jsxs("form",{onSubmit:Te,className:"form-box",children:[Q.jsx("h2",{children:"Agendar horrio"}),Q.jsx("input",{type:"text",placeholder:"Nome",value:n,onChange:b=>s(b.target.value),required:!0}),Q.jsx("input",{type:"date",value:o,onChange:b=>{u(b.target.value),m(null)},required:!0}),Q.jsxs("div",{className:"servicos-box",children:[Q.jsx("p",{children:"Selecione os servios:"}),Object.entries(Ks).map(([b,R])=>Q.jsxs("label",{className:`servico-item ${p.includes(b)?"checked":""}`,children:[Q.jsxs("span",{children:[R.nome,"   ",R.preco," Reais"]}),Q.jsx("input",{type:"checkbox",checked:p.includes(b),onChange:()=>W(b)})]},b))]}),p.length>0&&Q.jsxs("div",{className:"resumo-preco",children:[ne>0&&Q.jsxs("p",{className:"desconto-info",children:["Desconto aplicado: -R$ ",ne]}),Q.jsxs("h3",{children:["Total: R$ ",te]})]}),Q.jsxs("div",{className:"horarios-box",children:[Q.jsx("p",{children:"Horrios disponveis:"}),!o||H===0?Q.jsx("p",{className:"horario-info",children:"Selecione data e servios"}):se.length===0?Q.jsx("p",{className:"horario-info",children:"Nenhum horrio disponvel"}):Q.jsxs(Q.Fragment,{children:[D("Manh",Re),D("Tarde",_e)]})]}),Q.jsx("button",{type:"submit",disabled:E,children:E?"Salvando...":"Agendar"})]})]})}function JO({lista:r=[]}){function e(){const u=new Date;return u.setHours(0,0,0,0),[{label:"Hoje",data:u.toISOString().split("T")[0]},{label:"Amanh",data:new Date(u.getTime()+864e5).toISOString().split("T")[0]},{label:"Depois de amanh",data:new Date(u.getTime()+2*864e5).toISOString().split("T")[0]}]}const n=e();function s(u){return r.filter(f=>f.data===u&&(f.status==="ativo"||f.status==="bloqueado")).filter(f=>f.inicioMinutos!==void 0).sort((f,m)=>f.inicioMinutos-m.inicioMinutos)}const o=n.some(u=>s(u.data).length>0);return Q.jsxs("div",{className:"banner",children:[Q.jsx("p",{children:"Prximos horrios"}),o?n.map(u=>{const f=s(u.data);return Q.jsxs("div",{className:"bloco-dia",children:[Q.jsx("h3",{className:"titulo-dia",children:u.label}),f.length===0?Q.jsx("p",{className:"dia-vazio",children:"Sem horrios"}):Q.jsx("ul",{className:"lista",children:f.map(m=>{const p=(m.servicos||[]).map(y=>Ks[y]?.nome).filter(Boolean).join("  ");return Q.jsxs("li",{className:"item",children:[Q.jsxs("div",{className:"info",children:[Q.jsx("span",{className:"nome",children:m.nome}),p&&Q.jsx("span",{className:"servicos",children:p})]}),Q.jsxs("span",{className:"hora",children:[Q.jsx("span",{className:"hora-inicio",children:m.inicio})," - ",Q.jsx("span",{className:"hora-fim",children:m.fim})]}),Q.jsx("span",{className:"status",children:""})]},m.id)})})]},u.data)}):Q.jsx("p",{className:"banner-vazio",children:"Nenhum horrio agendado para os prximos dias."})]})}var _A={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},bT=Ys.createContext&&Ys.createContext(_A),ZO=["attr","size","title"];function WO(r,e){if(r==null)return{};var n=e4(r,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function e4(r,e){if(r==null)return{};var n={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;n[s]=r[s]}return n}function Oh(){return Oh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Oh.apply(this,arguments)}function wT(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,s)}return n}function Mh(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wT(Object(n),!0).forEach(function(s){t4(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):wT(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function t4(r,e,n){return e=n4(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function n4(r){var e=i4(r,"string");return typeof e=="symbol"?e:e+""}function i4(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function vA(r){return r&&r.map((e,n)=>Ys.createElement(e.tag,Mh({key:n},e.attr),vA(e.child)))}function og(r){return e=>Ys.createElement(r4,Oh({attr:Mh({},r.attr)},e),vA(r.child))}function r4(r){var e=n=>{var{attr:s,size:o,title:u}=r,f=WO(r,ZO),m=o||n.size||"1em",p;return n.className&&(p=n.className),r.className&&(p=(p?p+" ":"")+r.className),Ys.createElement("svg",Oh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:p,style:Mh(Mh({color:r.color||n.color},n.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Ys.createElement("title",null,u),r.children)};return bT!==void 0?Ys.createElement(bT.Consumer,null,n=>e(n)):e(_A)}function s4(r){return og({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(r)}function a4(r){return og({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(r)}function o4(r){return og({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(r)}function l4(){return Q.jsxs("footer",{className:"footer",children:[Q.jsxs("div",{className:"footer-left",children:[" ",new Date().getFullYear()," Fbim Barber"]}),Q.jsxs("div",{className:"footer-links",children:[Q.jsx("a",{href:"https://wa.me/5584987411833",target:"_blank",rel:"noreferrer","aria-label":"WhatsApp",children:Q.jsx(a4,{className:"whatsapp"})}),Q.jsx("a",{href:"https://www.instagram.com/fabim_barbearia?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==",target:"_blank",rel:"noreferrer","aria-label":"Instagram",children:Q.jsx(s4,{className:"insta"})}),Q.jsx(cp,{to:"/admin","aria-label":"Painel Admin",className:"footer-admin",children:Q.jsx(o4,{className:"admin"})})]})]})}function u4(){return Q.jsx("header",{className:"header-bar",children:Q.jsx("h1",{className:"header-title",children:"Fabim Barbearia"})})}function c4(r){const[e,n]=r.split(":").map(Number);return e*60+n}function Vh(r){const e=Math.floor(r/60),n=r%60;return`${String(e).padStart(2,"0")}:${String(n).padStart(2,"0")}`}function h4(){const[r,e]=B.useState([]),[n,s]=B.useState(!1),[o,u]=B.useState(!1),[f,m]=B.useState(""),[p,y]=B.useState(""),[E,T]=B.useState({tipo:"",mensagem:""}),[w,P]=B.useState(!1),[G,W]=B.useState(""),[H,te]=B.useState(null);function ne(ae,C){W(ae),te(()=>C),P(!0)}function se(){H&&H(),P(!1)}function Re(){P(!1)}function _e(ae,C){T({tipo:ae,mensagem:C}),setTimeout(()=>{T({tipo:"",mensagem:""})},2500)}function Te(ae){const C=new Date;return C.setHours(0,0,0,0),new Date(ae+"T00:00:00")<C}B.useEffect(()=>{const ae=CD(Gs(kn,"agendamentos"),WE("data"),WE("inicioMinutos")),C=VS(ae,K=>{const re=K.docs.map(ie=>({id:ie.id,...ie.data()}));e(re)});return()=>C()},[]),B.useEffect(()=>{async function ae(){const C=await ND(Wa(kn,"configuracoes","geral"));C.exists()&&u(C.data().segundaOff||!1)}ae()},[]);async function D(){const ae=!o;u(ae),await OD(Wa(kn,"configuracoes","geral"),{segundaOff:ae,merge:!0}),ae?(await b(),_e("info","Segundas bloqueadas automaticamente")):(await R(),_e("info","Segundas reativadas"))}async function b(){const ae=new Date;ae.setHours(0,0,0,0);for(let C=0;C<180;C++){const K=new Date(ae);if(K.setDate(ae.getDate()+C),K.getDay()===1){const re=K.toISOString().split("T")[0];await Zm(Gs(kn,"agendamentos"),{nome:"SEGUNDA OFF",data:re,inicio:"00:00",fim:"23:59",inicioMinutos:0,fimMinutos:1440,status:"bloqueado",automatico:!0})}}}async function R(){(await nT(Gs(kn,"agendamentos"))).forEach(async C=>{const K=C.data();K.automatico===!0&&K.nome==="SEGUNDA OFF"&&await MD(Wa(kn,"agendamentos",C.id))})}async function O(ae,C){await iT(Wa(kn,"agendamentos",ae),{status:C}),_e("success",`Status alterado para ${C}`)}async function M(){const ae=new Date;ae.setHours(0,0,0,0),(await nT(Gs(kn,"agendamentos"))).forEach(async K=>{const re=K.data().data,ie=K.data().status;if(!re||ie==="finalizado")return;new Date(re+"T00:00:00")<ae&&await iT(Wa(kn,"agendamentos",K.id),{status:"finalizado"})}),_e("success","Dias passados finalizados")}async function L(){if(!f||!p){_e("error","Selecione data e horrio");return}const ae=c4(p),C=ae+60;await Zm(Gs(kn,"agendamentos"),{nome:"HORRIO BLOQUEADO",data:f,inicio:p,fim:Vh(C),inicioMinutos:ae,fimMinutos:C,status:"bloqueado"}),_e("success",`Horrio bloqueado das ${p} at ${Vh(C)}`),m(""),y("")}const He=r.filter(ae=>!(!n&&Te(ae.data))).reduce((ae,C)=>(ae[C.data]||(ae[C.data]=[]),ae[C.data].push(C),ae),{});function ut(){const ae=new Date,C=ae.getMonth(),K=ae.getFullYear();let re=0;return r.forEach(ie=>{if(ie.status!=="finalizado")return;const ge=new Date(ie.data+"T00:00:00");if(ge.getMonth()===C&&ge.getFullYear()===K){const Se=(ie.servicos||[]).reduce((Me,mt)=>Me+(Ks[mt]?.preco||0),0);re+=Se}}),re}const Y=ut(),le=r.filter(ae=>{const C=new Date().toISOString().split("T")[0];return ae.data===C&&ae.status==="ativo"}).length,de=r.filter(ae=>ae.status==="ativo").length,ke=r.filter(ae=>ae.status==="cancelado").length;return Q.jsxs("div",{className:"admin-container",children:[E.mensagem&&Q.jsx("div",{className:`admin-feedback ${E.tipo}`,children:E.mensagem}),Q.jsx("h1",{className:"admin-title",children:"Painel de Administrao"}),Q.jsxs("div",{className:"dashboard-cards",children:[Q.jsxs("div",{className:"card",children:[Q.jsx("h3",{children:"Agendamentos Hoje"}),Q.jsx("strong",{children:le})]}),Q.jsxs("div",{className:"card",children:[Q.jsx("h3",{children:"Agendamentos Ativos"}),Q.jsx("strong",{children:de})]}),Q.jsxs("div",{className:"card",children:[Q.jsx("h3",{children:"Cancelados"}),Q.jsx("strong",{children:ke})]}),Q.jsxs("div",{className:"card",children:[Q.jsx("h3",{children:"Faturamento do Ms"}),Q.jsxs("strong",{children:["R$ ",Y.toFixed(2)]})]})]}),Q.jsxs("div",{className:"admin-top-controls",children:[Q.jsxs("label",{className:"admin-checkbox",children:[Q.jsx("input",{type:"checkbox",checked:n,onChange:ae=>s(ae.target.checked)}),"Mostrar dias passados"]}),Q.jsxs("div",{className:"segunda-control",children:[Q.jsx("span",{children:"Segunda-feira:"}),Q.jsx("button",{className:`admin-btn ${o?"cancel":"finish"}`,onClick:()=>ne("Tem certeza que deseja desativar a segunda-feira?",D),children:o?"OFF (Fechado)":"ON (Aberto)"})]}),Q.jsx("button",{className:"admin-clean-btn",onClick:()=>ne("Tem certeza que deseja finalizar os dias passados?",M),children:"Finalizar dias passados"})]}),Q.jsx("p",{className:"bloq-manual",children:"Bloqueio Manual de Horrio"}),Q.jsxs("div",{className:"admin-bloqueio",children:[Q.jsx("input",{type:"date",value:f,onChange:ae=>m(ae.target.value),className:"admin-input"}),Q.jsx("input",{type:"time",value:p,onChange:ae=>y(ae.target.value),className:"admin-input"}),Q.jsx("button",{className:"admin-btn bloquear",onClick:()=>ne("Tem certeza que deseja bloquear este horrio?",L),children:"Bloquear 1 hora"})]}),Object.keys(He).length===0&&Q.jsx("p",{className:"admin-empty",children:"Nenhum agendamento encontrado."}),Object.entries(He).map(([ae,C])=>{const re=new Date(ae+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long"});return Q.jsxs("div",{className:"admin-dia",children:[Q.jsxs("h2",{className:"admin-data",children:[ae,"  ",re]}),C.map(ie=>{const ge=(ie.servicos||[]).map(Se=>Ks[Se]?.nome).filter(Boolean).join("  ");return Q.jsxs("div",{className:`admin-item status-${ie.status}`,children:[Q.jsxs("div",{className:"admin-info",children:[Q.jsx("strong",{children:ie.nome}),Q.jsxs("span",{className:"admin-horario",children:[ie.inicio," - ",ie.fim]}),ge&&Q.jsx("span",{className:"admin-servicos",children:ge}),Q.jsx("span",{className:`status-badge ${ie.status}`,children:ie.status})]}),Q.jsxs("div",{className:"admin-actions",children:[ie.status==="ativo"&&Q.jsxs(Q.Fragment,{children:[Q.jsx("button",{className:"admin-btn cancel",onClick:()=>ne("Tem certeza que deseja cancelar este agendamento?",()=>O(ie.id,"cancelado")),children:"Cancelar"}),Q.jsx("button",{className:"admin-btn finish",onClick:()=>ne("Tem certeza que deseja finalizar este agendamento?",()=>O(ie.id,"finalizado")),children:"Finalizar"})]}),ie.status==="cancelado"&&Q.jsx("button",{className:"admin-btn reativar",onClick:()=>ne("Tem certeza que deseja reativar este agendamento?",()=>O(ie.id,"ativo")),children:"Reativar"})]})]},ie.id)})]},ae)}),Q.jsxs("div",{className:"faturamento-box",children:[Q.jsx("h2",{children:"Faturamento Mensal Atual"}),Q.jsxs("strong",{children:["R$ ",Y.toFixed(2)]})]}),w&&Q.jsx("div",{className:"admin-modal-overlay",children:Q.jsxs("div",{className:"admin-modal",children:[Q.jsx("h3",{children:"Confirmar ao"}),Q.jsx("p",{children:G}),Q.jsxs("div",{className:"admin-modal-actions",children:[Q.jsx("button",{className:"admin-btn cancel",onClick:Re,children:"Cancelar"}),Q.jsx("button",{className:"admin-btn finish",onClick:se,children:"Confirmar"})]})]})})]})}function f4(){const[r,e]=B.useState(""),[n,s]=B.useState(""),o=Ph();async function u(f){f.preventDefault();try{await MN(pA,r,n),o("/admin")}catch{alert("Email ou senha invlidos")}}return Q.jsx("div",{className:"login-container",children:Q.jsxs("div",{className:"login-box",children:[Q.jsx("h1",{className:"login-title",children:"Login Admin"}),Q.jsxs("form",{className:"login-form",onSubmit:u,children:[Q.jsx("input",{className:"login-input",type:"email",placeholder:"Email",value:r,onChange:f=>e(f.target.value),required:!0}),Q.jsx("input",{className:"login-input",type:"password",placeholder:"Senha",value:n,onChange:f=>s(f.target.value),required:!0}),Q.jsx("button",{className:"login-btn",type:"submit",children:"Entrar"})]})]})})}function d4({children:r}){const{user:e,loading:n}=XO();return n?null:e?r:Q.jsx(nw,{to:"/login",replace:!0})}const m4=480,p4=1200,g4=720,y4=840;function _4(r){return new Date(r+"T00:00:00").getDay()===0}function v4(r){return new Date(r+"T00:00:00").getDay()===1}function E4({data:r,duracao:e,agendamentos:n,segundaFechada:s=!1}){if(!r||!e)return[];if(s&&v4(r))return[];const o=_4(r),u=m4,f=o?720:p4,m=[];for(let p=u;p+e<=f;p+=10){const y=p+e;if(p<y4&&y>g4)continue;if(!n.some(T=>p<T.fimMinutos&&y>T.inicioMinutos)){let T=1/0;n.forEach(w=>{const P=Math.abs(p-w.fimMinutos),G=Math.abs(w.inicioMinutos-y);P>=0&&P<T&&(T=P),G>=0&&G<T&&(T=G)}),m.push({inicioMinutos:p,fimMinutos:y,inicio:Vh(p),fim:Vh(y),prioridade:T})}}return m.sort((p,y)=>p.prioridade-y.prioridade),m}function T4(){const r=Ph(),e=cr();return B.useEffect(()=>{const s=new URLSearchParams(e.search).get("redirect");s&&r(s,{replace:!0})},[r,e]),null}function S4(){const[r,e]=B.useState([]);B.useEffect(()=>{const o=VS(Gs(kn,"agendamentos"),u=>{const f=u.docs.map(m=>({id:m.id,...m.data()}));e(f)});return()=>o()},[]);const n=B.useCallback((o,u)=>{const f=r.filter(m=>m.data===o&&(m.status==="ativo"||m.status==="bloqueado"));return E4({data:o,duracao:u,agendamentos:f,segundaFechada:!1})},[r]);async function s(o){return r.some(f=>f.data===o.data&&f.status!=="cancelado"&&!(o.fimMinutos<=f.inicioMinutos||o.inicioMinutos>=f.fimMinutos))?!1:(await Zm(Gs(kn,"agendamentos"),{...o,status:"ativo"}),!0)}return Q.jsx(yA,{children:Q.jsxs(Iw,{basename:"/fabimBarbearia",children:[Q.jsx(T4,{}),Q.jsxs(rw,{children:[Q.jsx(Jc,{path:"/",element:Q.jsxs(Q.Fragment,{children:[Q.jsx(u4,{}),Q.jsx(JO,{lista:r}),Q.jsx($O,{onSubmit:s,gerarHorarios:n}),Q.jsx(l4,{})]})}),Q.jsx(Jc,{path:"/login",element:Q.jsx(f4,{})}),Q.jsx(Jc,{path:"/admin",element:Q.jsx(d4,{children:Q.jsx(h4,{})})})]})]})})}ab.createRoot(document.getElementById("root")).render(Q.jsx(B.StrictMode,{children:Q.jsx(yA,{children:Q.jsx(S4,{})})}));
