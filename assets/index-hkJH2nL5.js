(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function lb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var cm={exports:{}},Ol={};var Vv;function ub(){if(Vv)return Ol;Vv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ol.Fragment=e,Ol.jsx=n,Ol.jsxs=n,Ol}var xv;function cb(){return xv||(xv=1,cm.exports=ub()),cm.exports}var q=cb(),hm={exports:{}},Re={};var Pv;function hb(){if(Pv)return Re;Pv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function L(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,G={};function ne(V,W,le){this.props=V,this.context=W,this.refs=G,this.updater=le||Q}ne.prototype.isReactComponent={},ne.prototype.setState=function(V,W){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,W,"setState")},ne.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ie(){}ie.prototype=ne.prototype;function se(V,W,le){this.props=V,this.context=W,this.refs=G,this.updater=le||Q}var _e=se.prototype=new ie;_e.constructor=se,Z(_e,ne.prototype),_e.isPureReactComponent=!0;var Ae=Array.isArray;function be(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(V,W,le){var Y=le.ref;return{$$typeof:r,type:V,key:W,ref:Y!==void 0?Y:null,props:le}}function O(V,W){return C(V.type,W,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function x(V){var W={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(le){return W[le]})}var I=/\/+/g;function Je(V,W){return typeof V=="object"&&V!==null&&V.key!=null?x(""+V.key):W.toString(36)}function rt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(be,be):(V.status="pending",V.then(function(W){V.status==="pending"&&(V.status="fulfilled",V.value=W)},function(W){V.status==="pending"&&(V.status="rejected",V.reason=W)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function K(V,W,le,Y,re){var fe=typeof V;(fe==="undefined"||fe==="boolean")&&(V=null);var ye=!1;if(V===null)ye=!0;else switch(fe){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(V.$$typeof){case r:case e:ye=!0;break;case E:return ye=V._init,K(ye(V._payload),W,le,Y,re)}}if(ye)return re=re(V),ye=Y===""?"."+Je(V,0):Y,Ae(re)?(le="",ye!=null&&(le=ye.replace(I,"$&/")+"/"),K(re,W,le,"",function(gn){return gn})):re!=null&&(N(re)&&(re=O(re,le+(re.key==null||V&&V.key===re.key?"":(""+re.key).replace(I,"$&/")+"/")+ye)),W.push(re)),1;ye=0;var Ee=Y===""?".":Y+":";if(Ae(V))for(var qe=0;qe<V.length;qe++)Y=V[qe],fe=Ee+Je(Y,qe),ye+=K(Y,W,le,fe,re);else if(qe=L(V),typeof qe=="function")for(V=qe.call(V),qe=0;!(Y=V.next()).done;)Y=Y.value,fe=Ee+Je(Y,qe++),ye+=K(Y,W,le,fe,re);else if(fe==="object"){if(typeof V.then=="function")return K(rt(V),W,le,Y,re);throw W=String(V),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ye}function oe(V,W,le){if(V==null)return V;var Y=[],re=0;return K(V,Y,"","",function(fe){return W.call(le,fe,re++)}),Y}function me(V){if(V._status===-1){var W=V._result;W=W(),W.then(function(le){(V._status===0||V._status===-1)&&(V._status=1,V._result=le)},function(le){(V._status===0||V._status===-1)&&(V._status=2,V._result=le)}),V._status===-1&&(V._status=0,V._result=W)}if(V._status===1)return V._result.default;throw V._result}var Ue=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Be={map:oe,forEach:function(V,W,le){oe(V,function(){W.apply(this,arguments)},le)},count:function(V){var W=0;return oe(V,function(){W++}),W},toArray:function(V){return oe(V,function(W){return W})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Re.Activity=T,Re.Children=Be,Re.Component=ne,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=se,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Re.__COMPILER_RUNTIME={__proto__:null,c:function(V){return R.H.useMemoCache(V)}},Re.cache=function(V){return function(){return V.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(V,W,le){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var Y=Z({},V.props),re=V.key;if(W!=null)for(fe in W.key!==void 0&&(re=""+W.key),W)!w.call(W,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&W.ref===void 0||(Y[fe]=W[fe]);var fe=arguments.length-2;if(fe===1)Y.children=le;else if(1<fe){for(var ye=Array(fe),Ee=0;Ee<fe;Ee++)ye[Ee]=arguments[Ee+2];Y.children=ye}return C(V.type,re,Y)},Re.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Re.createElement=function(V,W,le){var Y,re={},fe=null;if(W!=null)for(Y in W.key!==void 0&&(fe=""+W.key),W)w.call(W,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(re[Y]=W[Y]);var ye=arguments.length-2;if(ye===1)re.children=le;else if(1<ye){for(var Ee=Array(ye),qe=0;qe<ye;qe++)Ee[qe]=arguments[qe+2];re.children=Ee}if(V&&V.defaultProps)for(Y in ye=V.defaultProps,ye)re[Y]===void 0&&(re[Y]=ye[Y]);return C(V,fe,re)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(V){return{$$typeof:m,render:V}},Re.isValidElement=N,Re.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:me}},Re.memo=function(V,W){return{$$typeof:y,type:V,compare:W===void 0?null:W}},Re.startTransition=function(V){var W=R.T,le={};R.T=le;try{var Y=V(),re=R.S;re!==null&&re(le,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(be,Ue)}catch(fe){Ue(fe)}finally{W!==null&&le.types!==null&&(W.types=le.types),R.T=W}},Re.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Re.use=function(V){return R.H.use(V)},Re.useActionState=function(V,W,le){return R.H.useActionState(V,W,le)},Re.useCallback=function(V,W){return R.H.useCallback(V,W)},Re.useContext=function(V){return R.H.useContext(V)},Re.useDebugValue=function(){},Re.useDeferredValue=function(V,W){return R.H.useDeferredValue(V,W)},Re.useEffect=function(V,W){return R.H.useEffect(V,W)},Re.useEffectEvent=function(V){return R.H.useEffectEvent(V)},Re.useId=function(){return R.H.useId()},Re.useImperativeHandle=function(V,W,le){return R.H.useImperativeHandle(V,W,le)},Re.useInsertionEffect=function(V,W){return R.H.useInsertionEffect(V,W)},Re.useLayoutEffect=function(V,W){return R.H.useLayoutEffect(V,W)},Re.useMemo=function(V,W){return R.H.useMemo(V,W)},Re.useOptimistic=function(V,W){return R.H.useOptimistic(V,W)},Re.useReducer=function(V,W,le){return R.H.useReducer(V,W,le)},Re.useRef=function(V){return R.H.useRef(V)},Re.useState=function(V){return R.H.useState(V)},Re.useSyncExternalStore=function(V,W,le){return R.H.useSyncExternalStore(V,W,le)},Re.useTransition=function(){return R.H.useTransition()},Re.version="19.2.2",Re}var Lv;function ap(){return Lv||(Lv=1,hm.exports=hb()),hm.exports}var j=ap();const Zs=lb(j);var fm={exports:{}},Ml={},dm={exports:{}},mm={};var kv;function fb(){return kv||(kv=1,(function(r){function e(K,oe){var me=K.length;K.push(oe);e:for(;0<me;){var Ue=me-1>>>1,Be=K[Ue];if(0<o(Be,oe))K[Ue]=oe,K[me]=Be,me=Ue;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var oe=K[0],me=K.pop();if(me!==oe){K[0]=me;e:for(var Ue=0,Be=K.length,V=Be>>>1;Ue<V;){var W=2*(Ue+1)-1,le=K[W],Y=W+1,re=K[Y];if(0>o(le,me))Y<Be&&0>o(re,le)?(K[Ue]=re,K[Y]=me,Ue=Y):(K[Ue]=le,K[W]=me,Ue=W);else if(Y<Be&&0>o(re,me))K[Ue]=re,K[Y]=me,Ue=Y;else break e}}return oe}function o(K,oe){var me=K.sortIndex-oe.sortIndex;return me!==0?me:K.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,T=null,b=3,L=!1,Q=!1,Z=!1,G=!1,ne=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function _e(K){for(var oe=n(y);oe!==null;){if(oe.callback===null)s(y);else if(oe.startTime<=K)s(y),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(y)}}function Ae(K){if(Z=!1,_e(K),!Q)if(n(p)!==null)Q=!0,be||(be=!0,x());else{var oe=n(y);oe!==null&&rt(Ae,oe.startTime-K)}}var be=!1,R=-1,w=5,C=-1;function O(){return G?!0:!(r.unstable_now()-C<w)}function N(){if(G=!1,be){var K=r.unstable_now();C=K;var oe=!0;try{e:{Q=!1,Z&&(Z=!1,ie(R),R=-1),L=!0;var me=b;try{t:{for(_e(K),T=n(p);T!==null&&!(T.expirationTime>K&&O());){var Ue=T.callback;if(typeof Ue=="function"){T.callback=null,b=T.priorityLevel;var Be=Ue(T.expirationTime<=K);if(K=r.unstable_now(),typeof Be=="function"){T.callback=Be,_e(K),oe=!0;break t}T===n(p)&&s(p),_e(K)}else s(p);T=n(p)}if(T!==null)oe=!0;else{var V=n(y);V!==null&&rt(Ae,V.startTime-K),oe=!1}}break e}finally{T=null,b=me,L=!1}oe=void 0}}finally{oe?x():be=!1}}}var x;if(typeof se=="function")x=function(){se(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Je=I.port2;I.port1.onmessage=N,x=function(){Je.postMessage(null)}}else x=function(){ne(N,0)};function rt(K,oe){R=ne(function(){K(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(K){switch(b){case 1:case 2:case 3:var oe=3;break;default:oe=b}var me=b;b=oe;try{return K()}finally{b=me}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function(K,oe){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=b;b=K;try{return oe()}finally{b=me}},r.unstable_scheduleCallback=function(K,oe,me){var Ue=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ue+me:Ue):me=Ue,K){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=me+Be,K={id:E++,callback:oe,priorityLevel:K,startTime:me,expirationTime:Be,sortIndex:-1},me>Ue?(K.sortIndex=me,e(y,K),n(p)===null&&K===n(y)&&(Z?(ie(R),R=-1):Z=!0,rt(Ae,me-Ue))):(K.sortIndex=Be,e(p,K),Q||L||(Q=!0,be||(be=!0,x()))),K},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(K){var oe=b;return function(){var me=b;b=oe;try{return K.apply(this,arguments)}finally{b=me}}}})(mm)),mm}var Uv;function db(){return Uv||(Uv=1,dm.exports=fb()),dm.exports}var pm={exports:{}},Jt={};var zv;function mb(){if(zv)return Jt;zv=1;var r=ap();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},Jt.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Jt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Jt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Jt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),b=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:L}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Jt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Jt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Jt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Jt.requestFormReset=function(p){s.d.r(p)},Jt.unstable_batchedUpdates=function(p,y){return p(y)},Jt.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Jt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Jt.version="19.2.2",Jt}var jv;function pb(){if(jv)return pm.exports;jv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),pm.exports=mb(),pm.exports}var Bv;function gb(){if(Bv)return Ml;Bv=1;var r=db(),e=ap(),n=pb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),se=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function x(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Je(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case ne:return"Profiler";case G:return"StrictMode";case Ae:return"Suspense";case be:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case se:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case _e:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return i=t.displayName||null,i!==null?i:Je(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return Je(t(i))}catch{}}return null}var rt=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ue=[],Be=-1;function V(t){return{current:t}}function W(t){0>Be||(t.current=Ue[Be],Ue[Be]=null,Be--)}function le(t,i){Be++,Ue[Be]=t.current,t.current=i}var Y=V(null),re=V(null),fe=V(null),ye=V(null);function Ee(t,i){switch(le(fe,i),le(re,t),le(Y,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?nv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=nv(i),t=iv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(Y),le(Y,t)}function qe(){W(Y),W(re),W(fe)}function gn(t){t.memoizedState!==null&&le(ye,t);var i=Y.current,a=iv(i,t.type);i!==a&&(le(re,t),le(Y,a))}function ai(t){re.current===t&&(W(Y),W(re)),ye.current===t&&(W(ye),Cl._currentValue=me)}var gr,ua;function oi(t){if(gr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);gr=i&&i[1]||"",ua=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gr+t+ua}var Co=!1;function Es(t,i){if(!t||Co)return"";Co=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(F){var B=F}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(F){B=F}t.call(ee.prototype)}}else{try{throw Error()}catch(F){B=F}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var D=_.split(`
`),z=S.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===z.length)for(l=D.length-1,h=z.length-1;1<=l&&0<=h&&D[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==z[h]){var X=`
`+D[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{Co=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?oi(a):""}function Io(t,i){switch(t.tag){case 26:case 27:case 5:return oi(t.type);case 16:return oi("Lazy");case 13:return t.child!==i&&i!==null?oi("Suspense Fallback"):oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return Es(t.type,!1);case 11:return Es(t.type.render,!1);case 1:return Es(t.type,!0);case 31:return oi("Activity");default:return""}}function Do(t){try{var i="",a=null;do i+=Io(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,Mt=r.unstable_scheduleCallback,yr=r.unstable_cancelCallback,ff=r.unstable_shouldYield,yu=r.unstable_requestPaint,nn=r.unstable_now,Ts=r.unstable_getCurrentPriorityLevel,No=r.unstable_ImmediatePriority,Oo=r.unstable_UserBlockingPriority,_r=r.unstable_NormalPriority,df=r.unstable_LowPriority,_u=r.unstable_IdlePriority,vu=r.log,Eu=r.unstable_setDisableYieldValue,Fn=null,jt=null;function In(t){if(typeof vu=="function"&&Eu(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Fn,t)}catch{}}var pt=Math.clz32?Math.clz32:Su,Tu=Math.log,ca=Math.LN2;function Su(t){return t>>>=0,t===0?32:31-(Tu(t)/ca|0)|0}var li=256,Ss=262144,Tt=4194304;function ui(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ci(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=ui(l):(_&=S,_!==0?h=ui(_):a||(a=S&~t,a!==0&&(h=ui(a))))):(S=l&~d,S!==0?h=ui(S):_!==0?h=ui(_):a||(a=l&~t,a!==0&&(h=ui(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Gn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function mf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Au(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function hi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function As(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function pf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,D=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-pt(a),ee=1<<X;S[X]=0,D[X]=-1;var B=z[X];if(B!==null)for(z[X]=null,X=0;X<B.length;X++){var F=B[X];F!==null&&(F.lane&=-536870913)}a&=~ee}l!==0&&bs(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function bs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Mo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-pt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Vo(t,i){var a=i&-i;return a=(a&42)!==0?1:ws(a),(a&(t.suspendedLanes|i))!==0?0:a}function ws(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function bu(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:Rv(t.type))}function Qn(t,i){var a=oe.p;try{return oe.p=t,i()}finally{oe.p=a}}var Kn=Math.random().toString(36).slice(2),St="__reactFiber$"+Kn,Pt="__reactProps$"+Kn,fi="__reactContainer$"+Kn,ha="__reactEvents$"+Kn,gf="__reactListeners$"+Kn,wu="__reactHandles$"+Kn,Ru="__reactResources$"+Kn,di="__reactMarker$"+Kn;function fa(t){delete t[St],delete t[Pt],delete t[ha],delete t[gf],delete t[wu]}function mi(t){var i=t[St];if(i)return i;for(var a=t.parentNode;a;){if(i=a[fi]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=cv(t);t!==null;){if(a=t[St])return a;t=cv(t)}return i}t=a,a=t.parentNode}return null}function Dn(t){if(t=t[St]||t[fi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function yn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function pi(t){var i=t[Ru];return i||(i=t[Ru]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(t){t[di]=!0}var xo=new Set,Po={};function gi(t,i){yi(t,i),yi(t+"Capture",i)}function yi(t,i){for(Po[t]=i,t=0;t<i.length;t++)xo.add(i[t])}var Lo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ko={},Uo={};function Cu(t){return Et.call(Uo,t)?!0:Et.call(ko,t)?!1:Lo.test(t)?Uo[t]=!0:(ko[t]=!0,!1)}function da(t,i,a){if(Cu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function _n(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function bt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function zo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ye(t){if(!t._valueTracker){var i=vr(t)?"checked":"value";t._valueTracker=zo(t,i,""+t[i])}}function Rs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=vr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function _i(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cs=/[\n"\\]/g;function an(t){return t.replace(Cs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ma(t,i,a,l,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?jo(t,_,Lt(i)):a!=null?jo(t,_,Lt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Lt(S):t.removeAttribute("name")}function Iu(t,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ye(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ye(t)}function jo(t,i,a){i==="number"&&_i(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Er(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Du(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function Tr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(rt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function on(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Nu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Nu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function qo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Bo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Bo(t,d,i[d])}function pa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(t){return Sr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Yn(){}var Ho=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ar=null,vi=null;function Is(t){var i=Dn(t);if(i&&(t=i.stateNode)){var a=t[Pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ma(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Pt]||null;if(!h)throw Error(s(90));ma(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Rs(l)}break e;case"textarea":Du(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Er(t,!!a.multiple,i,!1)}}}var ya=!1;function br(t,i,a){if(ya)return t(i,a);ya=!0;try{var l=t(i);return l}finally{if(ya=!1,(Ar!==null||vi!==null)&&(bc(),Ar&&(i=Ar,t=vi,vi=Ar=null,Is(i),t)))for(i=0;i<t.length;i++)Is(t[i])}}function Xn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ds=!1;if(On)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Ds=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Ds=!1}var Ei=null,Fo=null,Ns=null;function Go(){if(Ns)return Ns;var t,i=Fo,a=i.length,l,h="value"in Ei?Ei.value:Ei.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ns=h.slice(t,1<l?1-l:void 0)}function Os(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ji(){return!0}function $n(){return!1}function Bt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ji:$n,this.isPropagationStopped=$n,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),i}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=Bt(Bi),wr=T({},Bi,{view:0,detail:0}),Qo=Bt(wr),Rr,_a,Si,va=T({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Si&&(Si&&t.type==="mousemove"?(Rr=t.screenX-Si.screenX,_a=t.screenY-Si.screenY):_a=Rr=0,Si=t),Rr)},movementY:function(t){return"movementY"in t?t.movementY:_a}}),Ko=Bt(va),Ms=T({},va,{dataTransfer:0}),Mu=Bt(Ms),Vu=T({},wr,{relatedTarget:0}),Vs=Bt(Vu),Yo=T({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),xu=Bt(Yo),Ea=T({},Bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pu=Bt(Ea),Lu=T({},Bi,{data:0}),Ai=Bt(Lu),ku={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ju(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=zu[t])?!!i[t]:!1}function Cr(){return ju}var rn=T({},wr,{key:function(t){if(t.key){var i=ku[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Os(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(t){return t.type==="keypress"?Os(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Os(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Bu=Bt(rn),qu=T({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=Bt(qu),c=T({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),g=Bt(c),v=T({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Bt(v),k=T({},va,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Bt(k),ae=T({},Bi,{newState:0,oldState:0}),Ie=Bt(ae),gt=[9,13,27,32],Ge=On&&"CompositionEvent"in window,lt=null;On&&"documentMode"in document&&(lt=document.documentMode);var Mn=On&&"TextEvent"in window&&!lt,bi=On&&(!Ge||lt&&8<lt&&11>=lt),Jn=" ",Zn=!1;function xs(t,i){switch(t){case"keyup":return gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ta(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sa=!1;function MA(t,i){switch(t){case"compositionend":return Ta(i);case"keypress":return i.which!==32?null:(Zn=!0,Jn);case"textInput":return t=i.data,t===Jn&&Zn?null:t;default:return null}}function VA(t,i){if(Sa)return t==="compositionend"||!Ge&&xs(t,i)?(t=Go(),Ns=Fo=Ei=null,Sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return bi&&i.locale!=="ko"?null:i.data;default:return null}}var xA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!xA[t.type]:i==="textarea"}function mg(t,i,a,l){Ar?vi?vi.push(l):vi=[l]:Ar=l,i=Oc(i,"onChange"),0<i.length&&(a=new Ti("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Xo=null,$o=null;function PA(t){$_(t,0)}function Hu(t){var i=yn(t);if(Rs(i))return t}function pg(t,i){if(t==="change")return i}var gg=!1;if(On){var yf;if(On){var _f="oninput"in document;if(!_f){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),_f=typeof yg.oninput=="function"}yf=_f}else yf=!1;gg=yf&&(!document.documentMode||9<document.documentMode)}function _g(){Xo&&(Xo.detachEvent("onpropertychange",vg),$o=Xo=null)}function vg(t){if(t.propertyName==="value"&&Hu($o)){var i=[];mg(i,$o,t,Nn(t)),br(PA,i)}}function LA(t,i,a){t==="focusin"?(_g(),Xo=i,$o=a,Xo.attachEvent("onpropertychange",vg)):t==="focusout"&&_g()}function kA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hu($o)}function UA(t,i){if(t==="click")return Hu(i)}function zA(t,i){if(t==="input"||t==="change")return Hu(i)}function jA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var vn=typeof Object.is=="function"?Object.is:jA;function Jo(t,i){if(vn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Et.call(i,h)||!vn(t[h],i[h]))return!1}return!0}function Eg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tg(t,i){var a=Eg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Eg(a)}}function Sg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Sg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ag(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=_i(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=_i(t.document)}return i}function vf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var BA=On&&"documentMode"in document&&11>=document.documentMode,Aa=null,Ef=null,Zo=null,Tf=!1;function bg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Tf||Aa==null||Aa!==_i(l)||(l=Aa,"selectionStart"in l&&vf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zo&&Jo(Zo,l)||(Zo=l,l=Oc(Ef,"onSelect"),0<l.length&&(i=new Ti("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Aa)))}function Ps(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ba={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionrun:Ps("Transition","TransitionRun"),transitionstart:Ps("Transition","TransitionStart"),transitioncancel:Ps("Transition","TransitionCancel"),transitionend:Ps("Transition","TransitionEnd")},Sf={},wg={};On&&(wg=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function Ls(t){if(Sf[t])return Sf[t];if(!ba[t])return t;var i=ba[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in wg)return Sf[t]=i[a];return t}var Rg=Ls("animationend"),Cg=Ls("animationiteration"),Ig=Ls("animationstart"),qA=Ls("transitionrun"),HA=Ls("transitionstart"),FA=Ls("transitioncancel"),Dg=Ls("transitionend"),Ng=new Map,Af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Af.push("scrollEnd");function Wn(t,i){Ng.set(t,i),gi(i,[t])}var Fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vn=[],wa=0,bf=0;function Gu(){for(var t=wa,i=bf=wa=0;i<t;){var a=Vn[i];Vn[i++]=null;var l=Vn[i];Vn[i++]=null;var h=Vn[i];Vn[i++]=null;var d=Vn[i];if(Vn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Og(a,h,d)}}function Qu(t,i,a,l){Vn[wa++]=t,Vn[wa++]=i,Vn[wa++]=a,Vn[wa++]=l,bf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function wf(t,i,a,l){return Qu(t,i,a,l),Ku(t)}function ks(t,i){return Qu(t,null,null,i),Ku(t)}function Og(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-pt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Ku(t){if(50<El)throw El=0,xd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ra={};function GA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,i,a,l){return new GA(t,i,a,l)}function Rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hi(t,i){var a=t.alternate;return a===null?(a=En(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Mg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Yu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Rf(t)&&(_=1);else if(typeof t=="string")_=$1(t,a,Y.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=En(31,a,i,h),t.elementType=C,t.lanes=d,t;case Z:return Us(a.children,h,d,i);case G:_=8,h|=24;break;case ne:return t=En(12,a,i,h|2),t.elementType=ne,t.lanes=d,t;case Ae:return t=En(13,a,i,h),t.elementType=Ae,t.lanes=d,t;case be:return t=En(19,a,i,h),t.elementType=be,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case se:_=10;break e;case ie:_=9;break e;case _e:_=11;break e;case R:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=En(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Us(t,i,a,l){return t=En(7,t,l,i),t.lanes=a,t}function Cf(t,i,a){return t=En(6,t,null,i),t.lanes=a,t}function Vg(t){var i=En(18,null,null,0);return i.stateNode=t,i}function If(t,i,a){return i=En(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var xg=new WeakMap;function xn(t,i){if(typeof t=="object"&&t!==null){var a=xg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Do(i)},xg.set(t,i),i)}return{value:t,source:i,stack:Do(i)}}var Ca=[],Ia=0,Xu=null,Wo=0,Pn=[],Ln=0,Ir=null,wi=1,Ri="";function Fi(t,i){Ca[Ia++]=Wo,Ca[Ia++]=Xu,Xu=t,Wo=i}function Pg(t,i,a){Pn[Ln++]=wi,Pn[Ln++]=Ri,Pn[Ln++]=Ir,Ir=t;var l=wi;t=Ri;var h=32-pt(l)-1;l&=~(1<<h),a+=1;var d=32-pt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,wi=1<<32-pt(i)+h|a<<h|l,Ri=d+t}else wi=1<<d|a<<h|l,Ri=t}function Df(t){t.return!==null&&(Fi(t,1),Pg(t,1,0))}function Nf(t){for(;t===Xu;)Xu=Ca[--Ia],Ca[Ia]=null,Wo=Ca[--Ia],Ca[Ia]=null;for(;t===Ir;)Ir=Pn[--Ln],Pn[Ln]=null,Ri=Pn[--Ln],Pn[Ln]=null,wi=Pn[--Ln],Pn[Ln]=null}function Lg(t,i){Pn[Ln++]=wi,Pn[Ln++]=Ri,Pn[Ln++]=Ir,wi=i.id,Ri=i.overflow,Ir=t}var qt=null,st=null,ze=!1,Dr=null,kn=!1,Of=Error(s(519));function Nr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(xn(i,t)),Of}function kg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[St]=t,i[Pt]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<Sl.length;a++)Me(Sl[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),Iu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),Tr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||ev(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=Yn),i=!0):i=!1,i||Nr(t,!0)}function Ug(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:qt=qt.return}}function Da(t){if(t!==qt)return!1;if(!ze)return Ug(t),ze=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Xd(t.type,t.memoizedProps)),a=!a),a&&st&&Nr(t),Ug(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));st=uv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));st=uv(t)}else i===27?(i=st,Fr(t.type)?(t=em,em=null,st=t):st=i):st=qt?zn(t.stateNode.nextSibling):null;return!0}function zs(){st=qt=null,ze=!1}function Mf(){var t=Dr;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),Dr=null),t}function el(t){Dr===null?Dr=[t]:Dr.push(t)}var Vf=V(null),js=null,Gi=null;function Or(t,i,a){le(Vf,i._currentValue),i._currentValue=a}function Qi(t){t._currentValue=Vf.current,W(Vf)}function xf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Pf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var D=0;D<i.length;D++)if(S.context===i[D]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),xf(d.return,a,t),l||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),xf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Na(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;vn(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===ye.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}h=h.return}t!==null&&Pf(i,t,a,l),i.flags|=262144}function $u(t){for(t=t.firstContext;t!==null;){if(!vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Bs(t){js=t,Gi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return zg(js,t)}function Ju(t,i){return js===null&&Bs(t),zg(t,i)}function zg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Gi===null){if(t===null)throw Error(s(308));Gi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Gi=Gi.next=i;return a}var QA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},KA=r.unstable_scheduleCallback,YA=r.unstable_NormalPriority,wt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lf(){return{controller:new QA,data:new Map,refCount:0}}function tl(t){t.refCount--,t.refCount===0&&KA(YA,function(){t.controller.abort()})}var nl=null,kf=0,Oa=0,Ma=null;function XA(t,i){if(nl===null){var a=nl=[];kf=0,Oa=jd(),Ma={status:"pending",value:void 0,then:function(l){a.push(l)}}}return kf++,i.then(jg,jg),i}function jg(){if(--kf===0&&nl!==null){Ma!==null&&(Ma.status="fulfilled");var t=nl;nl=null,Oa=0,Ma=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function $A(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Bg=K.S;K.S=function(t,i){b_=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&XA(t,i),Bg!==null&&Bg(t,i)};var qs=V(null);function Uf(){var t=qs.current;return t!==null?t:nt.pooledCache}function Zu(t,i){i===null?le(qs,qs.current):le(qs,i.pool)}function qg(){var t=Uf();return t===null?null:{parent:wt._currentValue,pool:t}}var Va=Error(s(460)),zf=Error(s(474)),Wu=Error(s(542)),ec={then:function(){}};function Hg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Yn,Yn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Qg(t),t;default:if(typeof i.status=="string")i.then(Yn,Yn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Qg(t),t}throw Fs=i,Va}}function Hs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Fs=a,Va):a}}var Fs=null;function Gg(){if(Fs===null)throw Error(s(459));var t=Fs;return Fs=null,t}function Qg(t){if(t===Va||t===Wu)throw Error(s(483))}var xa=null,il=0;function tc(t){var i=il;return il+=1,xa===null&&(xa=[]),Fg(xa,t,i)}function rl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function nc(t,i){throw i.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Kg(t){function i(P,M){if(t){var U=P.deletions;U===null?(P.deletions=[M],P.flags|=16):U.push(M)}}function a(P,M){if(!t)return null;for(;M!==null;)i(P,M),M=M.sibling;return null}function l(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(P,M){return P=Hi(P,M),P.index=0,P.sibling=null,P}function d(P,M,U){return P.index=U,t?(U=P.alternate,U!==null?(U=U.index,U<M?(P.flags|=67108866,M):U):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function S(P,M,U,$){return M===null||M.tag!==6?(M=Cf(U,P.mode,$),M.return=P,M):(M=h(M,U),M.return=P,M)}function D(P,M,U,$){var pe=U.type;return pe===Z?X(P,M,U.props.children,$,U.key):M!==null&&(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Hs(pe)===M.type)?(M=h(M,U.props),rl(M,U),M.return=P,M):(M=Yu(U.type,U.key,U.props,null,P.mode,$),rl(M,U),M.return=P,M)}function z(P,M,U,$){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=If(U,P.mode,$),M.return=P,M):(M=h(M,U.children||[]),M.return=P,M)}function X(P,M,U,$,pe){return M===null||M.tag!==7?(M=Us(U,P.mode,$,pe),M.return=P,M):(M=h(M,U),M.return=P,M)}function ee(P,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Cf(""+M,P.mode,U),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case L:return U=Yu(M.type,M.key,M.props,null,P.mode,U),rl(U,M),U.return=P,U;case Q:return M=If(M,P.mode,U),M.return=P,M;case w:return M=Hs(M),ee(P,M,U)}if(rt(M)||x(M))return M=Us(M,P.mode,U,null),M.return=P,M;if(typeof M.then=="function")return ee(P,tc(M),U);if(M.$$typeof===se)return ee(P,Ju(P,M),U);nc(P,M)}return null}function B(P,M,U,$){var pe=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return pe!==null?null:S(P,M,""+U,$);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case L:return U.key===pe?D(P,M,U,$):null;case Q:return U.key===pe?z(P,M,U,$):null;case w:return U=Hs(U),B(P,M,U,$)}if(rt(U)||x(U))return pe!==null?null:X(P,M,U,$,null);if(typeof U.then=="function")return B(P,M,tc(U),$);if(U.$$typeof===se)return B(P,M,Ju(P,U),$);nc(P,U)}return null}function F(P,M,U,$,pe){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return P=P.get(U)||null,S(M,P,""+$,pe);if(typeof $=="object"&&$!==null){switch($.$$typeof){case L:return P=P.get($.key===null?U:$.key)||null,D(M,P,$,pe);case Q:return P=P.get($.key===null?U:$.key)||null,z(M,P,$,pe);case w:return $=Hs($),F(P,M,U,$,pe)}if(rt($)||x($))return P=P.get(U)||null,X(M,P,$,pe,null);if(typeof $.then=="function")return F(P,M,U,tc($),pe);if($.$$typeof===se)return F(P,M,U,Ju(M,$),pe);nc(M,$)}return null}function he(P,M,U,$){for(var pe=null,He=null,de=M,Ne=M=0,xe=null;de!==null&&Ne<U.length;Ne++){de.index>Ne?(xe=de,de=null):xe=de.sibling;var Fe=B(P,de,U[Ne],$);if(Fe===null){de===null&&(de=xe);break}t&&de&&Fe.alternate===null&&i(P,de),M=d(Fe,M,Ne),He===null?pe=Fe:He.sibling=Fe,He=Fe,de=xe}if(Ne===U.length)return a(P,de),ze&&Fi(P,Ne),pe;if(de===null){for(;Ne<U.length;Ne++)de=ee(P,U[Ne],$),de!==null&&(M=d(de,M,Ne),He===null?pe=de:He.sibling=de,He=de);return ze&&Fi(P,Ne),pe}for(de=l(de);Ne<U.length;Ne++)xe=F(de,P,Ne,U[Ne],$),xe!==null&&(t&&xe.alternate!==null&&de.delete(xe.key===null?Ne:xe.key),M=d(xe,M,Ne),He===null?pe=xe:He.sibling=xe,He=xe);return t&&de.forEach(function(Xr){return i(P,Xr)}),ze&&Fi(P,Ne),pe}function ve(P,M,U,$){if(U==null)throw Error(s(151));for(var pe=null,He=null,de=M,Ne=M=0,xe=null,Fe=U.next();de!==null&&!Fe.done;Ne++,Fe=U.next()){de.index>Ne?(xe=de,de=null):xe=de.sibling;var Xr=B(P,de,Fe.value,$);if(Xr===null){de===null&&(de=xe);break}t&&de&&Xr.alternate===null&&i(P,de),M=d(Xr,M,Ne),He===null?pe=Xr:He.sibling=Xr,He=Xr,de=xe}if(Fe.done)return a(P,de),ze&&Fi(P,Ne),pe;if(de===null){for(;!Fe.done;Ne++,Fe=U.next())Fe=ee(P,Fe.value,$),Fe!==null&&(M=d(Fe,M,Ne),He===null?pe=Fe:He.sibling=Fe,He=Fe);return ze&&Fi(P,Ne),pe}for(de=l(de);!Fe.done;Ne++,Fe=U.next())Fe=F(de,P,Ne,Fe.value,$),Fe!==null&&(t&&Fe.alternate!==null&&de.delete(Fe.key===null?Ne:Fe.key),M=d(Fe,M,Ne),He===null?pe=Fe:He.sibling=Fe,He=Fe);return t&&de.forEach(function(ob){return i(P,ob)}),ze&&Fi(P,Ne),pe}function tt(P,M,U,$){if(typeof U=="object"&&U!==null&&U.type===Z&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case L:e:{for(var pe=U.key;M!==null;){if(M.key===pe){if(pe=U.type,pe===Z){if(M.tag===7){a(P,M.sibling),$=h(M,U.props.children),$.return=P,P=$;break e}}else if(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Hs(pe)===M.type){a(P,M.sibling),$=h(M,U.props),rl($,U),$.return=P,P=$;break e}a(P,M);break}else i(P,M);M=M.sibling}U.type===Z?($=Us(U.props.children,P.mode,$,U.key),$.return=P,P=$):($=Yu(U.type,U.key,U.props,null,P.mode,$),rl($,U),$.return=P,P=$)}return _(P);case Q:e:{for(pe=U.key;M!==null;){if(M.key===pe)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){a(P,M.sibling),$=h(M,U.children||[]),$.return=P,P=$;break e}else{a(P,M);break}else i(P,M);M=M.sibling}$=If(U,P.mode,$),$.return=P,P=$}return _(P);case w:return U=Hs(U),tt(P,M,U,$)}if(rt(U))return he(P,M,U,$);if(x(U)){if(pe=x(U),typeof pe!="function")throw Error(s(150));return U=pe.call(U),ve(P,M,U,$)}if(typeof U.then=="function")return tt(P,M,tc(U),$);if(U.$$typeof===se)return tt(P,M,Ju(P,U),$);nc(P,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(a(P,M.sibling),$=h(M,U),$.return=P,P=$):(a(P,M),$=Cf(U,P.mode,$),$.return=P,P=$),_(P)):a(P,M)}return function(P,M,U,$){try{il=0;var pe=tt(P,M,U,$);return xa=null,pe}catch(de){if(de===Va||de===Wu)throw de;var He=En(29,de,null,P.mode);return He.lanes=$,He.return=P,He}finally{}}}var Gs=Kg(!0),Yg=Kg(!1),Mr=!1;function jf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function xr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Ku(t),Og(t,null,a),i}return Qu(t,l,i,a),Ku(t)}function sl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Mo(t,a)}}function qf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Hf=!1;function al(){if(Hf){var t=Ma;if(t!==null)throw t}}function ol(t,i,a,l){Hf=!1;var h=t.updateQueue;Mr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var D=S,z=D.next;D.next=null,_===null?d=z:_.next=z,_=D;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==_&&(S===null?X.firstBaseUpdate=z:S.next=z,X.lastBaseUpdate=D))}if(d!==null){var ee=h.baseState;_=0,X=z=D=null,S=d;do{var B=S.lane&-536870913,F=B!==S.lane;if(F?(Ve&B)===B:(l&B)===B){B!==0&&B===Oa&&(Hf=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var he=t,ve=S;B=i;var tt=a;switch(ve.tag){case 1:if(he=ve.payload,typeof he=="function"){ee=he.call(tt,ee,B);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ve.payload,B=typeof he=="function"?he.call(tt,ee,B):he,B==null)break e;ee=T({},ee,B);break e;case 2:Mr=!0}}B=S.callback,B!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(z=X=F,D=ee):X=X.next=F,_|=B;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;F=S,S=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);X===null&&(D=ee),h.baseState=D,h.firstBaseUpdate=z,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),zr|=_,t.lanes=_,t.memoizedState=ee}}function Xg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function $g(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Xg(a[t],i)}var Pa=V(null),ic=V(0);function Jg(t,i){t=tr,le(ic,t),le(Pa,i),tr=t|i.baseLanes}function Ff(){le(ic,tr),le(Pa,Pa.current)}function Gf(){tr=ic.current,W(Pa),W(ic)}var Tn=V(null),Un=null;function Pr(t){var i=t.alternate;le(yt,yt.current&1),le(Tn,t),Un===null&&(i===null||Pa.current!==null||i.memoizedState!==null)&&(Un=t)}function Qf(t){le(yt,yt.current),le(Tn,t),Un===null&&(Un=t)}function Zg(t){t.tag===22?(le(yt,yt.current),le(Tn,t),Un===null&&(Un=t)):Lr()}function Lr(){le(yt,yt.current),le(Tn,Tn.current)}function Sn(t){W(Tn),Un===t&&(Un=null),W(yt)}var yt=V(0);function rc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Zd(a)||Wd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ki=0,De=null,We=null,Rt=null,sc=!1,La=!1,Qs=!1,ac=0,ll=0,ka=null,JA=0;function ft(){throw Error(s(321))}function Kf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!vn(t[a],i[a]))return!1;return!0}function Yf(t,i,a,l,h,d){return Ki=d,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?Py:ud,Qs=!1,d=a(l,h),Qs=!1,La&&(d=ey(i,a,l,h)),Wg(t),d}function Wg(t){K.H=hl;var i=We!==null&&We.next!==null;if(Ki=0,Rt=We=De=null,sc=!1,ll=0,ka=null,i)throw Error(s(300));t===null||Ct||(t=t.dependencies,t!==null&&$u(t)&&(Ct=!0))}function ey(t,i,a,l){De=t;var h=0;do{if(La&&(ka=null),ll=0,La=!1,25<=h)throw Error(s(301));if(h+=1,Rt=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=Ly,d=i(a,l)}while(La);return d}function ZA(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?ul(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(De.flags|=1024),i}function Xf(){var t=ac!==0;return ac=0,t}function $f(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Jf(t){if(sc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}sc=!1}Ki=0,Rt=We=De=null,La=!1,ll=ac=0,ka=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?De.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function _t(){if(We===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=Rt===null?De.memoizedState:Rt.next;if(i!==null)Rt=i,We=t;else{if(t===null)throw De.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Rt===null?De.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(t){var i=ll;return ll+=1,ka===null&&(ka=[]),t=Fg(ka,t,i),i=De,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?Py:ud),t}function lc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ul(t);if(t.$$typeof===se)return Ht(t)}throw Error(s(438,String(t)))}function Zf(t){var i=null,a=De.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=oc(),De.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function Yi(t,i){return typeof i=="function"?i(t):i}function uc(t){var i=_t();return Wf(i,We,t)}function Wf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=_=null,D=null,z=i,X=!1;do{var ee=z.lane&-536870913;if(ee!==z.lane?(Ve&ee)===ee:(Ki&ee)===ee){var B=z.revertLane;if(B===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),ee===Oa&&(X=!0);else if((Ki&B)===B){z=z.next,B===Oa&&(X=!0);continue}else ee={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(S=D=ee,_=d):D=D.next=ee,De.lanes|=B,zr|=B;ee=z.action,Qs&&a(d,ee),d=z.hasEagerState?z.eagerState:a(d,ee)}else B={lane:ee,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(S=D=B,_=d):D=D.next=B,De.lanes|=ee,zr|=ee;z=z.next}while(z!==null&&z!==i);if(D===null?_=d:D.next=S,!vn(d,t.memoizedState)&&(Ct=!0,X&&(a=Ma,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ed(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);vn(d,i.memoizedState)||(Ct=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ty(t,i,a){var l=De,h=_t(),d=ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!vn((We||h).memoizedState,a);if(_&&(h.memoizedState=a,Ct=!0),h=h.queue,id(ry.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,Ua(9,{destroy:void 0},iy.bind(null,l,h,a,i),null),nt===null)throw Error(s(349));d||(Ki&127)!==0||ny(l,i,a)}return a}function ny(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=De.updateQueue,i===null?(i=oc(),De.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function iy(t,i,a,l){i.value=a,i.getSnapshot=l,sy(i)&&ay(t)}function ry(t,i,a){return a(function(){sy(i)&&ay(t)})}function sy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!vn(t,a)}catch{return!0}}function ay(t){var i=ks(t,2);i!==null&&fn(i,t,2)}function td(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),Qs){In(!0);try{a()}finally{In(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:t},i}function oy(t,i,a,l){return t.baseState=a,Wf(t,We,typeof l=="function"?l:Yi)}function WA(t,i,a,l,h){if(fc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ly(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ly(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=K.T,_={};K.T=_;try{var S=a(h,l),D=K.S;D!==null&&D(_,S),uy(t,i,S)}catch(z){nd(t,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),K.T=d}}else try{d=a(h,l),uy(t,i,d)}catch(z){nd(t,i,z)}}function uy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){cy(t,i,l)},function(l){return nd(t,i,l)}):cy(t,i,a)}function cy(t,i,a){i.status="fulfilled",i.value=a,hy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ly(t,a)))}function nd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,hy(i),i=i.next;while(i!==l)}t.action=null}function hy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function fy(t,i){return i}function dy(t,i){if(ze){var a=nt.formState;if(a!==null){e:{var l=De;if(ze){if(st){t:{for(var h=st,d=kn;h.nodeType!==8;){if(!d){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){st=zn(h.nextSibling),l=h.data==="F!";break e}}Nr(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fy,lastRenderedState:i},a.queue=l,a=My.bind(null,De,l),l.dispatch=a,l=td(!1),d=ld.bind(null,De,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=WA.bind(null,De,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function my(t){var i=_t();return py(i,We,t)}function py(t,i,a){if(i=Wf(t,i,fy)[0],t=uc(Yi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ul(i)}catch(_){throw _===Va?Wu:_}else l=i;i=_t();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(De.flags|=2048,Ua(9,{destroy:void 0},e1.bind(null,h,a),null)),[l,d,t]}function e1(t,i){t.action=i}function gy(t){var i=_t(),a=We;if(a!==null)return py(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ua(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=De.updateQueue,i===null&&(i=oc(),De.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function yy(){return _t().memoizedState}function cc(t,i,a,l){var h=sn();De.flags|=t,h.memoizedState=Ua(1|i,{destroy:void 0},a,l===void 0?null:l)}function hc(t,i,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;We!==null&&l!==null&&Kf(l,We.memoizedState.deps)?h.memoizedState=Ua(i,d,a,l):(De.flags|=t,h.memoizedState=Ua(1|i,d,a,l))}function _y(t,i){cc(8390656,8,t,i)}function id(t,i){hc(2048,8,t,i)}function t1(t){De.flags|=4;var i=De.updateQueue;if(i===null)i=oc(),De.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function vy(t){var i=_t().memoizedState;return t1({ref:i,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Ey(t,i){return hc(4,2,t,i)}function Ty(t,i){return hc(4,4,t,i)}function Sy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ay(t,i,a){a=a!=null?a.concat([t]):null,hc(4,4,Sy.bind(null,i,t),a)}function rd(){}function by(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Kf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function wy(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Kf(i,l[1]))return l[0];if(l=t(),Qs){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l}function sd(t,i,a){return a===void 0||(Ki&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=R_(),De.lanes|=t,zr|=t,a)}function Ry(t,i,a,l){return vn(a,i)?a:Pa.current!==null?(t=sd(t,a,l),vn(t,i)||(Ct=!0),t):(Ki&42)===0||(Ki&1073741824)!==0&&(Ve&261930)===0?(Ct=!0,t.memoizedState=a):(t=R_(),De.lanes|=t,zr|=t,i)}function Cy(t,i,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=K.T,S={};K.T=S,ld(t,!1,i,a);try{var D=h(),z=K.S;if(z!==null&&z(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var X=$A(D,l);cl(t,i,X,wn(t))}else cl(t,i,l,wn(t))}catch(ee){cl(t,i,{then:function(){},status:"rejected",reason:ee},wn())}finally{oe.p=d,_!==null&&S.types!==null&&(_.types=S.types),K.T=_}}function n1(){}function ad(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Iy(t).queue;Cy(t,h,i,me,a===null?n1:function(){return Dy(t),a(l)})}function Iy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Dy(t){var i=Iy(t);i.next===null&&(i=t.alternate.memoizedState),cl(t,i.next.queue,{},wn())}function od(){return Ht(Cl)}function Ny(){return _t().memoizedState}function Oy(){return _t().memoizedState}function i1(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();t=Vr(a);var l=xr(i,t,a);l!==null&&(fn(l,i,a),sl(l,i,a)),i={cache:Lf()},t.payload=i;return}i=i.return}}function r1(t,i,a){var l=wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},fc(t)?Vy(i,a):(a=wf(t,i,a,l),a!==null&&(fn(a,t,l),xy(a,i,l)))}function My(t,i,a){var l=wn();cl(t,i,a,l)}function cl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(fc(t))Vy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,vn(S,_))return Qu(t,i,h,0),nt===null&&Gu(),!1}catch{}finally{}if(a=wf(t,i,h,l),a!==null)return fn(a,t,l),xy(a,i,l),!0}return!1}function ld(t,i,a,l){if(l={lane:2,revertLane:jd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},fc(t)){if(i)throw Error(s(479))}else i=wf(t,a,l,2),i!==null&&fn(i,t,2)}function fc(t){var i=t.alternate;return t===De||i!==null&&i===De}function Vy(t,i){La=sc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function xy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Mo(t,a)}}var hl={readContext:Ht,use:lc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};hl.useEffectEvent=ft;var Py={readContext:Ht,use:lc,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:_y,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,cc(4194308,4,Sy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return cc(4194308,4,t,i)},useInsertionEffect:function(t,i){cc(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var l=t();if(Qs){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=sn();if(a!==void 0){var h=a(i);if(Qs){In(!0);try{a(i)}finally{In(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=r1.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=td(t);var i=t.queue,a=My.bind(null,De,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:rd,useDeferredValue:function(t,i){var a=sn();return sd(a,t,i)},useTransition:function(){var t=td(!1);return t=Cy.bind(null,De,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=De,h=sn();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),nt===null)throw Error(s(349));(Ve&127)!==0||ny(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,_y(ry.bind(null,l,d,t),[t]),l.flags|=2048,Ua(9,{destroy:void 0},iy.bind(null,l,d,a,i),null),a},useId:function(){var t=sn(),i=nt.identifierPrefix;if(ze){var a=Ri,l=wi;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ac++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=JA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:od,useFormState:dy,useActionState:dy,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ld.bind(null,De,!0,a),a.dispatch=i,[t,i]},useMemoCache:Zf,useCacheRefresh:function(){return sn().memoizedState=i1.bind(null,De)},useEffectEvent:function(t){var i=sn(),a={impl:t};return i.memoizedState=a,function(){if((Qe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},ud={readContext:Ht,use:lc,useCallback:by,useContext:Ht,useEffect:id,useImperativeHandle:Ay,useInsertionEffect:Ey,useLayoutEffect:Ty,useMemo:wy,useReducer:uc,useRef:yy,useState:function(){return uc(Yi)},useDebugValue:rd,useDeferredValue:function(t,i){var a=_t();return Ry(a,We.memoizedState,t,i)},useTransition:function(){var t=uc(Yi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:ul(t),i]},useSyncExternalStore:ty,useId:Ny,useHostTransitionStatus:od,useFormState:my,useActionState:my,useOptimistic:function(t,i){var a=_t();return oy(a,We,t,i)},useMemoCache:Zf,useCacheRefresh:Oy};ud.useEffectEvent=vy;var Ly={readContext:Ht,use:lc,useCallback:by,useContext:Ht,useEffect:id,useImperativeHandle:Ay,useInsertionEffect:Ey,useLayoutEffect:Ty,useMemo:wy,useReducer:ed,useRef:yy,useState:function(){return ed(Yi)},useDebugValue:rd,useDeferredValue:function(t,i){var a=_t();return We===null?sd(a,t,i):Ry(a,We.memoizedState,t,i)},useTransition:function(){var t=ed(Yi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:ul(t),i]},useSyncExternalStore:ty,useId:Ny,useHostTransitionStatus:od,useFormState:gy,useActionState:gy,useOptimistic:function(t,i){var a=_t();return We!==null?oy(a,We,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Zf,useCacheRefresh:Oy};Ly.useEffectEvent=vy;function cd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var hd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=wn(),h=Vr(l);h.payload=i,a!=null&&(h.callback=a),i=xr(t,h,l),i!==null&&(fn(i,t,l),sl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=wn(),h=Vr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=xr(t,h,l),i!==null&&(fn(i,t,l),sl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=wn(),l=Vr(a);l.tag=2,i!=null&&(l.callback=i),i=xr(t,l,a),i!==null&&(fn(i,t,a),sl(i,t,a))}};function ky(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Jo(a,l)||!Jo(h,d):!0}function Uy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&hd.enqueueReplaceState(i,i.state,null)}function Ks(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function zy(t){Fu(t)}function jy(t){console.error(t)}function By(t){Fu(t)}function dc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function qy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function fd(t,i,a){return a=Vr(a),a.tag=3,a.payload={element:null},a.callback=function(){dc(t,i)},a}function Hy(t){return t=Vr(t),t.tag=3,t}function Fy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){qy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){qy(i,a,l),typeof h!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function s1(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Na(i,a,h,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?wc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===ec?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),kd(t,l,h)),!1;case 22:return a.flags|=65536,l===ec?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),kd(t,l,h)),!1}throw Error(s(435,a.tag))}return kd(t,l,h),wc(),!1}if(ze)return i=Tn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Of&&(t=Error(s(422),{cause:l}),el(xn(t,a)))):(l!==Of&&(i=Error(s(423),{cause:l}),el(xn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=xn(l,a),h=fd(t.stateNode,l,h),qf(t,h),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=xn(d,a),vl===null?vl=[d]:vl.push(d),dt!==4&&(dt=2),i===null)return!0;l=xn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=fd(a.stateNode,l,t),qf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(jr===null||!jr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Hy(h),Fy(h,t,a,l),qf(a,h),!1}a=a.return}while(a!==null);return!1}var dd=Error(s(461)),Ct=!1;function Ft(t,i,a,l){i.child=t===null?Yg(i,null,a,l):Gs(i,t.child,a,l)}function Gy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Bs(i),l=Yf(t,i,a,_,d,h),S=Xf(),t!==null&&!Ct?($f(t,i,h),Xi(t,i,h)):(ze&&S&&Df(i),i.flags|=1,Ft(t,i,l,h),i.child)}function Qy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Rf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ky(t,i,d,l,h)):(t=Yu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Td(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Jo,a(_,l)&&t.ref===i.ref)return Xi(t,i,h)}return i.flags|=1,t=Hi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Ky(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Jo(d,l)&&t.ref===i.ref)if(Ct=!1,i.pendingProps=l=d,Td(t,h))(t.flags&131072)!==0&&(Ct=!0);else return i.lanes=t.lanes,Xi(t,i,h)}return md(t,i,a,l,h)}function Yy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Xy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zu(i,d!==null?d.cachePool:null),d!==null?Jg(i,d):Ff(),Zg(i);else return l=i.lanes=536870912,Xy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Zu(i,d.cachePool),Jg(i,d),Lr(),i.memoizedState=null):(t!==null&&Zu(i,null),Ff(),Lr());return Ft(t,i,h,a),i.child}function fl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Xy(t,i,a,l,h){var d=Uf();return d=d===null?null:{parent:wt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Zu(i,null),Ff(),Zg(i),t!==null&&Na(t,i,l,!0),i.childLanes=h,null}function mc(t,i){return i=gc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function $y(t,i,a){return Gs(i,t.child,null,a),t=mc(i,i.pendingProps),t.flags|=2,Sn(i),i.memoizedState=null,t}function a1(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=mc(i,l),i.lanes=536870912,fl(null,t);if(Qf(i),(t=st)?(t=lv(t,kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ir!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=i,i.child=a,qt=i,st=null)):t=null,t===null)throw Nr(i);return i.lanes=536870912,null}return mc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Qf(i),h)if(i.flags&256)i.flags&=-257,i=$y(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ct||Na(t,i,a,!1),h=(a&t.childLanes)!==0,Ct||h){if(l=nt,l!==null&&(_=Vo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,ks(t,_),fn(l,t,_),dd;wc(),i=$y(t,i,a)}else t=d.treeContext,st=zn(_.nextSibling),qt=i,ze=!0,Dr=null,kn=!1,t!==null&&Lg(i,t),i=mc(i,l),i.flags|=4096;return i}return t=Hi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function pc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function md(t,i,a,l,h){return Bs(i),a=Yf(t,i,a,l,void 0,h),l=Xf(),t!==null&&!Ct?($f(t,i,h),Xi(t,i,h)):(ze&&l&&Df(i),i.flags|=1,Ft(t,i,a,h),i.child)}function Jy(t,i,a,l,h,d){return Bs(i),i.updateQueue=null,a=ey(i,l,a,h),Wg(t),l=Xf(),t!==null&&!Ct?($f(t,i,d),Xi(t,i,d)):(ze&&l&&Df(i),i.flags|=1,Ft(t,i,a,d),i.child)}function Zy(t,i,a,l,h){if(Bs(i),i.stateNode===null){var d=Ra,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=hd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},jf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):Ra,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(cd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&hd.enqueueReplaceState(d,d.state,null),ol(i,l,d,h),al(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,D=Ks(a,S);d.props=D;var z=d.context,X=a.contextType;_=Ra,typeof X=="object"&&X!==null&&(_=Ht(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||z!==_)&&Uy(i,d,l,_),Mr=!1;var B=i.memoizedState;d.state=B,ol(i,l,d,h),al(),z=i.memoizedState,S||B!==z||Mr?(typeof ee=="function"&&(cd(i,a,ee,l),z=i.memoizedState),(D=Mr||ky(i,a,D,l,B,z,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Bf(t,i),_=i.memoizedProps,X=Ks(a,_),d.props=X,ee=i.pendingProps,B=d.context,z=a.contextType,D=Ra,typeof z=="object"&&z!==null&&(D=Ht(z)),S=a.getDerivedStateFromProps,(z=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||B!==D)&&Uy(i,d,l,D),Mr=!1,B=i.memoizedState,d.state=B,ol(i,l,d,h),al();var F=i.memoizedState;_!==ee||B!==F||Mr||t!==null&&t.dependencies!==null&&$u(t.dependencies)?(typeof S=="function"&&(cd(i,a,S,l),F=i.memoizedState),(X=Mr||ky(i,a,X,l,B,F,D)||t!==null&&t.dependencies!==null&&$u(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=D,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,pc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Gs(i,t.child,null,h),i.child=Gs(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Xi(t,i,h),t}function Wy(t,i,a,l){return zs(),i.flags|=256,Ft(t,i,a,l),i.child}var pd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gd(t){return{baseLanes:t,cachePool:qg()}}function yd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=bn),t}function e_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(ze){if(h?Pr(i):Lr(),(t=st)?(t=lv(t,kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ir!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=i,i.child=a,qt=i,st=null)):t=null,t===null)throw Nr(i);return Wd(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(Lr(),h=i.mode,S=gc({mode:"hidden",children:S},h),l=Us(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=gd(a),l.childLanes=yd(t,_,a),i.memoizedState=pd,fl(null,l)):(Pr(i),_d(i,S))}var D=t.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(d)i.flags&256?(Pr(i),i.flags&=-257,i=vd(t,i,a)):i.memoizedState!==null?(Lr(),i.child=t.child,i.flags|=128,i=null):(Lr(),S=l.fallback,h=i.mode,l=gc({mode:"visible",children:l.children},h),S=Us(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Gs(i,t.child,null,a),l=i.child,l.memoizedState=gd(a),l.childLanes=yd(t,_,a),i.memoizedState=pd,i=fl(null,l));else if(Pr(i),Wd(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(s(419)),l.stack="",l.digest=_,el({value:l,source:null,stack:null}),i=vd(t,i,a)}else if(Ct||Na(t,i,a,!1),_=(a&t.childLanes)!==0,Ct||_){if(_=nt,_!==null&&(l=Vo(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,ks(t,l),fn(_,t,l),dd;Zd(S)||wc(),i=vd(t,i,a)}else Zd(S)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,st=zn(S.nextSibling),qt=i,ze=!0,Dr=null,kn=!1,t!==null&&Lg(i,t),i=_d(i,l.children),i.flags|=4096);return i}return h?(Lr(),S=l.fallback,h=i.mode,D=t.child,z=D.sibling,l=Hi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,z!==null?S=Hi(z,S):(S=Us(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,fl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=gd(a):(h=S.cachePool,h!==null?(D=wt._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=qg(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=yd(t,_,a),i.memoizedState=pd,fl(t.child,l)):(Pr(i),a=t.child,t=a.sibling,a=Hi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function _d(t,i){return i=gc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function gc(t,i){return t=En(22,t,null,i),t.lanes=0,t}function vd(t,i,a){return Gs(i,t.child,null,a),t=_d(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function t_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),xf(t.return,i,a)}function Ed(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function n_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=yt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,le(yt,_),Ft(t,i,l,a),l=ze?Wo:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&t_(t,a,i);else if(t.tag===19)t_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&rc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Ed(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&rc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Ed(i,!0,a,null,d,l);break;case"together":Ed(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Xi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),zr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Na(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Hi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Hi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Td(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&$u(t)))}function o1(t,i,a){switch(i.tag){case 3:Ee(i,i.stateNode.containerInfo),Or(i,wt,t.memoizedState.cache),zs();break;case 27:case 5:gn(i);break;case 4:Ee(i,i.stateNode.containerInfo);break;case 10:Or(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Qf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Pr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?e_(t,i,a):(Pr(i),t=Xi(t,i,a),t!==null?t.sibling:null);Pr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Na(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return n_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(yt,yt.current),l)break;return null;case 22:return i.lanes=0,Yy(t,i,a,i.pendingProps);case 24:Or(i,wt,t.memoizedState.cache)}return Xi(t,i,a)}function i_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ct=!0;else{if(!Td(t,a)&&(i.flags&128)===0)return Ct=!1,o1(t,i,a);Ct=(t.flags&131072)!==0}else Ct=!1,ze&&(i.flags&1048576)!==0&&Pg(i,Wo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Hs(i.elementType),i.type=t,typeof t=="function")Rf(t)?(l=Ks(t,l),i.tag=1,i=Zy(null,i,t,l,a)):(i.tag=0,i=md(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===_e){i.tag=11,i=Gy(null,i,t,l,a);break e}else if(h===R){i.tag=14,i=Qy(null,i,t,l,a);break e}}throw i=Je(t)||t,Error(s(306,i,""))}}return i;case 0:return md(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ks(l,i.pendingProps),Zy(t,i,l,h,a);case 3:e:{if(Ee(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Bf(t,i),ol(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Or(i,wt,l),l!==d.cache&&Pf(i,[wt],a,!0),al(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Wy(t,i,l,a);break e}else if(l!==h){h=xn(Error(s(424)),i),el(h),i=Wy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(st=zn(t.firstChild),qt=i,ze=!0,Dr=null,kn=!0,a=Yg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(zs(),l===h){i=Xi(t,i,a);break e}Ft(t,i,l,a)}i=i.child}return i;case 26:return pc(t,i),t===null?(a=mv(i.type,null,i.pendingProps,null))?i.memoizedState=a:ze||(a=i.type,t=i.pendingProps,l=Mc(fe.current).createElement(a),l[St]=i,l[Pt]=t,Gt(l,a,t),At(l),i.stateNode=l):i.memoizedState=mv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return gn(i),t===null&&ze&&(l=i.stateNode=hv(i.type,i.pendingProps,fe.current),qt=i,kn=!0,h=st,Fr(i.type)?(em=h,st=zn(l.firstChild)):st=h),Ft(t,i,i.pendingProps.children,a),pc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ze&&((h=l=st)&&(l=k1(l,i.type,i.pendingProps,kn),l!==null?(i.stateNode=l,qt=i,st=zn(l.firstChild),kn=!1,h=!0):h=!1),h||Nr(i)),gn(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Xd(h,d)?l=null:_!==null&&Xd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Yf(t,i,ZA,null,null,a),Cl._currentValue=h),pc(t,i),Ft(t,i,l,a),i.child;case 6:return t===null&&ze&&((t=a=st)&&(a=U1(a,i.pendingProps,kn),a!==null?(i.stateNode=a,qt=i,st=null,t=!0):t=!1),t||Nr(i)),null;case 13:return e_(t,i,a);case 4:return Ee(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Gs(i,null,l,a):Ft(t,i,l,a),i.child;case 11:return Gy(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Or(i,i.type,l.value),Ft(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Bs(i),h=Ht(h),l=l(h),i.flags|=1,Ft(t,i,l,a),i.child;case 14:return Qy(t,i,i.type,i.pendingProps,a);case 15:return Ky(t,i,i.type,i.pendingProps,a);case 19:return n_(t,i,a);case 31:return a1(t,i,a);case 22:return Yy(t,i,a,i.pendingProps);case 24:return Bs(i),l=Ht(wt),t===null?(h=Uf(),h===null&&(h=nt,d=Lf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},jf(i),Or(i,wt,h)):((t.lanes&a)!==0&&(Bf(t,i),ol(i,null,null,a),al()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Or(i,wt,l)):(l=d.cache,Or(i,wt,l),l!==h.cache&&Pf(i,[wt],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function $i(t){t.flags|=4}function Sd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(N_())t.flags|=8192;else throw Fs=ec,zf}else t.flags&=-16777217}function r_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!vv(i))if(N_())t.flags|=8192;else throw Fs=ec,zf}function yc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Au():536870912,t.lanes|=i,qa|=i)}function dl(t,i){if(!ze)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function l1(t,i,a){var l=i.pendingProps;switch(Nf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Qi(wt),qe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Da(i)?$i(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Mf())),at(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?($i(i),d!==null?(at(i),r_(i,d)):(at(i),Sd(i,h,null,l,a))):d?d!==t.memoizedState?($i(i),at(i),r_(i,d)):(at(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&$i(i),at(i),Sd(i,h,t,l,a)),null;case 27:if(ai(i),a=fe.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}t=Y.current,Da(i)?kg(i):(t=hv(h,l,a),i.stateNode=t,$i(i))}return at(i),null;case 5:if(ai(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}if(d=Y.current,Da(i))kg(i);else{var _=Mc(fe.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[St]=i,d[Pt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Gt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&$i(i)}}return at(i),Sd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=fe.current,Da(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[St]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ev(t.nodeValue,a)),t||Nr(i,!0)}else t=Mc(t).createTextNode(l),t[St]=i,i.stateNode=t}return at(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Da(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[St]=i}else zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),t=!1}else a=Mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Sn(i),i):(Sn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return at(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Da(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[St]=i}else zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),h=!1}else h=Mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Sn(i),i):(Sn(i),null)}return Sn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),yc(i,i.updateQueue),at(i),null);case 4:return qe(),t===null&&Fd(i.stateNode.containerInfo),at(i),null;case 10:return Qi(i.type),at(i),null;case 19:if(W(yt),l=i.memoizedState,l===null)return at(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)dl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=rc(t),d!==null){for(i.flags|=128,dl(l,!1),t=d.updateQueue,i.updateQueue=t,yc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Mg(a,t),a=a.sibling;return le(yt,yt.current&1|2),ze&&Fi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&nn()>Sc&&(i.flags|=128,h=!0,dl(l,!1),i.lanes=4194304)}else{if(!h)if(t=rc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,yc(i,t),dl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ze)return at(i),null}else 2*nn()-l.renderingStartTime>Sc&&a!==536870912&&(i.flags|=128,h=!0,dl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,a=yt.current,le(yt,h?a&1|2:a&1),ze&&Fi(i,l.treeForkCount),t):(at(i),null);case 22:case 23:return Sn(i),Gf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&yc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&W(qs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Qi(wt),at(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function u1(t,i){switch(Nf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Qi(wt),qe(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ai(i),null;case 31:if(i.memoizedState!==null){if(Sn(i),i.alternate===null)throw Error(s(340));zs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Sn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));zs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return W(yt),null;case 4:return qe(),null;case 10:return Qi(i.type),null;case 22:case 23:return Sn(i),Gf(),t!==null&&W(qs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Qi(wt),null;case 25:return null;default:return null}}function s_(t,i){switch(Nf(i),i.tag){case 3:Qi(wt),qe();break;case 26:case 27:case 5:ai(i);break;case 4:qe();break;case 31:i.memoizedState!==null&&Sn(i);break;case 13:Sn(i);break;case 19:W(yt);break;case 10:Qi(i.type);break;case 22:case 23:Sn(i),Gf(),t!==null&&W(qs);break;case 24:Qi(wt)}}function ml(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){$e(i,i.return,S)}}function kr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var D=a,z=S;try{z()}catch(X){$e(h,D,X)}}}l=l.next}while(l!==d)}}catch(X){$e(i,i.return,X)}}function a_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{$g(i,a)}catch(l){$e(t,t.return,l)}}}function o_(t,i,a){a.props=Ks(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$e(t,i,l)}}function pl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){$e(t,i,h)}}function Ci(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$e(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$e(t,i,h)}else a.current=null}function l_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$e(t,t.return,h)}}function Ad(t,i,a){try{var l=t.stateNode;O1(l,t.type,a,i),l[Pt]=i}catch(h){$e(t,t.return,h)}}function u_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fr(t.type)||t.tag===4}function bd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||u_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yn));else if(l!==4&&(l===27&&Fr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(wd(t,i,a),t=t.sibling;t!==null;)wd(t,i,a),t=t.sibling}function _c(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Fr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(_c(t,i,a),t=t.sibling;t!==null;)_c(t,i,a),t=t.sibling}function c_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,l,a),i[St]=t,i[Pt]=a}catch(d){$e(t,t.return,d)}}var Ji=!1,It=!1,Rd=!1,h_=typeof WeakSet=="function"?WeakSet:Set,kt=null;function c1(t,i){if(t=t.containerInfo,Kd=zc,t=Ag(t),vf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,D=-1,z=0,X=0,ee=t,B=null;t:for(;;){for(var F;ee!==a||h!==0&&ee.nodeType!==3||(S=_+h),ee!==d||l!==0&&ee.nodeType!==3||(D=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(F=ee.firstChild)!==null;)B=ee,ee=F;for(;;){if(ee===t)break t;if(B===a&&++z===h&&(S=_),B===d&&++X===l&&(D=_),(F=ee.nextSibling)!==null)break;ee=B,B=ee.parentNode}ee=F}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yd={focusedElem:t,selectionRange:a},zc=!1,kt=i;kt!==null;)if(i=kt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,kt=t;else for(;kt!==null;){switch(i=kt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=Ks(a.type,h);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){$e(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Jd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,kt=t;break}kt=i.return}}function f_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(t,a),l&4&&ml(5,a);break;case 1:if(Wi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){$e(a,a.return,_)}else{var h=Ks(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){$e(a,a.return,_)}}l&64&&a_(a),l&512&&pl(a,a.return);break;case 3:if(Wi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{$g(t,i)}catch(_){$e(a,a.return,_)}}break;case 27:i===null&&l&4&&c_(a);case 26:case 5:Wi(t,a),i===null&&l&4&&l_(a),l&512&&pl(a,a.return);break;case 12:Wi(t,a);break;case 31:Wi(t,a),l&4&&p_(t,a);break;case 13:Wi(t,a),l&4&&g_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=v1.bind(null,a),z1(t,a))));break;case 22:if(l=a.memoizedState!==null||Ji,!l){i=i!==null&&i.memoizedState!==null||It,h=Ji;var d=It;Ji=l,(It=i)&&!d?er(t,a,(a.subtreeFlags&8772)!==0):Wi(t,a),Ji=h,It=d}break;case 30:break;default:Wi(t,a)}}function d_(t){var i=t.alternate;i!==null&&(t.alternate=null,d_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&fa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,ln=!1;function Zi(t,i,a){for(a=a.child;a!==null;)m_(t,i,a),a=a.sibling}function m_(t,i,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Fn,a)}catch{}switch(a.tag){case 26:It||Ci(a,i),Zi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||Ci(a,i);var l=ut,h=ln;Fr(a.type)&&(ut=a.stateNode,ln=!1),Zi(t,i,a),bl(a.stateNode),ut=l,ln=h;break;case 5:It||Ci(a,i);case 6:if(l=ut,h=ln,ut=null,Zi(t,i,a),ut=l,ln=h,ut!==null)if(ln)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){$e(a,i,d)}else try{ut.removeChild(a.stateNode)}catch(d){$e(a,i,d)}break;case 18:ut!==null&&(ln?(t=ut,av(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),$a(t)):av(ut,a.stateNode));break;case 4:l=ut,h=ln,ut=a.stateNode.containerInfo,ln=!0,Zi(t,i,a),ut=l,ln=h;break;case 0:case 11:case 14:case 15:kr(2,a,i),It||kr(4,a,i),Zi(t,i,a);break;case 1:It||(Ci(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&o_(a,i,l)),Zi(t,i,a);break;case 21:Zi(t,i,a);break;case 22:It=(l=It)||a.memoizedState!==null,Zi(t,i,a),It=l;break;default:Zi(t,i,a)}}function p_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{$a(t)}catch(a){$e(i,i.return,a)}}}function g_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{$a(t)}catch(a){$e(i,i.return,a)}}function h1(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new h_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new h_),i;default:throw Error(s(435,t.tag))}}function vc(t,i){var a=h1(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=E1.bind(null,t,l);l.then(h,h)}})}function un(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Fr(S.type)){ut=S.stateNode,ln=!1;break e}break;case 5:ut=S.stateNode,ln=!1;break e;case 3:case 4:ut=S.stateNode.containerInfo,ln=!0;break e}S=S.return}if(ut===null)throw Error(s(160));m_(d,_,h),ut=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)y_(i,t),i=i.sibling}var ei=null;function y_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(i,t),cn(t),l&4&&(kr(3,t,t.return),ml(3,t),kr(5,t,t.return));break;case 1:un(i,t),cn(t),l&512&&(It||a===null||Ci(a,a.return)),l&64&&Ji&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ei;if(un(i,t),cn(t),l&512&&(It||a===null||Ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[di]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,a),d[St]=t,At(d),l=d;break e;case"link":var _=yv("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=yv("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=t,At(d),l=d}t.stateNode=l}else _v(h,t.type,t.stateNode);else t.stateNode=gv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?_v(h,t.type,t.stateNode):gv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(i,t),cn(t),l&512&&(It||a===null||Ci(a,a.return)),a!==null&&l&4&&Ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(i,t),cn(t),l&512&&(It||a===null||Ci(a,a.return)),t.flags&32){h=t.stateNode;try{on(h,"")}catch(he){$e(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ad(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Rd=!0);break;case 6:if(un(i,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){$e(t,t.return,he)}}break;case 3:if(Pc=null,h=ei,ei=Vc(i.containerInfo),un(i,t),ei=h,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{$a(i.containerInfo)}catch(he){$e(t,t.return,he)}Rd&&(Rd=!1,__(t));break;case 4:l=ei,ei=Vc(t.stateNode.containerInfo),un(i,t),cn(t),ei=l;break;case 12:un(i,t),cn(t);break;case 31:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vc(t,l)));break;case 13:un(i,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Tc=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vc(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,z=Ji,X=It;if(Ji=z||h,It=X||D,un(i,t),It=X,Ji=z,cn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||D||Ji||It||Ys(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=D.stateNode;var ee=D.memoizedProps.style,B=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(he){$e(D,D.return,he)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(he){$e(D,D.return,he)}}}else if(i.tag===18){if(a===null){D=i;try{var F=D.stateNode;h?ov(F,!0):ov(D.stateNode,!1)}catch(he){$e(D,D.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,vc(t,a))));break;case 19:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vc(t,l)));break;case 30:break;case 21:break;default:un(i,t),cn(t)}}function cn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(u_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=bd(t);_c(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(on(_,""),a.flags&=-33);var S=bd(t);_c(t,S,_);break;case 3:case 4:var D=a.stateNode.containerInfo,z=bd(t);wd(t,z,D);break;default:throw Error(s(161))}}catch(X){$e(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function __(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;__(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Wi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)f_(t,i.alternate,i),i=i.sibling}function Ys(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:kr(4,i,i.return),Ys(i);break;case 1:Ci(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&o_(i,i.return,a),Ys(i);break;case 27:bl(i.stateNode);case 26:case 5:Ci(i,i.return),Ys(i);break;case 22:i.memoizedState===null&&Ys(i);break;case 30:Ys(i);break;default:Ys(i)}t=t.sibling}}function er(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:er(h,d,a),ml(4,d);break;case 1:if(er(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$e(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Xg(D[h],S)}catch(z){$e(l,l.return,z)}}a&&_&64&&a_(d),pl(d,d.return);break;case 27:c_(d);case 26:case 5:er(h,d,a),a&&l===null&&_&4&&l_(d),pl(d,d.return);break;case 12:er(h,d,a);break;case 31:er(h,d,a),a&&_&4&&p_(h,d);break;case 13:er(h,d,a),a&&_&4&&g_(h,d);break;case 22:d.memoizedState===null&&er(h,d,a),pl(d,d.return);break;case 30:break;default:er(h,d,a)}i=i.sibling}}function Cd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&tl(a))}function Id(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&tl(t))}function ti(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)v_(t,i,a,l),i=i.sibling}function v_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ti(t,i,a,l),h&2048&&ml(9,i);break;case 1:ti(t,i,a,l);break;case 3:ti(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&tl(t)));break;case 12:if(h&2048){ti(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){$e(i,i.return,D)}}else ti(t,i,a,l);break;case 31:ti(t,i,a,l);break;case 13:ti(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ti(t,i,a,l):gl(t,i):d._visibility&2?ti(t,i,a,l):(d._visibility|=2,za(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Cd(_,i);break;case 24:ti(t,i,a,l),h&2048&&Id(i.alternate,i);break;default:ti(t,i,a,l)}}function za(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,D=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:za(d,_,S,D,h),ml(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?za(d,_,S,D,h):gl(d,_):(X._visibility|=2,za(d,_,S,D,h)),h&&z&2048&&Cd(_.alternate,_);break;case 24:za(d,_,S,D,h),h&&z&2048&&Id(_.alternate,_);break;default:za(d,_,S,D,h)}i=i.sibling}}function gl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:gl(a,l),h&2048&&Cd(l.alternate,l);break;case 24:gl(a,l),h&2048&&Id(l.alternate,l);break;default:gl(a,l)}i=i.sibling}}var yl=8192;function ja(t,i,a){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)E_(t,i,a),t=t.sibling}function E_(t,i,a){switch(t.tag){case 26:ja(t,i,a),t.flags&yl&&t.memoizedState!==null&&J1(a,ei,t.memoizedState,t.memoizedProps);break;case 5:ja(t,i,a);break;case 3:case 4:var l=ei;ei=Vc(t.stateNode.containerInfo),ja(t,i,a),ei=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=yl,yl=16777216,ja(t,i,a),yl=l):ja(t,i,a));break;default:ja(t,i,a)}}function T_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function _l(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];kt=l,A_(l,t)}T_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)S_(t),t=t.sibling}function S_(t){switch(t.tag){case 0:case 11:case 15:_l(t),t.flags&2048&&kr(9,t,t.return);break;case 3:_l(t);break;case 12:_l(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ec(t)):_l(t);break;default:_l(t)}}function Ec(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];kt=l,A_(l,t)}T_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:kr(8,i,i.return),Ec(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ec(i));break;default:Ec(i)}t=t.sibling}}function A_(t,i){for(;kt!==null;){var a=kt;switch(a.tag){case 0:case 11:case 15:kr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,kt=l;else e:for(a=t;kt!==null;){l=kt;var h=l.sibling,d=l.return;if(d_(l),l===a){kt=null;break e}if(h!==null){h.return=d,kt=h;break e}kt=d}}}var f1={getCacheForType:function(t){var i=Ht(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(wt).controller.signal}},d1=typeof WeakMap=="function"?WeakMap:Map,Qe=0,nt=null,Oe=null,Ve=0,Xe=0,An=null,Ur=!1,Ba=!1,Dd=!1,tr=0,dt=0,zr=0,Xs=0,Nd=0,bn=0,qa=0,vl=null,hn=null,Od=!1,Tc=0,b_=0,Sc=1/0,Ac=null,jr=null,Vt=0,Br=null,Ha=null,nr=0,Md=0,Vd=null,w_=null,El=0,xd=null;function wn(){return(Qe&2)!==0&&Ve!==0?Ve&-Ve:K.T!==null?jd():bu()}function R_(){if(bn===0)if((Ve&536870912)===0||ze){var t=Ss;Ss<<=1,(Ss&3932160)===0&&(Ss=262144),bn=t}else bn=536870912;return t=Tn.current,t!==null&&(t.flags|=32),bn}function fn(t,i,a){(t===nt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Fa(t,0),qr(t,Ve,bn,!1)),As(t,a),((Qe&2)===0||t!==nt)&&(t===nt&&((Qe&2)===0&&(Xs|=a),dt===4&&qr(t,Ve,bn,!1)),Ii(t))}function C_(t,i,a){if((Qe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Gn(t,i),h=l?g1(t,i):Ld(t,i,!0),d=l;do{if(h===0){Ba&&!l&&qr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!m1(a)){h=Ld(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=vl;var D=S.current.memoizedState.isDehydrated;if(D&&(Fa(S,_).flags|=256),_=Ld(S,_,!1),_!==2){if(Dd&&!D){S.errorRecoveryDisabledLanes|=d,Xs|=d,h=4;break e}d=hn,hn=h,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Fa(t,0),qr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:qr(l,i,bn,!Ur);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Tc+300-nn(),10<h)){if(qr(l,i,bn,!Ur),ci(l,0,!0)!==0)break e;nr=i,l.timeoutHandle=rv(I_.bind(null,l,a,hn,Ac,Od,i,bn,Xs,qa,Ur,d,"Throttled",-0,0),h);break e}I_(l,a,hn,Ac,Od,i,bn,Xs,qa,Ur,d,null,-0,0)}}break}while(!0);Ii(t)}function I_(t,i,a,l,h,d,_,S,D,z,X,ee,B,F){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},E_(i,d,ee);var he=(d&62914560)===d?Tc-nn():(d&4194048)===d?b_-nn():0;if(he=Z1(ee,he),he!==null){nr=d,t.cancelPendingCommit=he(L_.bind(null,t,i,d,a,l,h,_,S,D,X,ee,null,B,F)),qr(t,d,_,!z);return}}L_(t,i,d,a,l,h,_,S,D)}function m1(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!vn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qr(t,i,a,l){i&=~Nd,i&=~Xs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-pt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&bs(t,a,i)}function bc(){return(Qe&6)===0?(Tl(0),!1):!0}function Pd(){if(Oe!==null){if(Xe===0)var t=Oe.return;else t=Oe,Gi=js=null,Jf(t),xa=null,il=0,t=Oe;for(;t!==null;)s_(t.alternate,t),t=t.return;Oe=null}}function Fa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,x1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),nr=0,Pd(),nt=t,Oe=a=Hi(t.current,null),Ve=i,Xe=0,An=null,Ur=!1,Ba=Gn(t,i),Dd=!1,qa=bn=Nd=Xs=zr=dt=0,hn=vl=null,Od=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-pt(l),d=1<<h;i|=t[h],l&=~d}return tr=i,Gu(),a}function D_(t,i){De=null,K.H=hl,i===Va||i===Wu?(i=Gg(),Xe=3):i===zf?(i=Gg(),Xe=4):Xe=i===dd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,Oe===null&&(dt=1,dc(t,xn(i,t.current)))}function N_(){var t=Tn.current;return t===null?!0:(Ve&4194048)===Ve?Un===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===Un:!1}function O_(){var t=K.H;return K.H=hl,t===null?hl:t}function M_(){var t=K.A;return K.A=f1,t}function wc(){dt=4,Ur||(Ve&4194048)!==Ve&&Tn.current!==null||(Ba=!0),(zr&134217727)===0&&(Xs&134217727)===0||nt===null||qr(nt,Ve,bn,!1)}function Ld(t,i,a){var l=Qe;Qe|=2;var h=O_(),d=M_();(nt!==t||Ve!==i)&&(Ac=null,Fa(t,i)),i=!1;var _=dt;e:do try{if(Xe!==0&&Oe!==null){var S=Oe,D=An;switch(Xe){case 8:Pd(),_=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(i=!0);var z=Xe;if(Xe=0,An=null,Ga(t,S,D,z),a&&Ba){_=0;break e}break;default:z=Xe,Xe=0,An=null,Ga(t,S,D,z)}}p1(),_=dt;break}catch(X){D_(t,X)}while(!0);return i&&t.shellSuspendCounter++,Gi=js=null,Qe=l,K.H=h,K.A=d,Oe===null&&(nt=null,Ve=0,Gu()),_}function p1(){for(;Oe!==null;)V_(Oe)}function g1(t,i){var a=Qe;Qe|=2;var l=O_(),h=M_();nt!==t||Ve!==i?(Ac=null,Sc=nn()+500,Fa(t,i)):Ba=Gn(t,i);e:do try{if(Xe!==0&&Oe!==null){i=Oe;var d=An;t:switch(Xe){case 1:Xe=0,An=null,Ga(t,i,d,1);break;case 2:case 9:if(Hg(d)){Xe=0,An=null,x_(i);break}i=function(){Xe!==2&&Xe!==9||nt!==t||(Xe=7),Ii(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Hg(d)?(Xe=0,An=null,x_(i)):(Xe=0,An=null,Ga(t,i,d,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var S=Oe;if(_?vv(_):S.stateNode.complete){Xe=0,An=null;var D=S.sibling;if(D!==null)Oe=D;else{var z=S.return;z!==null?(Oe=z,Rc(z)):Oe=null}break t}}Xe=0,An=null,Ga(t,i,d,5);break;case 6:Xe=0,An=null,Ga(t,i,d,6);break;case 8:Pd(),dt=6;break e;default:throw Error(s(462))}}y1();break}catch(X){D_(t,X)}while(!0);return Gi=js=null,K.H=l,K.A=h,Qe=a,Oe!==null?0:(nt=null,Ve=0,Gu(),dt)}function y1(){for(;Oe!==null&&!ff();)V_(Oe)}function V_(t){var i=i_(t.alternate,t,tr);t.memoizedProps=t.pendingProps,i===null?Rc(t):Oe=i}function x_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Jy(a,i,i.pendingProps,i.type,void 0,Ve);break;case 11:i=Jy(a,i,i.pendingProps,i.type.render,i.ref,Ve);break;case 5:Jf(i);default:s_(a,i),i=Oe=Mg(i,tr),i=i_(a,i,tr)}t.memoizedProps=t.pendingProps,i===null?Rc(t):Oe=i}function Ga(t,i,a,l){Gi=js=null,Jf(i),xa=null,il=0;var h=i.return;try{if(s1(t,h,i,a,Ve)){dt=1,dc(t,xn(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;dt=1,dc(t,xn(a,t.current)),Oe=null;return}i.flags&32768?(ze||l===1?t=!0:Ba||(Ve&536870912)!==0?t=!1:(Ur=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),P_(i,t)):Rc(i)}function Rc(t){var i=t;do{if((i.flags&32768)!==0){P_(i,Ur);return}t=i.return;var a=l1(i.alternate,i,tr);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);dt===0&&(dt=5)}function P_(t,i){do{var a=u1(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);dt=6,Oe=null}function L_(t,i,a,l,h,d,_,S,D){t.cancelPendingCommit=null;do Cc();while(Vt!==0);if((Qe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=bf,pf(t,a,d,_,S,D),t===nt&&(Oe=nt=null,Ve=0),Ha=i,Br=t,nr=a,Md=d,Vd=h,w_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,T1(_r,function(){return B_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=oe.p,oe.p=2,_=Qe,Qe|=4;try{c1(t,i,a)}finally{Qe=_,oe.p=h,K.T=l}}Vt=1,k_(),U_(),z_()}}function k_(){if(Vt===1){Vt=0;var t=Br,i=Ha,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=oe.p;oe.p=2;var h=Qe;Qe|=4;try{y_(i,t);var d=Yd,_=Ag(t.containerInfo),S=d.focusedElem,D=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Sg(S.ownerDocument.documentElement,S)){if(D!==null&&vf(S)){var z=D.start,X=D.end;if(X===void 0&&(X=z),"selectionStart"in S)S.selectionStart=z,S.selectionEnd=Math.min(X,S.value.length);else{var ee=S.ownerDocument||document,B=ee&&ee.defaultView||window;if(B.getSelection){var F=B.getSelection(),he=S.textContent.length,ve=Math.min(D.start,he),tt=D.end===void 0?ve:Math.min(D.end,he);!F.extend&&ve>tt&&(_=tt,tt=ve,ve=_);var P=Tg(S,ve),M=Tg(S,tt);if(P&&M&&(F.rangeCount!==1||F.anchorNode!==P.node||F.anchorOffset!==P.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var U=ee.createRange();U.setStart(P.node,P.offset),F.removeAllRanges(),ve>tt?(F.addRange(U),F.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),F.addRange(U))}}}}for(ee=[],F=S;F=F.parentNode;)F.nodeType===1&&ee.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var $=ee[S];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}zc=!!Kd,Yd=Kd=null}finally{Qe=h,oe.p=l,K.T=a}}t.current=i,Vt=2}}function U_(){if(Vt===2){Vt=0;var t=Br,i=Ha,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=oe.p;oe.p=2;var h=Qe;Qe|=4;try{f_(t,i.alternate,i)}finally{Qe=h,oe.p=l,K.T=a}}Vt=3}}function z_(){if(Vt===4||Vt===3){Vt=0,yu();var t=Br,i=Ha,a=nr,l=w_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,Ha=Br=null,j_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(jr=null),zi(a),i=i.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Fn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=oe.p,oe.p=2,K.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{K.T=i,oe.p=h}}(nr&3)!==0&&Cc(),Ii(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===xd?El++:(El=0,xd=t):El=0,Tl(0)}}function j_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,tl(i)))}function Cc(){return k_(),U_(),z_(),B_()}function B_(){if(Vt!==5)return!1;var t=Br,i=Md;Md=0;var a=zi(nr),l=K.T,h=oe.p;try{oe.p=32>a?32:a,K.T=null,a=Vd,Vd=null;var d=Br,_=nr;if(Vt=0,Ha=Br=null,nr=0,(Qe&6)!==0)throw Error(s(331));var S=Qe;if(Qe|=4,S_(d.current),v_(d,d.current,_,a),Qe=S,Tl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Fn,d)}catch{}return!0}finally{oe.p=h,K.T=l,j_(t,i)}}function q_(t,i,a){i=xn(a,i),i=fd(t.stateNode,i,2),t=xr(t,i,2),t!==null&&(As(t,2),Ii(t))}function $e(t,i,a){if(t.tag===3)q_(t,t,a);else for(;i!==null;){if(i.tag===3){q_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(jr===null||!jr.has(l))){t=xn(a,t),a=Hy(2),l=xr(i,a,2),l!==null&&(Fy(a,l,i,t),As(l,2),Ii(l));break}}i=i.return}}function kd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new d1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Dd=!0,h.add(a),t=_1.bind(null,t,i,a),i.then(t,t))}function _1(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Ve&a)===a&&(dt===4||dt===3&&(Ve&62914560)===Ve&&300>nn()-Tc?(Qe&2)===0&&Fa(t,0):Nd|=a,qa===Ve&&(qa=0)),Ii(t)}function H_(t,i){i===0&&(i=Au()),t=ks(t,i),t!==null&&(As(t,i),Ii(t))}function v1(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),H_(t,a)}function E1(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),H_(t,a)}function T1(t,i){return Mt(t,i)}var Ic=null,Qa=null,Ud=!1,Dc=!1,zd=!1,Hr=0;function Ii(t){t!==Qa&&t.next===null&&(Qa===null?Ic=Qa=t:Qa=Qa.next=t),Dc=!0,Ud||(Ud=!0,A1())}function Tl(t,i){if(!zd&&Dc){zd=!0;do for(var a=!1,l=Ic;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,K_(l,d))}else d=Ve,d=ci(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Gn(l,d)||(a=!0,K_(l,d));l=l.next}while(a);zd=!1}}function S1(){F_()}function F_(){Dc=Ud=!1;var t=0;Hr!==0&&V1()&&(t=Hr);for(var i=nn(),a=null,l=Ic;l!==null;){var h=l.next,d=G_(l,i);d===0?(l.next=null,a===null?Ic=h:a.next=h,h===null&&(Qa=a)):(a=l,(t!==0||(d&3)!==0)&&(Dc=!0)),l=h}Vt!==0&&Vt!==5||Tl(t),Hr!==0&&(Hr=0)}function G_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-pt(d),S=1<<_,D=h[_];D===-1?((S&a)===0||(S&l)!==0)&&(h[_]=mf(S,i)):D<=i&&(t.expiredLanes|=S),d&=~S}if(i=nt,a=Ve,a=ci(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&yr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Gn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&yr(l),zi(a)){case 2:case 8:a=Oo;break;case 32:a=_r;break;case 268435456:a=_u;break;default:a=_r}return l=Q_.bind(null,t),a=Mt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&yr(l),t.callbackPriority=2,t.callbackNode=null,2}function Q_(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Cc()&&t.callbackNode!==a)return null;var l=Ve;return l=ci(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(C_(t,l,i),G_(t,nn()),t.callbackNode!=null&&t.callbackNode===a?Q_.bind(null,t):null)}function K_(t,i){if(Cc())return null;C_(t,i,!0)}function A1(){P1(function(){(Qe&6)!==0?Mt(No,S1):F_()})}function jd(){if(Hr===0){var t=Oa;t===0&&(t=li,li<<=1,(li&261888)===0&&(li=256)),Hr=t}return Hr}function Y_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ga(""+t)}function X_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function b1(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Y_((h[Pt]||null).action),_=l.submitter;_&&(i=(i=_[Pt]||null)?Y_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new Ti("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hr!==0){var D=_?X_(h,_):new FormData(h);ad(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(S.preventDefault(),D=_?X_(h,_):new FormData(h),ad(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Bd=0;Bd<Af.length;Bd++){var qd=Af[Bd],w1=qd.toLowerCase(),R1=qd[0].toUpperCase()+qd.slice(1);Wn(w1,"on"+R1)}Wn(Rg,"onAnimationEnd"),Wn(Cg,"onAnimationIteration"),Wn(Ig,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(qA,"onTransitionRun"),Wn(HA,"onTransitionStart"),Wn(FA,"onTransitionCancel"),Wn(Dg,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function $_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],D=S.instance,z=S.currentTarget;if(S=S.listener,D!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=z;try{d(h)}catch(X){Fu(X)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(S=l[_],D=S.instance,z=S.currentTarget,S=S.listener,D!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=z;try{d(h)}catch(X){Fu(X)}h.currentTarget=null,d=D}}}}function Me(t,i){var a=i[ha];a===void 0&&(a=i[ha]=new Set);var l=t+"__bubble";a.has(l)||(J_(i,t,2,!1),a.add(l))}function Hd(t,i,a){var l=0;i&&(l|=4),J_(a,t,l,i)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function Fd(t){if(!t[Nc]){t[Nc]=!0,xo.forEach(function(a){a!=="selectionchange"&&(C1.has(a)||Hd(a,!1,t),Hd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Nc]||(i[Nc]=!0,Hd("selectionchange",!1,i))}}function J_(t,i,a,l){switch(Rv(i)){case 2:var h=tb;break;case 8:h=nb;break;default:h=sm}a=h.bind(null,i,a,t),h=void 0,!Ds||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Gd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=mi(S),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}S=S.parentNode}}l=l.return}br(function(){var z=d,X=Nn(a),ee=[];e:{var B=Ng.get(t);if(B!==void 0){var F=Ti,he=t;switch(t){case"keypress":if(Os(a)===0)break e;case"keydown":case"keyup":F=Bu;break;case"focusin":he="focus",F=Vs;break;case"focusout":he="blur",F=Vs;break;case"beforeblur":case"afterblur":F=Vs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=g;break;case Rg:case Cg:case Ig:F=xu;break;case Dg:F=A;break;case"scroll":case"scrollend":F=Qo;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=qi;break;case"toggle":case"beforetoggle":F=Ie}var ve=(i&4)!==0,tt=!ve&&(t==="scroll"||t==="scrollend"),P=ve?B!==null?B+"Capture":null:B;ve=[];for(var M=z,U;M!==null;){var $=M;if(U=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||U===null||P===null||($=Xn(M,P),$!=null&&ve.push(Al(M,$,U))),tt)break;M=M.return}0<ve.length&&(B=new F(B,he,null,a,X),ee.push({event:B,listeners:ve}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",B&&a!==Ho&&(he=a.relatedTarget||a.fromElement)&&(mi(he)||he[fi]))break e;if((F||B)&&(B=X.window===X?X:(B=X.ownerDocument)?B.defaultView||B.parentWindow:window,F?(he=a.relatedTarget||a.toElement,F=z,he=he?mi(he):null,he!==null&&(tt=u(he),ve=he.tag,he!==tt||ve!==5&&ve!==27&&ve!==6)&&(he=null)):(F=null,he=z),F!==he)){if(ve=Ko,$="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ve=qi,$="onPointerLeave",P="onPointerEnter",M="pointer"),tt=F==null?B:yn(F),U=he==null?B:yn(he),B=new ve($,M+"leave",F,a,X),B.target=tt,B.relatedTarget=U,$=null,mi(X)===z&&(ve=new ve(P,M+"enter",he,a,X),ve.target=U,ve.relatedTarget=tt,$=ve),tt=$,F&&he)t:{for(ve=I1,P=F,M=he,U=0,$=P;$;$=ve($))U++;$=0;for(var pe=M;pe;pe=ve(pe))$++;for(;0<U-$;)P=ve(P),U--;for(;0<$-U;)M=ve(M),$--;for(;U--;){if(P===M||M!==null&&P===M.alternate){ve=P;break t}P=ve(P),M=ve(M)}ve=null}else ve=null;F!==null&&Z_(ee,B,F,ve,!1),he!==null&&tt!==null&&Z_(ee,tt,he,ve,!0)}}e:{if(B=z?yn(z):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var He=pg;else if(dg(B))if(gg)He=zA;else{He=kA;var de=LA}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&pa(z.elementType)&&(He=pg):He=UA;if(He&&(He=He(t,z))){mg(ee,He,a,X);break e}de&&de(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&jo(B,"number",B.value)}switch(de=z?yn(z):window,t){case"focusin":(dg(de)||de.contentEditable==="true")&&(Aa=de,Ef=z,Zo=null);break;case"focusout":Zo=Ef=Aa=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,bg(ee,a,X);break;case"selectionchange":if(BA)break;case"keydown":case"keyup":bg(ee,a,X)}var Ne;if(Ge)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Sa?xs(t,a)&&(xe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(bi&&a.locale!=="ko"&&(Sa||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Sa&&(Ne=Go()):(Ei=X,Fo="value"in Ei?Ei.value:Ei.textContent,Sa=!0)),de=Oc(z,xe),0<de.length&&(xe=new Ai(xe,t,null,a,X),ee.push({event:xe,listeners:de}),Ne?xe.data=Ne:(Ne=Ta(a),Ne!==null&&(xe.data=Ne)))),(Ne=Mn?MA(t,a):VA(t,a))&&(xe=Oc(z,"onBeforeInput"),0<xe.length&&(de=new Ai("onBeforeInput","beforeinput",null,a,X),ee.push({event:de,listeners:xe}),de.data=Ne)),b1(ee,t,z,a,X)}$_(ee,i)})}function Al(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Oc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Xn(t,a),h!=null&&l.unshift(Al(t,h,d)),h=Xn(t,i),h!=null&&l.push(Al(t,h,d))),t.tag===3)return l;t=t.return}return[]}function I1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Z_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,D=S.alternate,z=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||z===null||(D=z,h?(z=Xn(a,d),z!=null&&_.unshift(Al(a,z,D))):h||(z=Xn(a,d),z!=null&&_.push(Al(a,z,D)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var D1=/\r\n?/g,N1=/\u0000|\uFFFD/g;function W_(t){return(typeof t=="string"?t:""+t).replace(D1,`
`).replace(N1,"")}function ev(t,i){return i=W_(i),W_(t)===i}function et(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||on(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&on(t,""+l);break;case"className":_n(t,"class",l);break;case"tabIndex":_n(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(t,a,l);break;case"style":qo(t,l,d);break;case"data":if(i!=="object"){_n(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ga(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&et(t,i,"name",h.name,h,null),et(t,i,"formEncType",h.formEncType,h,null),et(t,i,"formMethod",h.formMethod,h,null),et(t,i,"formTarget",h.formTarget,h,null)):(et(t,i,"encType",h.encType,h,null),et(t,i,"method",h.method,h,null),et(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ga(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ga(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),da(t,"popover",l);break;case"xlinkActuate":bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":da(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ou.get(a)||a,da(t,a,l))}}function Qd(t,i,a,l,h,d){switch(a){case"style":qo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?on(t,l):(typeof l=="number"||typeof l=="bigint")&&on(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Po.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):da(t,a,l)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,d,_,a,null)}}h&&et(t,i,"srcSet",a.srcSet,a,null),l&&et(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var S=d=_=h=null,D=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":D=X;break;case"defaultChecked":z=X;break;case"value":d=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:et(t,i,l,X,a,null)}}Iu(t,d,S,D,z,_,h,!1);return;case"select":Me("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:et(t,i,h,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Er(t,!!l,i,!1):a!=null&&Er(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:et(t,i,_,S,a,null)}Tr(t,l,h,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(t,i,D,l,a,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<Sl.length;l++)Me(Sl[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,z,l,a,null)}return;default:if(pa(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Qd(t,i,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&et(t,i,S,l,a,null))}function O1(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,D=null,z=null,X=null;for(F in a){var ee=a[F];if(a.hasOwnProperty(F)&&ee!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":D=ee;default:l.hasOwnProperty(F)||et(t,i,F,null,l,ee)}}for(var B in l){var F=l[B];if(ee=a[B],l.hasOwnProperty(B)&&(F!=null||ee!=null))switch(B){case"type":d=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":X=F;break;case"value":_=F;break;case"defaultValue":S=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==ee&&et(t,i,B,F,l,ee)}}ma(t,_,S,D,z,X,d,h);return;case"select":F=_=S=B=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":F=D;default:l.hasOwnProperty(d)||et(t,i,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":B=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==D&&et(t,i,h,d,l,D)}i=S,a=_,l=F,B!=null?Er(t,!!a,B,!1):!!l!=!!a&&(i!=null?Er(t,!!a,i,!0):Er(t,!!a,a?[]:"",!1));return;case"textarea":F=B=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:et(t,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&et(t,i,_,h,l,d)}Du(t,B,F);return;case"option":for(var he in a)if(B=a[he],a.hasOwnProperty(he)&&B!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:et(t,i,he,null,l,B)}for(D in l)if(B=l[D],F=a[D],l.hasOwnProperty(D)&&B!==F&&(B!=null||F!=null))switch(D){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:et(t,i,D,B,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)B=a[ve],a.hasOwnProperty(ve)&&B!=null&&!l.hasOwnProperty(ve)&&et(t,i,ve,null,l,B);for(z in l)if(B=l[z],F=a[z],l.hasOwnProperty(z)&&B!==F&&(B!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:et(t,i,z,B,l,F)}return;default:if(pa(i)){for(var tt in a)B=a[tt],a.hasOwnProperty(tt)&&B!==void 0&&!l.hasOwnProperty(tt)&&Qd(t,i,tt,void 0,l,B);for(X in l)B=l[X],F=a[X],!l.hasOwnProperty(X)||B===F||B===void 0&&F===void 0||Qd(t,i,X,B,l,F);return}}for(var P in a)B=a[P],a.hasOwnProperty(P)&&B!=null&&!l.hasOwnProperty(P)&&et(t,i,P,null,l,B);for(ee in l)B=l[ee],F=a[ee],!l.hasOwnProperty(ee)||B===F||B==null&&F==null||et(t,i,ee,B,l,F)}function tv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function M1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&tv(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var D=a[l],z=D.startTime;if(z>S)break;var X=D.transferSize,ee=D.initiatorType;X&&tv(ee)&&(D=D.responseEnd,_+=X*(D<S?1:(S-z)/(D-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Kd=null,Yd=null;function Mc(t){return t.nodeType===9?t:t.ownerDocument}function nv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Xd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var $d=null;function V1(){var t=window.event;return t&&t.type==="popstate"?t===$d?!1:($d=t,!0):($d=null,!1)}var rv=typeof setTimeout=="function"?setTimeout:void 0,x1=typeof clearTimeout=="function"?clearTimeout:void 0,sv=typeof Promise=="function"?Promise:void 0,P1=typeof queueMicrotask=="function"?queueMicrotask:typeof sv<"u"?function(t){return sv.resolve(null).then(t).catch(L1)}:rv;function L1(t){setTimeout(function(){throw t})}function Fr(t){return t==="head"}function av(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),$a(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")bl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,bl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[di]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&bl(t.ownerDocument.body);a=h}while(a);$a(i)}function ov(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Jd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jd(a),fa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function k1(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[di])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function U1(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function lv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=zn(t.nextSibling),t===null))return null;return t}function Zd(t){return t.data==="$?"||t.data==="$~"}function Wd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function z1(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var em=null;function uv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return zn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function cv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function hv(t,i,a){switch(i=Mc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function bl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);fa(t)}var jn=new Map,fv=new Set;function Vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ir=oe.d;oe.d={f:j1,r:B1,D:q1,C:H1,L:F1,m:G1,X:K1,S:Q1,M:Y1};function j1(){var t=ir.f(),i=bc();return t||i}function B1(t){var i=Dn(t);i!==null&&i.tag===5&&i.type==="form"?Dy(i):ir.r(t)}var Ka=typeof document>"u"?null:document;function dv(t,i,a){var l=Ka;if(l&&typeof i=="string"&&i){var h=an(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),fv.has(h)||(fv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Gt(i,"link",t),At(i),l.head.appendChild(i)))}}function q1(t){ir.D(t),dv("dns-prefetch",t,null)}function H1(t,i){ir.C(t,i),dv("preconnect",t,i)}function F1(t,i,a){ir.L(t,i,a);var l=Ka;if(l&&t&&i){var h='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var d=h;switch(i){case"style":d=Ya(t);break;case"script":d=Xa(t)}jn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),jn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(wl(d))||i==="script"&&l.querySelector(Rl(d))||(i=l.createElement("link"),Gt(i,"link",t),At(i),l.head.appendChild(i)))}}function G1(t,i){ir.m(t,i);var a=Ka;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Xa(t)}if(!jn.has(d)&&(t=T({rel:"modulepreload",href:t},i),jn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rl(d)))return}l=a.createElement("link"),Gt(l,"link",t),At(l),a.head.appendChild(l)}}}function Q1(t,i,a){ir.S(t,i,a);var l=Ka;if(l&&t){var h=pi(l).hoistableStyles,d=Ya(t);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(wl(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=jn.get(d))&&tm(t,a);var D=_=l.createElement("link");At(D),Gt(D,"link",t),D._p=new Promise(function(z,X){D.onload=z,D.onerror=X}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,xc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function K1(t,i){ir.X(t,i);var a=Ka;if(a&&t){var l=pi(a).hoistableScripts,h=Xa(t),d=l.get(h);d||(d=a.querySelector(Rl(h)),d||(t=T({src:t,async:!0},i),(i=jn.get(h))&&nm(t,i),d=a.createElement("script"),At(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Y1(t,i){ir.M(t,i);var a=Ka;if(a&&t){var l=pi(a).hoistableScripts,h=Xa(t),d=l.get(h);d||(d=a.querySelector(Rl(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=jn.get(h))&&nm(t,i),d=a.createElement("script"),At(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function mv(t,i,a,l){var h=(h=fe.current)?Vc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ya(a.href),a=pi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ya(a.href);var d=pi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(wl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(t,a),d||X1(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Xa(a),a=pi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ya(t){return'href="'+an(t)+'"'}function wl(t){return'link[rel="stylesheet"]['+t+"]"}function pv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function X1(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),At(i),t.head.appendChild(i))}function Xa(t){return'[src="'+an(t)+'"]'}function Rl(t){return"script[async]"+t}function gv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(l)return i.instance=l,At(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),Gt(l,"style",h),xc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ya(a.href);var d=t.querySelector(wl(h));if(d)return i.state.loading|=4,i.instance=d,At(d),d;l=pv(a),(h=jn.get(h))&&tm(l,h),d=(t.ownerDocument||t).createElement("link"),At(d);var _=d;return _._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),Gt(d,"link",l),i.state.loading|=4,xc(d,a.precedence,t),i.instance=d;case"script":return d=Xa(a.src),(h=t.querySelector(Rl(d)))?(i.instance=h,At(h),h):(l=a,(h=jn.get(d))&&(l=T({},a),nm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),At(h),Gt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,xc(l,a.precedence,t));return i.instance}function xc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function tm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function nm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Pc=null;function yv(t,i,a){if(Pc===null){var l=new Map,h=Pc=new Map;h.set(a,l)}else h=Pc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[di]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function _v(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function $1(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function vv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function J1(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ya(l.href),d=i.querySelector(wl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Lc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,At(d);return}d=i.ownerDocument||i,l=pv(l),(h=jn.get(h))&&tm(l,h),d=d.createElement("link"),At(d);var _=d;_._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Lc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var im=0;function Z1(t,i){return t.stylesheets&&t.count===0&&Uc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Uc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&im===0&&(im=62500*M1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Uc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>im?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Lc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var kc=null;function Uc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,kc=new Map,i.forEach(W1,t),kc=null,Lc.call(t))}function W1(t,i){if(!(i.state.loading&4)){var a=kc.get(t);if(a)var l=a.get(null);else{a=new Map,kc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Lc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Cl={$$typeof:se,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function eb(t,i,a,l,h,d,_,S,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Ev(t,i,a,l,h,d,_,S,D,z,X,ee){return t=new eb(t,i,a,_,D,z,X,ee,S),i=1,d===!0&&(i|=24),d=En(3,null,null,i),t.current=d,d.stateNode=t,i=Lf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},jf(d),t}function Tv(t){return t?(t=Ra,t):Ra}function Sv(t,i,a,l,h,d){h=Tv(h),l.context===null?l.context=h:l.pendingContext=h,l=Vr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=xr(t,l,i),a!==null&&(fn(a,t,i),sl(a,t,i))}function Av(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function rm(t,i){Av(t,i),(t=t.alternate)&&Av(t,i)}function bv(t){if(t.tag===13||t.tag===31){var i=ks(t,67108864);i!==null&&fn(i,t,67108864),rm(t,67108864)}}function wv(t){if(t.tag===13||t.tag===31){var i=wn();i=ws(i);var a=ks(t,i);a!==null&&fn(a,t,i),rm(t,i)}}var zc=!0;function tb(t,i,a,l){var h=K.T;K.T=null;var d=oe.p;try{oe.p=2,sm(t,i,a,l)}finally{oe.p=d,K.T=h}}function nb(t,i,a,l){var h=K.T;K.T=null;var d=oe.p;try{oe.p=8,sm(t,i,a,l)}finally{oe.p=d,K.T=h}}function sm(t,i,a,l){if(zc){var h=am(l);if(h===null)Gd(t,i,l,jc,a),Cv(t,l);else if(rb(h,t,i,a,l))l.stopPropagation();else if(Cv(t,l),i&4&&-1<ib.indexOf(t)){for(;h!==null;){var d=Dn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ui(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var D=1<<31-pt(_);S.entanglements[1]|=D,_&=~D}Ii(d),(Qe&6)===0&&(Sc=nn()+500,Tl(0))}}break;case 31:case 13:S=ks(d,2),S!==null&&fn(S,d,2),bc(),rm(d,2)}if(d=am(l),d===null&&Gd(t,i,l,jc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Gd(t,i,l,null,a)}}function am(t){return t=Nn(t),om(t)}var jc=null;function om(t){if(jc=null,t=mi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return jc=t,null}function Rv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ts()){case No:return 2;case Oo:return 8;case _r:case df:return 32;case _u:return 268435456;default:return 32}default:return 32}}var lm=!1,Gr=null,Qr=null,Kr=null,Il=new Map,Dl=new Map,Yr=[],ib="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cv(t,i){switch(t){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Il.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(i.pointerId)}}function Nl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Dn(i),i!==null&&bv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function rb(t,i,a,l,h){switch(i){case"focusin":return Gr=Nl(Gr,t,i,a,l,h),!0;case"dragenter":return Qr=Nl(Qr,t,i,a,l,h),!0;case"mouseover":return Kr=Nl(Kr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Il.set(d,Nl(Il.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Dl.set(d,Nl(Dl.get(d)||null,t,i,a,l,h)),!0}return!1}function Iv(t){var i=mi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Qn(t.priority,function(){wv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Qn(t.priority,function(){wv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=am(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ho=l,a.target.dispatchEvent(l),Ho=null}else return i=Dn(a),i!==null&&bv(i),t.blockedOn=a,!1;i.shift()}return!0}function Dv(t,i,a){Bc(t)&&a.delete(i)}function sb(){lm=!1,Gr!==null&&Bc(Gr)&&(Gr=null),Qr!==null&&Bc(Qr)&&(Qr=null),Kr!==null&&Bc(Kr)&&(Kr=null),Il.forEach(Dv),Dl.forEach(Dv)}function qc(t,i){t.blockedOn===i&&(t.blockedOn=null,lm||(lm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,sb)))}var Hc=null;function Nv(t){Hc!==t&&(Hc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hc===t&&(Hc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(om(l||a)===null)continue;break}var d=Dn(a);d!==null&&(t.splice(i,3),i-=3,ad(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function $a(t){function i(D){return qc(D,t)}Gr!==null&&qc(Gr,t),Qr!==null&&qc(Qr,t),Kr!==null&&qc(Kr,t),Il.forEach(i),Dl.forEach(i);for(var a=0;a<Yr.length;a++){var l=Yr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Yr.length&&(a=Yr[0],a.blockedOn===null);)Iv(a),a.blockedOn===null&&Yr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Pt]||null;if(typeof d=="function")_||Nv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Pt]||null)S=_.formAction;else if(om(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Nv(a)}}}function Ov(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function um(t){this._internalRoot=t}Fc.prototype.render=um.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=wn();Sv(a,l,t,i,null,null)},Fc.prototype.unmount=um.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Sv(t.current,2,null,t,null,null),bc(),i[fi]=null}};function Fc(t){this._internalRoot=t}Fc.prototype.unstable_scheduleHydration=function(t){if(t){var i=bu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Yr.length&&i!==0&&i<Yr[a].priority;a++);Yr.splice(a,0,t),a===0&&Iv(t)}};var Mv=e.version;if(Mv!=="19.2.2")throw Error(s(527,Mv,"19.2.2"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var ab={bundleType:0,version:"19.2.2",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.2"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{Fn=Gc.inject(ab),jt=Gc}catch{}}return Ml.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=zy,d=jy,_=By;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Ev(t,1,!1,null,null,a,l,null,h,d,_,Ov),t[fi]=i.current,Fd(t),new um(i)},Ml.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=zy,_=jy,S=By,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=Ev(t,1,!0,i,a??null,l,h,D,d,_,S,Ov),i.context=Tv(null),a=i.current,l=wn(),l=ws(l),h=Vr(l),h.callback=null,xr(a,h,l),a=l,i.current.lanes=a,As(i,a),Ii(i),t[fi]=i.current,Fd(t),new Fc(i)},Ml.version="19.2.2",Ml}var qv;function yb(){if(qv)return fm.exports;qv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),fm.exports=gb(),fm.exports}var _b=yb();var Hv="popstate";function vb(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Mm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Ql(o)}return Tb(e,n,null,r)}function ct(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Hn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Eb(){return Math.random().toString(36).substring(2,10)}function Fv(r,e){return{usr:r.state,key:r.key,idx:e}}function Mm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?po(e):e,state:n,key:e&&e.key||s||Eb()}}function Ql({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function po(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Tb(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let G=E(),ne=G==null?null:G-y;y=G,p&&p({action:m,location:Z.location,delta:ne})}function b(G,ne){m="PUSH";let ie=Mm(Z.location,G,ne);y=E()+1;let se=Fv(ie,y),_e=Z.createHref(ie);try{f.pushState(se,"",_e)}catch(Ae){if(Ae instanceof DOMException&&Ae.name==="DataCloneError")throw Ae;o.location.assign(_e)}u&&p&&p({action:m,location:Z.location,delta:1})}function L(G,ne){m="REPLACE";let ie=Mm(Z.location,G,ne);y=E();let se=Fv(ie,y),_e=Z.createHref(ie);f.replaceState(se,"",_e),u&&p&&p({action:m,location:Z.location,delta:0})}function Q(G){return Sb(G)}let Z={get action(){return m},get location(){return r(o,f)},listen(G){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Hv,T),p=G,()=>{o.removeEventListener(Hv,T),p=null}},createHref(G){return e(o,G)},createURL:Q,encodeLocation(G){let ne=Q(G);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:b,replace:L,go(G){return f.go(G)}};return Z}function Sb(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Ql(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function NT(r,e,n="/"){return Ab(r,e,n,!1)}function Ab(r,e,n,s){let o=typeof e=="string"?po(e):e,u=lr(o.pathname||"/",n);if(u==null)return null;let f=OT(r);bb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=Pb(u);m=Vb(f[p],y,s)}return m}function OT(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ct(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=ar([s,E.relativePath]),b=n.concat(E);f.children&&f.children.length>0&&(ct(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),OT(f.children,e,b,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:Ob(T,f.index),routesMeta:b})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of MT(f.path))u(f,m,!0,p)}),e}function MT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=MT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function bb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Mb(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var wb=/^:[\w-]+$/,Rb=3,Cb=2,Ib=1,Db=10,Nb=-2,Gv=r=>r==="*";function Ob(r,e){let n=r.split("/"),s=n.length;return n.some(Gv)&&(s+=Nb),e&&(s+=Cb),n.filter(o=>!Gv(o)).reduce((o,u)=>o+(wb.test(u)?Rb:u===""?Ib:Db),s)}function Mb(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Vb(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),b=p.route;if(!T&&y&&n&&!s[s.length-1].route.index&&(T=mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:ar([u,T.pathname]),pathnameBase:zb(ar([u,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(u=ar([u,T.pathnameBase]))}return f}function mh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=xb(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:T},b)=>{if(E==="*"){let Q=m[b]||"";f=u.slice(0,u.length-Q.length).replace(/(.)\/+$/,"$1")}const L=m[b];return T&&!L?y[E]=void 0:y[E]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function xb(r,e=!1,n=!0){Hn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Pb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function lr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var VT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lb=r=>VT.test(r);function kb(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?po(r):r,u;if(n)if(Lb(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Hn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=Qv(n.substring(1),"/"):u=Qv(n,e)}else u=e;return{pathname:u,search:jb(s),hash:Bb(o)}}function Qv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function gm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ub(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function op(r){let e=Ub(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function lp(r,e,n,s=!1){let o;typeof r=="string"?o=po(r):(o={...r},ct(!o.pathname||!o.pathname.includes("?"),gm("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),gm("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),gm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),T-=1;o.pathname=b.join("/")}m=T>=0?e[T]:"/"}let p=kb(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var ar=r=>r.join("/").replace(/\/\/+/g,"/"),zb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),jb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Bb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,qb=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Hb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Fb(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var xT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function PT(r,e){let n=r;if(typeof n!="string"||!VT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(xT)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=lr(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{Hn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var LT=["POST","PUT","PATCH","DELETE"];new Set(LT);var Gb=["GET",...LT];new Set(Gb);var go=j.createContext(null);go.displayName="DataRouter";var Uh=j.createContext(null);Uh.displayName="DataRouterState";var Qb=j.createContext(!1),kT=j.createContext({isTransitioning:!1});kT.displayName="ViewTransition";var Kb=j.createContext(new Map);Kb.displayName="Fetchers";var Yb=j.createContext(null);Yb.displayName="Await";var Cn=j.createContext(null);Cn.displayName="Navigation";var iu=j.createContext(null);iu.displayName="Location";var Ui=j.createContext({outlet:null,matches:[],isDataRoute:!1});Ui.displayName="Route";var up=j.createContext(null);up.displayName="RouteError";var UT="REACT_ROUTER_ERROR",Xb="REDIRECT",$b="ROUTE_ERROR_RESPONSE";function Jb(r){if(r.startsWith(`${UT}:${Xb}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Zb(r){if(r.startsWith(`${UT}:${$b}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new qb(e.status,e.statusText,e.data)}catch{}}function Wb(r,{relative:e}={}){ct(yo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(Cn),{hash:o,pathname:u,search:f}=ru(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ar([n,u])),s.createHref({pathname:m,search:f,hash:o})}function yo(){return j.useContext(iu)!=null}function mr(){return ct(yo(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(iu).location}var zT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jT(r){j.useContext(Cn).static||j.useLayoutEffect(r)}function zh(){let{isDataRoute:r}=j.useContext(Ui);return r?fw():ew()}function ew(){ct(yo(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(go),{basename:e,navigator:n}=j.useContext(Cn),{matches:s}=j.useContext(Ui),{pathname:o}=mr(),u=JSON.stringify(op(s)),f=j.useRef(!1);return jT(()=>{f.current=!0}),j.useCallback((p,y={})=>{if(Hn(f.current,zT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=lp(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ar([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}j.createContext(null);function ru(r,{relative:e}={}){let{matches:n}=j.useContext(Ui),{pathname:s}=mr(),o=JSON.stringify(op(n));return j.useMemo(()=>lp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function tw(r,e){return BT(r,e)}function BT(r,e,n,s,o){ct(yo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=j.useContext(Cn),{matches:f}=j.useContext(Ui),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let ie=T&&T.path||"";HT(y,!T||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let b=mr(),L;if(e){let ie=typeof e=="string"?po(e):e;ct(E==="/"||ie.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),L=ie}else L=b;let Q=L.pathname||"/",Z=Q;if(E!=="/"){let ie=E.replace(/^\//,"").split("/");Z="/"+Q.replace(/^\//,"").split("/").slice(ie.length).join("/")}let G=NT(r,{pathname:Z});Hn(T||G!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),Hn(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=aw(G&&G.map(ie=>Object.assign({},ie,{params:Object.assign({},p,ie.params),pathname:ar([E,u.encodeLocation?u.encodeLocation(ie.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?E:ar([E,u.encodeLocation?u.encodeLocation(ie.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathnameBase])})),f,n,s,o);return e&&ne?j.createElement(iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},ne):ne}function nw(){let r=hw(),e=Hb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:o},n):null,f)}var iw=j.createElement(nw,null),qT=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=Zb(r.digest);n&&(r=n)}let e=r!==void 0?j.createElement(Ui.Provider,{value:this.props.routeContext},j.createElement(up.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?j.createElement(rw,{error:r},e):e}};qT.contextType=Qb;var ym=new WeakMap;function rw({children:r,error:e}){let{basename:n}=j.useContext(Cn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=Jb(e.digest);if(s){let o=ym.get(e);if(o)throw o;let u=PT(s.location,n);if(xT&&!ym.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw ym.set(e,f),f}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function sw({routeContext:r,match:e,children:n}){let s=j.useContext(go);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Ui.Provider,{value:r},n)}function aw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);ct(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:b,errors:L}=n,Q=T.route.loader&&!b.hasOwnProperty(T.route.id)&&(!L||L[T.route.id]===void 0);if(T.route.lazy||Q){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let y=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Fb(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,b)=>{let L,Q=!1,Z=null,G=null;n&&(L=f&&T.route.id?f[T.route.id]:void 0,Z=T.route.errorElement||iw,m&&(p<0&&b===0?(HT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Q=!0,G=null):p===b&&(Q=!0,G=T.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,b+1)),ie=()=>{let se;return L?se=Z:Q?se=G:T.route.Component?se=j.createElement(T.route.Component,null):T.route.element?se=T.route.element:se=E,j.createElement(sw,{match:T,routeContext:{outlet:E,matches:ne,isDataRoute:n!=null},children:se})};return n&&(T.route.ErrorBoundary||T.route.errorElement||b===0)?j.createElement(qT,{location:n.location,revalidation:n.revalidation,component:Z,error:L,children:ie(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:y}):ie()},null)}function cp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ow(r){let e=j.useContext(go);return ct(e,cp(r)),e}function lw(r){let e=j.useContext(Uh);return ct(e,cp(r)),e}function uw(r){let e=j.useContext(Ui);return ct(e,cp(r)),e}function hp(r){let e=uw(r),n=e.matches[e.matches.length-1];return ct(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function cw(){return hp("useRouteId")}function hw(){let r=j.useContext(up),e=lw("useRouteError"),n=hp("useRouteError");return r!==void 0?r:e.errors?.[n]}function fw(){let{router:r}=ow("useNavigate"),e=hp("useNavigate"),n=j.useRef(!1);return jT(()=>{n.current=!0}),j.useCallback(async(o,u={})=>{Hn(n.current,zT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Kv={};function HT(r,e,n){!e&&!Kv[r]&&(Kv[r]=!0,Hn(!1,n))}j.memo(dw);function dw({routes:r,future:e,state:n,onError:s}){return BT(r,void 0,n,s,e)}function mw({to:r,replace:e,state:n,relative:s}){ct(yo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(Cn);Hn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=j.useContext(Ui),{pathname:f}=mr(),m=zh(),p=lp(r,op(u),f,s==="path"),y=JSON.stringify(p);return j.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:s})},[m,y,s,e,n]),null}function eh(r){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){ct(!yo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=j.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=po(n));let{pathname:y="/",search:E="",hash:T="",state:b=null,key:L="default"}=n,Q=j.useMemo(()=>{let Z=lr(y,m);return Z==null?null:{location:{pathname:Z,search:E,hash:T,state:b,key:L},navigationType:s}},[m,y,E,T,b,L,s]);return Hn(Q!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),Q==null?null:j.createElement(Cn.Provider,{value:p},j.createElement(iu.Provider,{children:e,value:Q}))}function gw({children:r,location:e}){return tw(Vm(r),e)}function Vm(r,e=[]){let n=[];return j.Children.forEach(r,(s,o)=>{if(!j.isValidElement(s))return;let u=[...e,o];if(s.type===j.Fragment){n.push.apply(n,Vm(s.props.children,u));return}ct(s.type===eh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Vm(s.props.children,u)),n.push(f)}),n}var th="get",nh="application/x-www-form-urlencoded";function jh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function yw(r){return jh(r)&&r.tagName.toLowerCase()==="button"}function _w(r){return jh(r)&&r.tagName.toLowerCase()==="form"}function vw(r){return jh(r)&&r.tagName.toLowerCase()==="input"}function Ew(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Tw(r,e){return r.button===0&&(!e||e==="_self")&&!Ew(r)}var Qc=null;function Sw(){if(Qc===null)try{new FormData(document.createElement("form"),0),Qc=!1}catch{Qc=!0}return Qc}var Aw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _m(r){return r!=null&&!Aw.has(r)?(Hn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nh}"`),null):r}function bw(r,e){let n,s,o,u,f;if(_w(r)){let m=r.getAttribute("action");s=m?lr(m,e):null,n=r.getAttribute("method")||th,o=_m(r.getAttribute("enctype"))||nh,u=new FormData(r)}else if(yw(r)||vw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?lr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||th,o=_m(r.getAttribute("formenctype"))||_m(m.getAttribute("enctype"))||nh,u=new FormData(m,r),!Sw()){let{name:y,type:E,value:T}=r;if(E==="image"){let b=y?`${y}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else y&&u.append(y,T)}}else{if(jh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=th,s=null,o=nh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ww(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&lr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function Rw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Cw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Iw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await Rw(u,n);return f.links?f.links():[]}return[]}));return Mw(s.flat(1).filter(Cw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Yv(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Dw(r,e,{includeHydrateFallback:n}={}){return Nw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Nw(r){return[...new Set(r)]}function Ow(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Mw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Ow(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function FT(){let r=j.useContext(go);return fp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Vw(){let r=j.useContext(Uh);return fp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var dp=j.createContext(void 0);dp.displayName="FrameworkContext";function GT(){let r=j.useContext(dp);return fp(r,"You must render this element inside a <HydratedRouter> element"),r}function xw(r,e){let n=j.useContext(dp),[s,o]=j.useState(!1),[u,f]=j.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=e,b=j.useRef(null);j.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Z=ne=>{ne.forEach(ie=>{f(ie.isIntersecting)})},G=new IntersectionObserver(Z,{threshold:.5});return b.current&&G.observe(b.current),()=>{G.disconnect()}}},[r]),j.useEffect(()=>{if(s){let Z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Z)}}},[s]);let L=()=>{o(!0)},Q=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Vl(m,L),onBlur:Vl(p,Q),onMouseEnter:Vl(y,L),onMouseLeave:Vl(E,Q),onTouchStart:Vl(T,L)}]:[!1,b,{}]}function Vl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Pw({page:r,...e}){let{router:n}=FT(),s=j.useMemo(()=>NT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?j.createElement(kw,{page:r,matches:s,...e}):null}function Lw(r){let{manifest:e,routeModules:n}=GT(),[s,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return Iw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function kw({page:r,matches:e,...n}){let s=mr(),{manifest:o,routeModules:u}=GT(),{basename:f}=FT(),{loaderData:m,matches:p}=Vw(),y=j.useMemo(()=>Yv(r,e,p,o,s,"data"),[r,e,p,o,s]),E=j.useMemo(()=>Yv(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=j.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Q=new Set,Z=!1;if(e.forEach(ne=>{let ie=o.routes[ne.route.id];!ie||!ie.hasLoader||(!y.some(se=>se.route.id===ne.route.id)&&ne.route.id in m&&u[ne.route.id]?.shouldRevalidate||ie.hasClientLoader?Z=!0:Q.add(ne.route.id))}),Q.size===0)return[];let G=ww(r,f,"data");return Z&&Q.size>0&&G.searchParams.set("_routes",e.filter(ne=>Q.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[G.pathname+G.search]},[f,m,s,o,y,e,r,u]),b=j.useMemo(()=>Dw(E,o),[E,o]),L=Lw(E);return j.createElement(j.Fragment,null,T.map(Q=>j.createElement("link",{key:Q,rel:"prefetch",as:"fetch",href:Q,...n})),b.map(Q=>j.createElement("link",{key:Q,rel:"modulepreload",href:Q,...n})),L.map(({key:Q,link:Z})=>j.createElement("link",{key:Q,nonce:n.nonce,...Z})))}function Uw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var zw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zw&&(window.__reactRouterVersion="7.11.0")}catch{}function jw({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=j.useRef();o.current==null&&(o.current=vb({window:s,v5Compat:!0}));let u=o.current,[f,m]=j.useState({action:u.action,location:u.location}),p=j.useCallback(y=>{n===!1?m(y):j.startTransition(()=>m(y))},[n]);return j.useLayoutEffect(()=>u.listen(p),[u,p]),j.createElement(pw,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var QT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mp=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:b,...L},Q){let{basename:Z,unstable_useTransitions:G}=j.useContext(Cn),ne=typeof y=="string"&&QT.test(y),ie=PT(y,Z);y=ie.to;let se=Wb(y,{relative:o}),[_e,Ae,be]=xw(s,L),R=Fw(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:b,unstable_useTransitions:G});function w(O){e&&e(O),O.defaultPrevented||R(O)}let C=j.createElement("a",{...L,...be,href:ie.absoluteURL||se,onClick:ie.isExternal||u?e:w,ref:Uw(Q,Ae),target:p,"data-discover":!ne&&n==="render"?"true":void 0});return _e&&!ne?j.createElement(j.Fragment,null,C,j.createElement(Pw,{page:se})):C});mp.displayName="Link";var Bw=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let T=ru(f,{relative:y.relative}),b=mr(),L=j.useContext(Uh),{navigator:Q,basename:Z}=j.useContext(Cn),G=L!=null&&Xw(T)&&m===!0,ne=Q.encodeLocation?Q.encodeLocation(T).pathname:T.pathname,ie=b.pathname,se=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),se=se?se.toLowerCase():null,ne=ne.toLowerCase()),se&&Z&&(se=lr(se,Z)||se);const _e=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let Ae=ie===ne||!o&&ie.startsWith(ne)&&ie.charAt(_e)==="/",be=se!=null&&(se===ne||!o&&se.startsWith(ne)&&se.charAt(ne.length)==="/"),R={isActive:Ae,isPending:be,isTransitioning:G},w=Ae?e:void 0,C;typeof s=="function"?C=s(R):C=[s,Ae?"active":null,be?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(R):u;return j.createElement(mp,{...y,"aria-current":w,className:C,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(R):p)});Bw.displayName="NavLink";var qw=j.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=th,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:b,...L},Q)=>{let{unstable_useTransitions:Z}=j.useContext(Cn),G=Kw(),ne=Yw(m,{relative:y}),ie=f.toLowerCase()==="get"?"get":"post",se=typeof m=="string"&&QT.test(m),_e=Ae=>{if(p&&p(Ae),Ae.defaultPrevented)return;Ae.preventDefault();let be=Ae.nativeEvent.submitter,R=be?.getAttribute("formmethod")||f,w=()=>G(be||Ae.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:b});Z&&n!==!1?j.startTransition(()=>w()):w()};return j.createElement("form",{ref:Q,method:ie,action:ne,onSubmit:s?p:_e,...L,"data-discover":!se&&r==="render"?"true":void 0})});qw.displayName="Form";function Hw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KT(r){let e=j.useContext(go);return ct(e,Hw(r)),e}function Fw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let y=zh(),E=mr(),T=ru(r,{relative:u});return j.useCallback(b=>{if(Tw(b,e)){b.preventDefault();let L=n!==void 0?n:Ql(E)===Ql(T),Q=()=>y(r,{replace:L,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?j.startTransition(()=>Q()):Q()}},[E,y,T,n,s,e,r,o,u,f,m,p])}var Gw=0,Qw=()=>`__${String(++Gw)}__`;function Kw(){let{router:r}=KT("useSubmit"),{basename:e}=j.useContext(Cn),n=cw(),s=r.fetch,o=r.navigate;return j.useCallback(async(u,f={})=>{let{action:m,method:p,encType:y,formData:E,body:T}=bw(u,e);if(f.navigate===!1){let b=f.fetcherKey||Qw();await s(b,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function Yw(r,{relative:e}={}){let{basename:n}=j.useContext(Cn),s=j.useContext(Ui);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ru(r||".",{relative:e})},f=mr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ar([n,u.pathname])),Ql(u)}function Xw(r,{relative:e}={}){let n=j.useContext(kT);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=KT("useViewTransitionState"),o=ru(r,{relative:e});if(!n.isTransitioning)return!1;let u=lr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=lr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return mh(o.pathname,f)!=null||mh(o.pathname,u)!=null}const $w=()=>{};var Xv={};const YT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Jw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},XT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let b=(m&15)<<2|y>>6,L=y&63;p||(L=64,f||(b=64)),s.push(n[E],n[T],n[b],n[L])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(YT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Jw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new Zw;const b=u<<2|m>>4;if(s.push(b),y!==64){const L=m<<4&240|y>>2;if(s.push(L),T!==64){const Q=y<<6&192|T;s.push(Q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Zw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ww=function(r){const e=YT(r);return XT.encodeByteArray(e,!0)},ph=function(r){return Ww(r).replace(/\./g,"")},$T=function(r){try{return XT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function eR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const tR=()=>eR().__FIREBASE_DEFAULTS__,nR=()=>{if(typeof process>"u"||typeof Xv>"u")return;const r=Xv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},iR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&$T(r[1]);return e&&JSON.parse(e)},Bh=()=>{try{return $w()||tR()||nR()||iR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},JT=r=>Bh()?.emulatorHosts?.[r],rR=r=>{const e=JT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},ZT=()=>Bh()?.config,WT=r=>Bh()?.[`_${r}`];class sR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function _o(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function e0(r){return(await fetch(r,{credentials:"include"})).ok}function aR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ph(JSON.stringify(n)),ph(JSON.stringify(f)),""].join(".")}const jl={};function oR(){const r={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?r.emulator.push(e):r.prod.push(e);return r}function lR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let $v=!1;function t0(r,e){if(typeof window>"u"||typeof document>"u"||!_o(window.location.host)||jl[r]===e||jl[r]||$v)return;jl[r]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=oR().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,L){b.setAttribute("width","24"),b.setAttribute("id",L),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function y(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{$v=!0,f()},b}function E(b,L){b.setAttribute("id",L),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=lR(s),L=n("text"),Q=document.getElementById(L)||document.createElement("span"),Z=n("learnmore"),G=document.getElementById(Z)||document.createElement("a"),ne=n("preprendIcon"),ie=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const se=b.element;m(se),E(G,Z);const _e=y();p(ie,ne),se.append(ie,Q,G,_e),document.body.appendChild(se)}u?(Q.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function cR(){const r=Bh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function dR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mR(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function pR(){return!cR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gR(){try{return typeof indexedDB=="object"}catch{return!1}}function yR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const _R="FirebaseError";class pr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=_R,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,su.prototype.create)}}class su{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?vR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new pr(o,m,s)}}function vR(r,e){return r.replace(ER,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const ER=/\{\$([^}]+)}/g;function TR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ta(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Jv(u)&&Jv(f)){if(!ta(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Jv(r){return r!==null&&typeof r=="object"}function au(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function xl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Pl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function SR(r,e){const n=new AR(r,e);return n.subscribe.bind(n)}class AR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");bR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=vm),o.error===void 0&&(o.error=vm),o.complete===void 0&&(o.complete=vm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function vm(){}function zt(r){return r&&r._delegate?r._delegate:r}class na{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $s="[DEFAULT]";class wR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new sR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CR(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:RR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RR(r){return r===$s?void 0:r}function CR(r){return r.instantiationMode==="EAGER"}class IR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const DR={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},NR=Pe.INFO,OR={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},MR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=OR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pp{constructor(e){this.name=e,this._logLevel=NR,this._logHandler=MR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const VR=(r,e)=>e.some(n=>r instanceof n);let Zv,Wv;function xR(){return Zv||(Zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PR(){return Wv||(Wv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const n0=new WeakMap,xm=new WeakMap,i0=new WeakMap,Em=new WeakMap,gp=new WeakMap;function LR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(rs(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&n0.set(n,r)}).catch(()=>{}),gp.set(e,r),e}function kR(r){if(xm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});xm.set(r,e)}let Pm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return xm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||i0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function UR(r){Pm=r(Pm)}function zR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Tm(this),e,...n);return i0.set(s,e.sort?e.sort():[e]),rs(s)}:PR().includes(r)?function(...e){return r.apply(Tm(this),e),rs(n0.get(this))}:function(...e){return rs(r.apply(Tm(this),e))}}function jR(r){return typeof r=="function"?zR(r):(r instanceof IDBTransaction&&kR(r),VR(r,xR())?new Proxy(r,Pm):r)}function rs(r){if(r instanceof IDBRequest)return LR(r);if(Em.has(r))return Em.get(r);const e=jR(r);return e!==r&&(Em.set(r,e),gp.set(e,r)),e}const Tm=r=>gp.get(r);function BR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=rs(f);return s&&f.addEventListener("upgradeneeded",p=>{s(rs(f.result),p.oldVersion,p.newVersion,rs(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const qR=["get","getKey","getAll","getAllKeys","count"],HR=["put","add","delete","clear"],Sm=new Map;function eE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=HR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||qR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Sm.set(e,u),u}UR(r=>({...r,get:(e,n,s)=>eE(e,n)||r.get(e,n,s),has:(e,n)=>!!eE(e,n)||r.has(e,n)}));class FR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function GR(r){return r.getComponent()?.type==="VERSION"}const Lm="@firebase/app",tE="0.14.6";const ur=new pp("@firebase/app"),QR="@firebase/app-compat",KR="@firebase/analytics-compat",YR="@firebase/analytics",XR="@firebase/app-check-compat",$R="@firebase/app-check",JR="@firebase/auth",ZR="@firebase/auth-compat",WR="@firebase/database",eC="@firebase/data-connect",tC="@firebase/database-compat",nC="@firebase/functions",iC="@firebase/functions-compat",rC="@firebase/installations",sC="@firebase/installations-compat",aC="@firebase/messaging",oC="@firebase/messaging-compat",lC="@firebase/performance",uC="@firebase/performance-compat",cC="@firebase/remote-config",hC="@firebase/remote-config-compat",fC="@firebase/storage",dC="@firebase/storage-compat",mC="@firebase/firestore",pC="@firebase/ai",gC="@firebase/firestore-compat",yC="firebase",_C="12.6.0";const km="[DEFAULT]",vC={[Lm]:"fire-core",[QR]:"fire-core-compat",[YR]:"fire-analytics",[KR]:"fire-analytics-compat",[$R]:"fire-app-check",[XR]:"fire-app-check-compat",[JR]:"fire-auth",[ZR]:"fire-auth-compat",[WR]:"fire-rtdb",[eC]:"fire-data-connect",[tC]:"fire-rtdb-compat",[nC]:"fire-fn",[iC]:"fire-fn-compat",[rC]:"fire-iid",[sC]:"fire-iid-compat",[aC]:"fire-fcm",[oC]:"fire-fcm-compat",[lC]:"fire-perf",[uC]:"fire-perf-compat",[cC]:"fire-rc",[hC]:"fire-rc-compat",[fC]:"fire-gcs",[dC]:"fire-gcs-compat",[mC]:"fire-fst",[gC]:"fire-fst-compat",[pC]:"fire-vertex","fire-js":"fire-js",[yC]:"fire-js-all"};const gh=new Map,EC=new Map,Um=new Map;function nE(r,e){try{r.container.addComponent(e)}catch(n){ur.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ao(r){const e=r.name;if(Um.has(e))return ur.debug(`There were multiple attempts to register component ${e}.`),!1;Um.set(e,r);for(const n of gh.values())nE(n,r);for(const n of EC.values())nE(n,r);return!0}function yp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ni(r){return r==null?!1:r.settings!==void 0}const TC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new su("app","Firebase",TC);class SC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ss.create("app-deleted",{appName:this._name})}}const vo=_C;function r0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:km,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ss.create("bad-app-name",{appName:String(o)});if(n||(n=ZT()),!n)throw ss.create("no-options");const u=gh.get(o);if(u){if(ta(n,u.options)&&ta(s,u.config))return u;throw ss.create("duplicate-app",{appName:o})}const f=new IR(o);for(const p of Um.values())f.addComponent(p);const m=new SC(n,s,f);return gh.set(o,m),m}function s0(r=km){const e=gh.get(r);if(!e&&r===km&&ZT())return r0();if(!e)throw ss.create("no-app",{appName:r});return e}function as(r,e,n){let s=vC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ur.warn(f.join(" "));return}ao(new na(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const AC="firebase-heartbeat-database",bC=1,Kl="firebase-heartbeat-store";let Am=null;function a0(){return Am||(Am=BR(AC,bC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(r=>{throw ss.create("idb-open",{originalErrorMessage:r.message})})),Am}async function wC(r){try{const n=(await a0()).transaction(Kl),s=await n.objectStore(Kl).get(o0(r));return await n.done,s}catch(e){if(e instanceof pr)ur.warn(e.message);else{const n=ss.create("idb-get",{originalErrorMessage:e?.message});ur.warn(n.message)}}}async function iE(r,e){try{const s=(await a0()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(e,o0(r)),await s.done}catch(n){if(n instanceof pr)ur.warn(n.message);else{const s=ss.create("idb-set",{originalErrorMessage:n?.message});ur.warn(s.message)}}}function o0(r){return`${r.name}!${r.options.appId}`}const RC=1024,CC=30;class IC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=rE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>CC){const o=OC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ur.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=rE(),{heartbeatsToSend:n,unsentEntries:s}=DC(this._heartbeatsCache.heartbeats),o=ph(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ur.warn(e),""}}}function rE(){return new Date().toISOString().substring(0,10)}function DC(r,e=RC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),sE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),sE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class NC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gR()?yR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return iE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return iE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function sE(r){return ph(JSON.stringify({version:2,heartbeats:r})).length}function OC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function MC(r){ao(new na("platform-logger",e=>new FR(e),"PRIVATE")),ao(new na("heartbeat",e=>new IC(e),"PRIVATE")),as(Lm,tE,r),as(Lm,tE,"esm2020"),as("fire-js","")}MC("");var aE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var os,l0;(function(){var r;function e(R,w){function C(){}C.prototype=w.prototype,R.F=w.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(O,N,x){for(var I=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)I[Je-2]=arguments[Je];return w.prototype[N].apply(O,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,w,C){C||(C=0);const O=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)O[N]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(N=0;N<16;++N)O[N]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=R.g[0],C=R.g[1],N=R.g[2];let x=R.g[3],I;I=w+(x^C&(N^x))+O[0]+3614090360&4294967295,w=C+(I<<7&4294967295|I>>>25),I=x+(N^w&(C^N))+O[1]+3905402710&4294967295,x=w+(I<<12&4294967295|I>>>20),I=N+(C^x&(w^C))+O[2]+606105819&4294967295,N=x+(I<<17&4294967295|I>>>15),I=C+(w^N&(x^w))+O[3]+3250441966&4294967295,C=N+(I<<22&4294967295|I>>>10),I=w+(x^C&(N^x))+O[4]+4118548399&4294967295,w=C+(I<<7&4294967295|I>>>25),I=x+(N^w&(C^N))+O[5]+1200080426&4294967295,x=w+(I<<12&4294967295|I>>>20),I=N+(C^x&(w^C))+O[6]+2821735955&4294967295,N=x+(I<<17&4294967295|I>>>15),I=C+(w^N&(x^w))+O[7]+4249261313&4294967295,C=N+(I<<22&4294967295|I>>>10),I=w+(x^C&(N^x))+O[8]+1770035416&4294967295,w=C+(I<<7&4294967295|I>>>25),I=x+(N^w&(C^N))+O[9]+2336552879&4294967295,x=w+(I<<12&4294967295|I>>>20),I=N+(C^x&(w^C))+O[10]+4294925233&4294967295,N=x+(I<<17&4294967295|I>>>15),I=C+(w^N&(x^w))+O[11]+2304563134&4294967295,C=N+(I<<22&4294967295|I>>>10),I=w+(x^C&(N^x))+O[12]+1804603682&4294967295,w=C+(I<<7&4294967295|I>>>25),I=x+(N^w&(C^N))+O[13]+4254626195&4294967295,x=w+(I<<12&4294967295|I>>>20),I=N+(C^x&(w^C))+O[14]+2792965006&4294967295,N=x+(I<<17&4294967295|I>>>15),I=C+(w^N&(x^w))+O[15]+1236535329&4294967295,C=N+(I<<22&4294967295|I>>>10),I=w+(N^x&(C^N))+O[1]+4129170786&4294967295,w=C+(I<<5&4294967295|I>>>27),I=x+(C^N&(w^C))+O[6]+3225465664&4294967295,x=w+(I<<9&4294967295|I>>>23),I=N+(w^C&(x^w))+O[11]+643717713&4294967295,N=x+(I<<14&4294967295|I>>>18),I=C+(x^w&(N^x))+O[0]+3921069994&4294967295,C=N+(I<<20&4294967295|I>>>12),I=w+(N^x&(C^N))+O[5]+3593408605&4294967295,w=C+(I<<5&4294967295|I>>>27),I=x+(C^N&(w^C))+O[10]+38016083&4294967295,x=w+(I<<9&4294967295|I>>>23),I=N+(w^C&(x^w))+O[15]+3634488961&4294967295,N=x+(I<<14&4294967295|I>>>18),I=C+(x^w&(N^x))+O[4]+3889429448&4294967295,C=N+(I<<20&4294967295|I>>>12),I=w+(N^x&(C^N))+O[9]+568446438&4294967295,w=C+(I<<5&4294967295|I>>>27),I=x+(C^N&(w^C))+O[14]+3275163606&4294967295,x=w+(I<<9&4294967295|I>>>23),I=N+(w^C&(x^w))+O[3]+4107603335&4294967295,N=x+(I<<14&4294967295|I>>>18),I=C+(x^w&(N^x))+O[8]+1163531501&4294967295,C=N+(I<<20&4294967295|I>>>12),I=w+(N^x&(C^N))+O[13]+2850285829&4294967295,w=C+(I<<5&4294967295|I>>>27),I=x+(C^N&(w^C))+O[2]+4243563512&4294967295,x=w+(I<<9&4294967295|I>>>23),I=N+(w^C&(x^w))+O[7]+1735328473&4294967295,N=x+(I<<14&4294967295|I>>>18),I=C+(x^w&(N^x))+O[12]+2368359562&4294967295,C=N+(I<<20&4294967295|I>>>12),I=w+(C^N^x)+O[5]+4294588738&4294967295,w=C+(I<<4&4294967295|I>>>28),I=x+(w^C^N)+O[8]+2272392833&4294967295,x=w+(I<<11&4294967295|I>>>21),I=N+(x^w^C)+O[11]+1839030562&4294967295,N=x+(I<<16&4294967295|I>>>16),I=C+(N^x^w)+O[14]+4259657740&4294967295,C=N+(I<<23&4294967295|I>>>9),I=w+(C^N^x)+O[1]+2763975236&4294967295,w=C+(I<<4&4294967295|I>>>28),I=x+(w^C^N)+O[4]+1272893353&4294967295,x=w+(I<<11&4294967295|I>>>21),I=N+(x^w^C)+O[7]+4139469664&4294967295,N=x+(I<<16&4294967295|I>>>16),I=C+(N^x^w)+O[10]+3200236656&4294967295,C=N+(I<<23&4294967295|I>>>9),I=w+(C^N^x)+O[13]+681279174&4294967295,w=C+(I<<4&4294967295|I>>>28),I=x+(w^C^N)+O[0]+3936430074&4294967295,x=w+(I<<11&4294967295|I>>>21),I=N+(x^w^C)+O[3]+3572445317&4294967295,N=x+(I<<16&4294967295|I>>>16),I=C+(N^x^w)+O[6]+76029189&4294967295,C=N+(I<<23&4294967295|I>>>9),I=w+(C^N^x)+O[9]+3654602809&4294967295,w=C+(I<<4&4294967295|I>>>28),I=x+(w^C^N)+O[12]+3873151461&4294967295,x=w+(I<<11&4294967295|I>>>21),I=N+(x^w^C)+O[15]+530742520&4294967295,N=x+(I<<16&4294967295|I>>>16),I=C+(N^x^w)+O[2]+3299628645&4294967295,C=N+(I<<23&4294967295|I>>>9),I=w+(N^(C|~x))+O[0]+4096336452&4294967295,w=C+(I<<6&4294967295|I>>>26),I=x+(C^(w|~N))+O[7]+1126891415&4294967295,x=w+(I<<10&4294967295|I>>>22),I=N+(w^(x|~C))+O[14]+2878612391&4294967295,N=x+(I<<15&4294967295|I>>>17),I=C+(x^(N|~w))+O[5]+4237533241&4294967295,C=N+(I<<21&4294967295|I>>>11),I=w+(N^(C|~x))+O[12]+1700485571&4294967295,w=C+(I<<6&4294967295|I>>>26),I=x+(C^(w|~N))+O[3]+2399980690&4294967295,x=w+(I<<10&4294967295|I>>>22),I=N+(w^(x|~C))+O[10]+4293915773&4294967295,N=x+(I<<15&4294967295|I>>>17),I=C+(x^(N|~w))+O[1]+2240044497&4294967295,C=N+(I<<21&4294967295|I>>>11),I=w+(N^(C|~x))+O[8]+1873313359&4294967295,w=C+(I<<6&4294967295|I>>>26),I=x+(C^(w|~N))+O[15]+4264355552&4294967295,x=w+(I<<10&4294967295|I>>>22),I=N+(w^(x|~C))+O[6]+2734768916&4294967295,N=x+(I<<15&4294967295|I>>>17),I=C+(x^(N|~w))+O[13]+1309151649&4294967295,C=N+(I<<21&4294967295|I>>>11),I=w+(N^(C|~x))+O[4]+4149444226&4294967295,w=C+(I<<6&4294967295|I>>>26),I=x+(C^(w|~N))+O[11]+3174756917&4294967295,x=w+(I<<10&4294967295|I>>>22),I=N+(w^(x|~C))+O[2]+718787259&4294967295,N=x+(I<<15&4294967295|I>>>17),I=C+(x^(N|~w))+O[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+N&4294967295,R.g[3]=R.g[3]+x&4294967295}s.prototype.v=function(R,w){w===void 0&&(w=R.length);const C=w-this.blockSize,O=this.C;let N=this.h,x=0;for(;x<w;){if(N==0)for(;x<=C;)o(this,R,x),x+=this.blockSize;if(typeof R=="string"){for(;x<w;)if(O[N++]=R.charCodeAt(x++),N==this.blockSize){o(this,O),N=0;break}}else for(;x<w;)if(O[N++]=R[x++],N==this.blockSize){o(this,O),N=0;break}}this.h=N,this.o+=w},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)R[w++]=this.g[C]>>>O&255;return R};function u(R,w){var C=m;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=w(R)}function f(R,w){this.h=w;const C=[];let O=!0;for(let N=R.length-1;N>=0;N--){const x=R[N]|0;O&&x==w||(C[N]=x,O=!1)}this.g=C}var m={};function p(R){return-128<=R&&R<128?u(R,function(w){return new f([w|0],w<0?-1:0)}):new f([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return T;if(R<0)return G(y(-R));const w=[];let C=1;for(let O=0;R>=C;O++)w[O]=R/C|0,C*=4294967296;return new f(w,0)}function E(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return G(E(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(w,8));let O=T;for(let x=0;x<R.length;x+=8){var N=Math.min(8,R.length-x);const I=parseInt(R.substring(x,x+N),w);N<8?(N=y(Math.pow(w,N)),O=O.j(N).add(y(I))):(O=O.j(C),O=O.add(y(I)))}return O}var T=p(0),b=p(1),L=p(16777216);r=f.prototype,r.m=function(){if(Z(this))return-G(this).m();let R=0,w=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);R+=(O>=0?O:4294967296+O)*w,w*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(Q(this))return"0";if(Z(this))return"-"+G(this).toString(R);const w=y(Math.pow(R,6));var C=this;let O="";for(;;){const N=_e(C,w).g;C=ne(C,N.j(w));let x=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=N,Q(C))return x+O;for(;x.length<6;)x="0"+x;O=x+O}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function Q(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function Z(R){return R.h==-1}r.l=function(R){return R=ne(this,R),Z(R)?-1:Q(R)?0:1};function G(R){const w=R.g.length,C=[];for(let O=0;O<w;O++)C[O]=~R.g[O];return new f(C,~R.h).add(b)}r.abs=function(){return Z(this)?G(this):this},r.add=function(R){const w=Math.max(this.g.length,R.g.length),C=[];let O=0;for(let N=0;N<=w;N++){let x=O+(this.i(N)&65535)+(R.i(N)&65535),I=(x>>>16)+(this.i(N)>>>16)+(R.i(N)>>>16);O=I>>>16,x&=65535,I&=65535,C[N]=I<<16|x}return new f(C,C[C.length-1]&-2147483648?-1:0)};function ne(R,w){return R.add(G(w))}r.j=function(R){if(Q(this)||Q(R))return T;if(Z(this))return Z(R)?G(this).j(G(R)):G(G(this).j(R));if(Z(R))return G(this.j(G(R)));if(this.l(L)<0&&R.l(L)<0)return y(this.m()*R.m());const w=this.g.length+R.g.length,C=[];for(var O=0;O<2*w;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let N=0;N<R.g.length;N++){const x=this.i(O)>>>16,I=this.i(O)&65535,Je=R.i(N)>>>16,rt=R.i(N)&65535;C[2*O+2*N]+=I*rt,ie(C,2*O+2*N),C[2*O+2*N+1]+=x*rt,ie(C,2*O+2*N+1),C[2*O+2*N+1]+=I*Je,ie(C,2*O+2*N+1),C[2*O+2*N+2]+=x*Je,ie(C,2*O+2*N+2)}for(R=0;R<w;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=w;R<2*w;R++)C[R]=0;return new f(C,0)};function ie(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function se(R,w){this.g=R,this.h=w}function _e(R,w){if(Q(w))throw Error("division by zero");if(Q(R))return new se(T,T);if(Z(R))return w=_e(G(R),w),new se(G(w.g),G(w.h));if(Z(w))return w=_e(R,G(w)),new se(G(w.g),w.h);if(R.g.length>30){if(Z(R)||Z(w))throw Error("slowDivide_ only works with positive integers.");for(var C=b,O=w;O.l(R)<=0;)C=Ae(C),O=Ae(O);var N=be(C,1),x=be(O,1);for(O=be(O,2),C=be(C,2);!Q(O);){var I=x.add(O);I.l(R)<=0&&(N=N.add(C),x=I),O=be(O,1),C=be(C,1)}return w=ne(R,N.j(w)),new se(N,w)}for(N=T;R.l(w)>=0;){for(C=Math.max(1,Math.floor(R.m()/w.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),x=y(C),I=x.j(w);Z(I)||I.l(R)>0;)C-=O,x=y(C),I=x.j(w);Q(x)&&(x=b),N=N.add(x),R=ne(R,I)}return new se(N,R)}r.B=function(R){return _e(this,R).h},r.and=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let O=0;O<w;O++)C[O]=this.i(O)&R.i(O);return new f(C,this.h&R.h)},r.or=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let O=0;O<w;O++)C[O]=this.i(O)|R.i(O);return new f(C,this.h|R.h)},r.xor=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let O=0;O<w;O++)C[O]=this.i(O)^R.i(O);return new f(C,this.h^R.h)};function Ae(R){const w=R.g.length+1,C=[];for(let O=0;O<w;O++)C[O]=R.i(O)<<1|R.i(O-1)>>>31;return new f(C,R.h)}function be(R,w){const C=w>>5;w%=32;const O=R.g.length-C,N=[];for(let x=0;x<O;x++)N[x]=w>0?R.i(x+C)>>>w|R.i(x+C+1)<<32-w:R.i(x+C);return new f(N,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,l0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,os=f}).apply(typeof aE<"u"?aE:typeof self<"u"?self:typeof window<"u"?window:{});var Kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var u0,Ll,c0,ih,zm,h0,f0,d0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kc=="object"&&Kc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var k=c[A];if(!(k in v))break e;v=v[k]}c=c[c.length-1],A=v[c],g=g(A),g!=A&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&v.push([A,g[A]]);return v}});var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,v){return c.call.apply(c.bind,arguments)}function y(c,g,v){return y=p,y.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,k,H){for(var ae=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ae[Ie-2]=arguments[Ie];return g.prototype[k].apply(A,ae)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const g=c.length;if(g>0){const v=Array(g);for(let A=0;A<g;A++)v[A]=c[A];return v}return[]}function Q(c,g){for(let A=1;A<arguments.length;A++){const k=arguments[A];var v=typeof k;if(v=v!="object"?v:k?Array.isArray(k)?"array":v:"null",v=="array"||v=="object"&&typeof k.length=="number"){v=c.length||0;const H=k.length||0;c.length=v+H;for(let ae=0;ae<H;ae++)c[v+ae]=k[ae]}else c.push(k)}}class Z{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function G(c){f.setTimeout(()=>{throw c},0)}function ne(){var c=R;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ie{constructor(){this.h=this.g=null}add(g,v){const A=se.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var se=new Z(()=>new _e,c=>c.reset());class _e{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,be=!1,R=new ie,w=()=>{const c=Promise.resolve(void 0);Ae=()=>{c.then(C)}};function C(){for(var c;c=ne();){try{c.h.call(c.g)}catch(v){G(v)}var g=se;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}be=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function Je(c,g){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}T(Je,N),Je.prototype.init=function(c,g){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Je.Z.h.call(this)},Je.prototype.h=function(){Je.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var rt="closure_listenable_"+(Math.random()*1e6|0),K=0;function oe(c,g,v,A,k){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=k,this.key=++K,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c,g,v){for(const A in c)g.call(v,c[A],A,c)}function Be(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function V(c){const g={};for(const v in c)g[v]=c[v];return g}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,g){let v,A;for(let k=1;k<arguments.length;k++){A=arguments[k];for(v in A)c[v]=A[v];for(let H=0;H<W.length;H++)v=W[H],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function Y(c){this.src=c,this.g={},this.h=0}Y.prototype.add=function(c,g,v,A,k){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const ae=fe(c,g,A,k);return ae>-1?(g=c[ae],v||(g.fa=!1)):(g=new oe(g,this.src,H,!!A,k),g.fa=v,c.push(g)),g};function re(c,g){const v=g.type;if(v in c.g){var A=c.g[v],k=Array.prototype.indexOf.call(A,g,void 0),H;(H=k>=0)&&Array.prototype.splice.call(A,k,1),H&&(me(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function fe(c,g,v,A){for(let k=0;k<c.length;++k){const H=c[k];if(!H.da&&H.listener==g&&H.capture==!!v&&H.ha==A)return k}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),Ee={};function qe(c,g,v,A,k){if(Array.isArray(g)){for(let H=0;H<g.length;H++)qe(c,g[H],v,A,k);return null}return v=Do(v),c&&c[rt]?c.J(g,v,m(A)?!!A.capture:!1,k):gn(c,g,v,!1,A,k)}function gn(c,g,v,A,k,H){if(!g)throw Error("Invalid event type");const ae=m(k)?!!k.capture:!!k;let Ie=Es(c);if(Ie||(c[ye]=Ie=new Y(c)),v=Ie.add(g,v,A,ae,H),v.proxy)return v;if(A=ai(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)x||(k=ae),k===void 0&&(k=!1),c.addEventListener(g.toString(),A,k);else if(c.attachEvent)c.attachEvent(oi(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ai(){function c(v){return g.call(c.src,c.listener,v)}const g=Co;return c}function gr(c,g,v,A,k){if(Array.isArray(g))for(var H=0;H<g.length;H++)gr(c,g[H],v,A,k);else A=m(A)?!!A.capture:!!A,v=Do(v),c&&c[rt]?(c=c.i,H=String(g).toString(),H in c.g&&(g=c.g[H],v=fe(g,v,A,k),v>-1&&(me(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[H],c.h--)))):c&&(c=Es(c))&&(g=c.g[g.toString()],c=-1,g&&(c=fe(g,v,A,k)),(v=c>-1?g[c]:null)&&ua(v))}function ua(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[rt])re(g.i,c);else{var v=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(v,A,c.capture):g.detachEvent?g.detachEvent(oi(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=Es(g))?(re(v,c),v.h==0&&(v.src=null,g[ye]=null)):me(c)}}}function oi(c){return c in Ee?Ee[c]:Ee[c]="on"+c}function Co(c,g){if(c.da)c=!0;else{g=new Je(g,this);const v=c.listener,A=c.ha||c.src;c.fa&&ua(c),c=v.call(A,g)}return c}function Es(c){return c=c[ye],c instanceof Y?c:null}var Io="__closure_events_fn_"+(Math.random()*1e9>>>0);function Do(c){return typeof c=="function"?c:(c[Io]||(c[Io]=function(g){return c.handleEvent(g)}),c[Io])}function Et(){O.call(this),this.i=new Y(this),this.M=this,this.G=null}T(Et,O),Et.prototype[rt]=!0,Et.prototype.removeEventListener=function(c,g,v,A){gr(this,c,g,v,A)};function Mt(c,g){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new N(g,c);else if(g instanceof N)g.target=g.target||c;else{var k=g;g=new N(A,c),le(g,k)}k=!0;let H,ae;if(v)for(ae=v.length-1;ae>=0;ae--)H=g.g=v[ae],k=yr(H,A,!0,g)&&k;if(H=g.g=c,k=yr(H,A,!0,g)&&k,k=yr(H,A,!1,g)&&k,v)for(ae=0;ae<v.length;ae++)H=g.g=v[ae],k=yr(H,A,!1,g)&&k}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let A=0;A<v.length;A++)me(v[A]);delete c.g[g],c.h--}}this.G=null},Et.prototype.J=function(c,g,v,A){return this.i.add(String(c),g,!1,v,A)},Et.prototype.K=function(c,g,v,A){return this.i.add(String(c),g,!0,v,A)};function yr(c,g,v,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let k=!0;for(let H=0;H<g.length;++H){const ae=g[H];if(ae&&!ae.da&&ae.capture==v){const Ie=ae.listener,gt=ae.ha||ae.src;ae.fa&&re(c.i,ae),k=Ie.call(gt,A)!==!1&&k}}return k&&!A.defaultPrevented}function ff(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function yu(c){c.g=ff(()=>{c.g=null,c.i&&(c.i=!1,yu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class nn extends O{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:yu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ts(c){O.call(this),this.h=c,this.g={}}T(Ts,O);var No=[];function Oo(c){Ue(c.g,function(g,v){this.g.hasOwnProperty(v)&&ua(g)},c),c.g={}}Ts.prototype.N=function(){Ts.Z.N.call(this),Oo(this)},Ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _r=f.JSON.stringify,df=f.JSON.parse,_u=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function vu(){}function Eu(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){N.call(this,"d")}T(jt,N);function In(){N.call(this,"c")}T(In,N);var pt={},Tu=null;function ca(){return Tu=Tu||new Et}pt.Ia="serverreachability";function Su(c){N.call(this,pt.Ia,c)}T(Su,N);function li(c){const g=ca();Mt(g,new Su(g))}pt.STAT_EVENT="statevent";function Ss(c,g){N.call(this,pt.STAT_EVENT,c),this.stat=g}T(Ss,N);function Tt(c){const g=ca();Mt(g,new Ss(g,c))}pt.Ja="timingevent";function ui(c,g){N.call(this,pt.Ja,c),this.size=g}T(ui,N);function ci(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function mf(c,g,v,A,k,H){c.info(function(){if(c.g)if(H){var ae="",Ie=H.split("&");for(let Ge=0;Ge<Ie.length;Ge++){var gt=Ie[Ge].split("=");if(gt.length>1){const lt=gt[0];gt=gt[1];const Mn=lt.split("_");ae=Mn.length>=2&&Mn[1]=="type"?ae+(lt+"="+gt+"&"):ae+(lt+"=redacted&")}}}else ae=null;else ae=H;return"XMLHTTP REQ ("+A+") [attempt "+k+"]: "+g+`
`+v+`
`+ae})}function Au(c,g,v,A,k,H,ae){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+k+"]: "+g+`
`+v+`
`+H+" "+ae})}function hi(c,g,v,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+pf(c,v)+(A?" "+A:"")})}function As(c,g){c.info(function(){return"TIMEOUT: "+g})}Gn.prototype.info=function(){};function pf(c,g){if(!c.g)return g;if(!g)return null;try{const H=JSON.parse(g);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var v=H[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var k=A[0];if(k!="noop"&&k!="stop"&&k!="close")for(let ae=1;ae<A.length;ae++)A[ae]=""}}}}return _r(H)}catch{return g}}var bs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vo;function ws(){}T(ws,vu),ws.prototype.g=function(){return new XMLHttpRequest},Vo=new ws;function zi(c){return encodeURIComponent(String(c))}function bu(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function Qn(c,g,v,A){this.j=c,this.i=g,this.l=v,this.S=A||1,this.V=new Ts(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var St={},Pt={};function fi(c,g,v){c.M=1,c.A=Rs(bt(g)),c.u=v,c.R=!0,ha(c,null)}function ha(c,g){c.F=Date.now(),di(c),c.B=bt(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),pa(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Kn,c.g=zu(c.j,v?g:null,!c.u),c.P>0&&(c.O=new nn(y(c.Y,c,c.g),c.P)),g=c.V,v=c.g,A=c.ba;var k="readystatechange";Array.isArray(k)||(k&&(No[0]=k.toString()),k=No);for(let H=0;H<k.length;H++){const ae=qe(v,k[H],A||g.handleEvent,!1,g.h||g);if(!ae)break;g.g[ae.key]=ae}g=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),li(),mf(c.i,c.v,c.B,c.l,c.S,c.u)}Qn.prototype.ba=function(c){c=c.target;const g=this.O;g&&$n(c)==3?g.j():this.Y(c)},Qn.prototype.Y=function(c){try{if(c==this.g)e:{const Ie=$n(this.g),gt=this.g.ya(),Ge=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Ie!=4||gt==7||(gt==8||Ge<=0?li(3):li(2)),mi(this);var g=this.g.ca();this.X=g;var v=gf(this);if(this.o=g==200,Au(this.i,this.v,this.B,this.l,this.S,Ie,g),this.o){if(this.U&&!this.L){t:{if(this.g){var A,k=this.g;if((A=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var H=A;break t}}H=null}if(c=H)hi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,c);else{this.o=!1,this.m=3,Tt(12),yn(this),Dn(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<v.length;)if(lt=Ru(this,v),lt==Pt){Ie==4&&(this.m=4,Tt(14),c=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==St){this.m=4,Tt(15),hi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else hi(this.i,this.l,lt,null),pi(this,lt);if(wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||v.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)hi(this.i,this.l,v,"[Invalid Chunked Response]"),yn(this),Dn(this);else if(v.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Yo(ae),ae.P=!0,Tt(11))}}else hi(this.i,this.l,v,null),pi(this,v);Ie==4&&yn(this),this.o&&!this.K&&(Ie==4?Pu(this.j,this):(this.o=!1,di(this)))}else Bi(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),yn(this),Dn(this)}}}catch{}finally{}};function gf(c){if(!wu(c))return c.g.la();const g=Bt(c.g);if(g==="")return"";let v="";const A=g.length,k=$n(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return yn(c),Dn(c),"";c.h.i=new f.TextDecoder}for(let H=0;H<A;H++)c.h.h=!0,v+=c.h.i.decode(g[H],{stream:!(k&&H==A-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function wu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ru(c,g){var v=c.C,A=g.indexOf(`
`,v);return A==-1?Pt:(v=Number(g.substring(v,A)),isNaN(v)?St:(A+=1,A+v>g.length?Pt:(g=g.slice(A,A+v),c.C=A+v,g)))}Qn.prototype.cancel=function(){this.K=!0,yn(this)};function di(c){c.T=Date.now()+c.H,fa(c,c.H)}function fa(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ci(y(c.aa,c),g)}function mi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(As(this.i,this.B),this.M!=2&&(li(),Tt(17)),yn(this),this.m=2,Dn(this)):fa(this,this.T-c)};function Dn(c){c.j.I==0||c.K||Pu(c.j,c)}function yn(c){mi(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Oo(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function pi(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||yi(v.h,c))){if(!c.L&&yi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var k=A;if(k[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ea(v),Rr(v);else break e;Vs(v),Tt(18)}}else v.xa=k[1],0<v.xa-v.K&&k[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ci(y(v.Va,v),6e3));gi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ai(v,11)}else if((c.L||v.g==c)&&Ea(v),!I(g))for(k=v.Ba.g.parse(g),g=0;g<k.length;g++){let Ge=k[g];const lt=Ge[0];if(!(lt<=v.K))if(v.K=lt,Ge=Ge[1],v.I==2)if(Ge[0]=="c"){v.M=Ge[1],v.ba=Ge[2];const Mn=Ge[3];Mn!=null&&(v.ka=Mn,v.j.info("VER="+v.ka));const bi=Ge[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const Jn=Ge[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(A=1.5*Jn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Zn=c.g;if(Zn){const xs=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xs){var H=A.h;H.g||xs.indexOf("spdy")==-1&&xs.indexOf("quic")==-1&&xs.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Lo(H,H.h),H.h=null))}if(A.G){const Ta=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ta&&(A.wa=Ta,Ye(A.J,A.G,Ta))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ae=c;if(A.na=Uu(A,A.L?A.ba:null,A.W),ae.L){ko(A.h,ae);var Ie=ae,gt=A.O;gt&&(Ie.H=gt),Ie.D&&(mi(Ie),di(Ie)),A.g=ae}else Vu(A);v.i.length>0&&Si(v)}else Ge[0]!="stop"&&Ge[0]!="close"||Ai(v,7);else v.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Ai(v,7):Qo(v):Ge[0]!="noop"&&v.l&&v.l.qa(Ge),v.A=0)}}li(4)}catch{}}var At=class{constructor(c,g){this.g=c,this.map=g}};function xo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Po(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gi(c){return c.h?1:c.g?c.g.size:0}function yi(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Lo(c,g){c.g?c.g.add(g):c.h=g}function ko(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}xo.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Uo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return L(c.i)}var Cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function da(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let k,H=null;A>=0?(k=c[v].substring(0,A),H=c[v].substring(A+1)):k=c[v],g(k,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function _n(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof _n?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,vr(this,c.u),this.h=c.h,zo(this,Ou(c.i)),this.m=c.m):c&&(g=String(c).match(Cu))?(this.l=!1,Lt(this,g[1]||"",!0),this.o=_i(g[2]||""),this.g=_i(g[3]||"",!0),vr(this,g[4]),this.h=_i(g[5]||"",!0),zo(this,g[6]||"",!0),this.m=_i(g[7]||"")):(this.l=!1,this.i=new Tr(null,this.l))}_n.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Cs(g,ma,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Cs(g,ma,!0),"@"),c.push(zi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Cs(v,v.charAt(0)=="/"?jo:Iu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Cs(v,Du)),c.join("")},_n.prototype.resolve=function(c){const g=bt(this);let v=!!c.j;v?Lt(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var A=c.h;if(v)vr(g,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var k=g.h.lastIndexOf("/");k!=-1&&(A=g.h.slice(0,k+1)+A)}if(k=A,k==".."||k==".")A="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){A=k.lastIndexOf("/",0)==0,k=k.split("/");const H=[];for(let ae=0;ae<k.length;){const Ie=k[ae++];Ie=="."?A&&ae==k.length&&H.push(""):Ie==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),A&&ae==k.length&&H.push("")):(H.push(Ie),A=!0)}A=H.join("/")}else A=k}return v?g.h=A:v=c.i.toString()!=="",v?zo(g,Ou(c.i)):v=!!c.m,v&&(g.m=c.m),g};function bt(c){return new _n(c)}function Lt(c,g,v){c.j=v?_i(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function vr(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function zo(c,g,v){g instanceof Tr?(c.i=g,ga(c.i,c.l)):(v||(g=Cs(g,Er)),c.i=new Tr(g,c.l))}function Ye(c,g,v){c.i.set(g,v)}function Rs(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function _i(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Cs(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,an),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ma=/[#\/\?@]/g,Iu=/[#\?:]/g,jo=/[#\?]/g,Er=/[#\?@]/g,Du=/#/g;function Tr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&da(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=Tr.prototype,r.add=function(c,g){on(this),this.i=null,c=Sr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Nu(c,g){on(c),g=Sr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Bo(c,g){return on(c),g=Sr(c,g),c.g.has(g)}r.forEach=function(c,g){on(this),this.g.forEach(function(v,A){v.forEach(function(k){c.call(g,k,A,this)},this)},this)};function qo(c,g){on(c);let v=[];if(typeof g=="string")Bo(c,g)&&(v=v.concat(c.g.get(Sr(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}r.set=function(c,g){return on(this),this.i=null,c=Sr(this,c),Bo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=qo(this,c),c.length>0?String(c[0]):g):g};function pa(c,g,v){Nu(c,g),v.length>0&&(c.i=null,c.g.set(Sr(c,g),L(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var v=g[A];const k=zi(v);v=qo(this,v);for(let H=0;H<v.length;H++){let ae=k;v[H]!==""&&(ae+="="+zi(v[H])),c.push(ae)}}return this.i=c.join("&")};function Ou(c){const g=new Tr;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function Sr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ga(c,g){g&&!c.j&&(on(c),c.i=null,c.g.forEach(function(v,A){const k=A.toLowerCase();A!=k&&(Nu(this,A),pa(this,k,v))},c)),c.j=g}function Yn(c,g){const v=new Gn;if(f.Image){const A=new Image;A.onload=E(Nn,v,"TestLoadImage: loaded",!0,g,A),A.onerror=E(Nn,v,"TestLoadImage: error",!1,g,A),A.onabort=E(Nn,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=E(Nn,v,"TestLoadImage: timeout",!1,g,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function Ho(c,g){const v=new Gn,A=new AbortController,k=setTimeout(()=>{A.abort(),Nn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(H=>{clearTimeout(k),H.ok?Nn(v,"TestPingServer: ok",!0,g):Nn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(k),Nn(v,"TestPingServer: error",!1,g)})}function Nn(c,g,v,A,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),A(v)}catch{}}function Ar(){this.g=new _u}function vi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(vi,vu),vi.prototype.g=function(){return new Is(this.i,this.h)};function Is(c,g){Et.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Is,Et),r=Is.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Xn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,br(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ya(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ya(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?br(this):Xn(this),this.readyState==3&&ya(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,br(this))},r.Na=function(c){this.g&&(this.response=c,br(this))},r.ga=function(){this.g&&br(this)};function br(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Xn(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function On(c){let g="";return Ue(c,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function Ds(c,g,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=On(v),typeof c=="string"?v!=null&&zi(v):Ye(c,g,v))}function Ze(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Ze,Et);var Ei=/^https?$/i,Fo=["POST","PUT"];r=Ze.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vo.g(),this.g.onreadystatechange=b(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(H){Ns(this,H);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var k in A)v.set(k,A[k]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())v.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),k=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Fo,g,void 0)>=0)||A||k||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ae]of v)this.g.setRequestHeader(H,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){Ns(this,H)}};function Ns(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Go(c),ji(c)}function Go(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),ji(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),Ze.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Os(this):this.Xa())},r.Xa=function(){Os(this)};function Os(c){if(c.h&&typeof u<"u"){if(c.v&&$n(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),$n(c)==4){c.h=!1;try{const H=c.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var A;if(A=H===0){let ae=String(c.D).match(Cu)[1]||null;!ae&&f.self&&f.self.location&&(ae=f.self.location.protocol.slice(0,-1)),A=!Ei.test(ae?ae.toLowerCase():"")}v=A}if(v)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var k=$n(c)>2?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.ca()+"]",Go(c)}}finally{ji(c)}}}}function ji(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||Mt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}r.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),df(g)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(c){const g={};c=(c.g&&$n(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var v=bu(c[A]);const k=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=g[k]||[];g[k]=H,H.push(v)}Be(g,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function wr(c){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,c),this.Za=Ti("retryDelaySeedMs",1e4,c),this.Ta=Ti("forwardChannelMaxRetries",2,c),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new xo(c&&c.concurrentRequestLimit),this.Ba=new Ar,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=wr.prototype,r.ka=8,r.I=1,r.connect=function(c,g,v,A){Tt(0),this.W=c,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Uu(this,null,this.W),Si(this)};function Qo(c){if(_a(c),c.I==3){var g=c.V++,v=bt(c.J);if(Ye(v,"SID",c.M),Ye(v,"RID",g),Ye(v,"TYPE","terminate"),Ms(c,v),g=new Qn(c,c.j,g),g.M=2,g.A=Rs(bt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=zu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),di(g)}ku(c)}function Rr(c){c.g&&(Yo(c),c.g.cancel(),c.g=null)}function _a(c){Rr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ea(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Si(c){if(!Po(c.h)&&!c.m){c.m=!0;var g=c.Ea;Ae||w(),be||(Ae(),be=!0),R.add(g,c),c.D=0}}function va(c,g){return gi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ci(y(c.Ea,c,g),Lu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const k=new Qn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=V(H),le(H,this.U)):H=this.U),this.u!==null||this.R||(k.J=H,H=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Mu(this,k,g),v=bt(this.J),Ye(v,"RID",c),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),Ms(this,v),H&&(this.R?g="headers="+zi(On(H))+"&"+g:this.u&&Ds(v,this.u,H)),Lo(this.h,k),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",g),Ye(v,"SID","null"),k.U=!0,fi(k,v,null)):fi(k,v,g),this.I=2}}else this.I==3&&(c?Ko(this,c):this.i.length==0||Po(this.h)||Ko(this))};function Ko(c,g){var v;g?v=g.l:v=c.V++;const A=bt(c.J);Ye(A,"SID",c.M),Ye(A,"RID",v),Ye(A,"AID",c.K),Ms(c,A),c.u&&c.o&&Ds(A,c.u,c.o),v=new Qn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Mu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Lo(c.h,v),fi(v,A,g)}function Ms(c,g){c.H&&Ue(c.H,function(v,A){Ye(g,A,v)}),c.l&&Ue({},function(v,A){Ye(g,A,v)})}function Mu(c,g,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;e:{var k=c.i;let Ie=-1;for(;;){const gt=["count="+v];Ie==-1?v>0?(Ie=k[0].g,gt.push("ofs="+Ie)):Ie=0:gt.push("ofs="+Ie);let Ge=!0;for(let lt=0;lt<v;lt++){var H=k[lt].g;const Mn=k[lt].map;if(H-=Ie,H<0)Ie=Math.max(0,k[lt].g-100),Ge=!1;else try{H="req"+H+"_"||"";try{var ae=Mn instanceof Map?Mn:Object.entries(Mn);for(const[bi,Jn]of ae){let Zn=Jn;m(Jn)&&(Zn=_r(Jn)),gt.push(H+bi+"="+encodeURIComponent(Zn))}}catch(bi){throw gt.push(H+"type="+encodeURIComponent("_badmap")),bi}}catch{A&&A(Mn)}}if(Ge){ae=gt.join("&");break e}}ae=void 0}return c=c.i.splice(0,v),g.G=c,ae}function Vu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;Ae||w(),be||(Ae(),be=!0),R.add(g,c),c.A=0}}function Vs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ci(y(c.Da,c),Lu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,xu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ci(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Rr(this),xu(this))};function Yo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function xu(c){c.g=new Qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=bt(c.na);Ye(g,"RID","rpc"),Ye(g,"SID",c.M),Ye(g,"AID",c.K),Ye(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(g,"TO",c.ia),Ye(g,"TYPE","xmlhttp"),Ms(c,g),c.u&&c.o&&Ds(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Rs(bt(g)),v.u=null,v.R=!0,ha(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Rr(this),Vs(this),Tt(19))};function Ea(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Pu(c,g){var v=null;if(c.g==g){Ea(c),Yo(c),c.g=null;var A=2}else if(yi(c.h,g))v=g.G,ko(c.h,g),A=1;else return;if(c.I!=0){if(g.o)if(A==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var k=c.D;A=ca(),Mt(A,new ui(A,v)),Si(c)}else Vu(c);else if(k=g.m,k==3||k==0&&g.X>0||!(A==1&&va(c,g)||A==2&&Vs(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),k){case 1:Ai(c,5);break;case 4:Ai(c,10);break;case 3:Ai(c,6);break;default:Ai(c,2)}}}function Lu(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function Ai(c,g){if(c.j.info("Error code "+g),g==2){var v=y(c.bb,c),A=c.Ua;const k=!A;A=new _n(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Lt(A,"https"),Rs(A),k?Yn(A.toString(),v):Ho(A.toString(),v)}else Tt(2);c.I=0,c.l&&c.l.pa(g),ku(c),_a(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function ku(c){if(c.I=0,c.ja=[],c.l){const g=Uo(c.h);(g.length!=0||c.i.length!=0)&&(Q(c.ja,g),Q(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function Uu(c,g,v){var A=v instanceof _n?bt(v):new _n(v);if(A.g!="")g&&(A.g=g+"."+A.g),vr(A,A.u);else{var k=f.location;A=k.protocol,g=g?g+"."+k.hostname:k.hostname,k=+k.port;const H=new _n(null);A&&Lt(H,A),g&&(H.g=g),k&&vr(H,k),v&&(H.h=v),A=H}return v=c.G,g=c.wa,v&&g&&Ye(A,v,g),Ye(A,"VER",c.ka),Ms(c,A),A}function zu(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Ze(new vi({ab:v})):new Ze(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}r=ju.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Cr(){}Cr.prototype.g=function(c,g){return new rn(c,g)};function rn(c,g){Et.call(this),this.g=new wr(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!I(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!I(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new qi(this)}T(rn,Et),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Qo(this.g)},rn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=_r(c),c=v);g.i.push(new At(g.Ya++,c)),g.I==3&&Si(g)},rn.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,rn.Z.N.call(this)};function Bu(c){jt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}T(Bu,jt);function qu(){In.call(this),this.status=1}T(qu,In);function qi(c){this.g=c}T(qi,ju),qi.prototype.ra=function(){Mt(this.g,"a")},qi.prototype.qa=function(c){Mt(this.g,new Bu(c))},qi.prototype.pa=function(c){Mt(this.g,new qu)},qi.prototype.oa=function(){Mt(this.g,"b")},Cr.prototype.createWebChannel=Cr.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,d0=function(){return new Cr},f0=function(){return ca()},h0=pt,zm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},bs.NO_ERROR=0,bs.TIMEOUT=8,bs.HTTP_ERROR=6,ih=bs,Mo.COMPLETE="complete",c0=Mo,Eu.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Ll=Eu,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,u0=Ze}).apply(typeof Kc<"u"?Kc:typeof self<"u"?self:typeof window<"u"?window:{});const oE="@firebase/firestore",lE="4.9.3";class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let Eo="12.7.0";const ia=new pp("@firebase/firestore");function Ja(){return ia.logLevel}function ce(r,...e){if(ia.logLevel<=Pe.DEBUG){const n=e.map(_p);ia.debug(`Firestore (${Eo}): ${r}`,...n)}}function cr(r,...e){if(ia.logLevel<=Pe.ERROR){const n=e.map(_p);ia.error(`Firestore (${Eo}): ${r}`,...n)}}function oo(r,...e){if(ia.logLevel<=Pe.WARN){const n=e.map(_p);ia.warn(`Firestore (${Eo}): ${r}`,...n)}}function _p(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Se(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,m0(r,s,n)}function m0(r,e,n){let s=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw cr(s),new Error(s)}function Ke(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||m0(e,o,s)}function Ce(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class or{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class p0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class xC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class PC{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new or;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new or,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new or)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new p0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class LC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new LC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class uE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new uE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new uE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class vp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=zC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Le(r,e){return r<e?-1:r>e?1:0}function jm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return bm(o)===bm(u)?Le(o,u):bm(o)?1:-1}return Le(r.length,e.length)}const jC=55296,BC=57343;function bm(r){const e=r.charCodeAt(0);return e>=jC&&e<=BC}function lo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const cE="__name__";class Ni{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Se(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ni.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Le(e.length,n.length)}static compareSegments(e,n){const s=Ni.isNumericId(e),o=Ni.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ni.extractNumericId(e).compare(Ni.extractNumericId(n)):jm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return os.fromString(e.substring(4,e.length-2))}}class it extends Ni{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const qC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Ni{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return qC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cE}static keyField(){return new Xt([cE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(it.fromString(e))}static fromName(e){return new ge(it.fromString(e).popFirst(5))}static empty(){return new ge(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new it(e.slice()))}}function g0(r,e,n){if(!n)throw new ue(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function HC(r,e,n,s){if(e===!0&&s===!0)throw new ue(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function hE(r){if(!ge.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function fE(r){if(ge.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function y0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function qh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Se(12329,{type:typeof r})}function pn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qh(r);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Ot(r,e){const n={typeString:r};return e&&(n.value=e),n}function ou(r,e){if(!y0(r))throw new ue(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ue(J.INVALID_ARGUMENT,n);return!0}const dE=-62135596800,mE=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*mE);return new ot(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<dE)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mE}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ou(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-dE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Ot("string",ot._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new ot(0,0))}static max(){return new we(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Yl=-1;function FC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new ot(n+1,0):new ot(n,s));return new cs(o,ge.empty(),e)}function GC(r){return new cs(r.readTime,r.key,Yl)}class cs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new cs(we.min(),ge.empty(),Yl)}static max(){return new cs(we.max(),ge.empty(),Yl)}}function QC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Le(r.largestBatchId,e.largestBatchId))}const KC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function To(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==KC)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new te(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function XC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function So(r){return r.name==="IndexedDbTransactionError"}class Hh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hh.ce=-1;const Ep=-1;function Fh(r){return r==null}function yh(r){return r===0&&1/r==-1/0}function $C(r){return typeof r=="number"&&Number.isInteger(r)&&!yh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const _0="";function JC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=pE(e)),e=ZC(r.get(n),e);return pE(e)}function ZC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case _0:n+="";break;default:n+=u}}return n}function pE(r){return r+_0+""}function gE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function gs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function v0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yc(this.root,e,this.comparator,!0)}}class Yc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yE(this.data.getIterator())}getIteratorFrom(e){return new yE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class yE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new xt(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class E0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new E0("Invalid base64 string: "+u):u}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const WC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(r){if(Ke(!!r,39018),typeof r=="string"){let e=0;const n=WC.exec(r);if(Ke(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(r.seconds),nanos:vt(r.nanos)}}function vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function fs(r){return typeof r=="string"?$t.fromBase64String(r):$t.fromUint8Array(r)}const T0="server_timestamp",S0="__type__",A0="__previous_value__",b0="__local_write_time__";function Tp(r){return(r?.mapValue?.fields||{})[S0]?.stringValue===T0}function Gh(r){const e=r.mapValue.fields[A0];return Tp(e)?Gh(e):e}function Xl(r){const e=hs(r.mapValue.fields[b0].timestampValue);return new ot(e.seconds,e.nanos)}class e2{constructor(e,n,s,o,u,f,m,p,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const _h="(default)";class $l{constructor(e,n){this.projectId=e,this.database=n||_h}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}const w0="__type__",t2="__max__",Xc={mapValue:{}},R0="__vector__",vh="value";function ds(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Tp(r)?4:i2(r)?9007199254740991:n2(r)?10:11:Se(28295,{value:r})}function ki(r,e){if(r===e)return!0;const n=ds(r);if(n!==ds(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Xl(r).isEqual(Xl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=hs(o.timestampValue),m=hs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return fs(o.bytesValue).isEqual(fs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=vt(o.doubleValue),m=vt(u.doubleValue);return f===m?yh(f)===yh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return lo(r.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(gE(f)!==gE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!ki(f[p],m[p])))return!1;return!0})(r,e);default:return Se(52216,{left:r})}}function Jl(r,e){return(r.values||[]).find((n=>ki(n,e)))!==void 0}function uo(r,e){if(r===e)return 0;const n=ds(r),s=ds(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=vt(u.integerValue||u.doubleValue),p=vt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return _E(r.timestampValue,e.timestampValue);case 4:return _E(Xl(r),Xl(e));case 5:return jm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=fs(u),p=fs(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Le(m[y],p[y]);if(E!==0)return E}return Le(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Le(vt(u.latitude),vt(f.latitude));return m!==0?m:Le(vt(u.longitude),vt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return vE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},y=m[vh]?.arrayValue,E=p[vh]?.arrayValue,T=Le(y?.values?.length||0,E?.values?.length||0);return T!==0?T:vE(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Xc.mapValue&&f===Xc.mapValue)return 0;if(u===Xc.mapValue)return 1;if(f===Xc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const b=jm(p[T],E[T]);if(b!==0)return b;const L=uo(m[p[T]],y[E[T]]);if(L!==0)return L}return Le(p.length,E.length)})(r.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function _E(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const n=hs(r),s=hs(e),o=Le(n.seconds,s.seconds);return o!==0?o:Le(n.nanos,s.nanos)}function vE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=uo(n[o],s[o]);if(u)return u}return Le(n.length,s.length)}function co(r){return Bm(r)}function Bm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=hs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return fs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ge.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Bm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Bm(n.fields[f])}`;return o+"}"})(r.mapValue):Se(61005,{value:r})}function rh(r){switch(ds(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gh(r);return e?16+rh(e):16;case 5:return 2*r.stringValue.length;case 6:return fs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+rh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return gs(s.fields,((u,f)=>{o+=u.length+rh(f)})),o})(r.mapValue);default:throw Se(13486,{value:r})}}function EE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function qm(r){return!!r&&"integerValue"in r}function Sp(r){return!!r&&"arrayValue"in r}function TE(r){return!!r&&"nullValue"in r}function SE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function sh(r){return!!r&&"mapValue"in r}function n2(r){return(r?.mapValue?.fields||{})[w0]?.stringValue===R0}function Bl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return gs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Bl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bl(r.arrayValue.values[n]);return e}return{...r}}function i2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===t2}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(n)}setAll(e){let n=Xt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Bl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){gs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new mn(Bl(this.value))}}function C0(r){const e=[];return gs(r.fields,((n,s)=>{const o=new Xt([n]);if(sh(s)){const u=C0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Rn(e)}class en{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new en(e,0,we.min(),we.min(),we.min(),mn.empty(),0)}static newFoundDocument(e,n,s,o){return new en(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new en(e,2,n,we.min(),we.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,we.min(),we.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Eh{constructor(e,n){this.position=e,this.inclusive=n}}function AE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=uo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function bE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ki(r.position[n],e.position[n]))return!1;return!0}class Zl{constructor(e,n="asc"){this.field=e,this.dir=n}}function r2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class I0{}class Nt extends I0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new a2(e,n,s):n==="array-contains"?new u2(e,s):n==="in"?new c2(e,s):n==="not-in"?new h2(e,s):n==="array-contains-any"?new f2(e,s):new Nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new o2(e,s):new l2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(uo(n,this.value)):n!==null&&ds(this.value)===ds(n)&&this.matchesComparison(uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends I0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ri(e,n)}matches(e){return D0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function D0(r){return r.op==="and"}function N0(r){return s2(r)&&D0(r)}function s2(r){for(const e of r.filters)if(e instanceof ri)return!1;return!0}function Hm(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+co(r.value);if(N0(r))return r.filters.map((e=>Hm(e))).join(",");{const e=r.filters.map((n=>Hm(n))).join(",");return`${r.op}(${e})`}}function O0(r,e){return r instanceof Nt?(function(s,o){return o instanceof Nt&&s.op===o.op&&s.field.isEqual(o.field)&&ki(s.value,o.value)})(r,e):r instanceof ri?(function(s,o){return o instanceof ri&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&O0(f,o.filters[m])),!0):!1})(r,e):void Se(19439)}function M0(r){return r instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${co(n.value)}`})(r):r instanceof ri?(function(n){return n.op.toString()+" {"+n.getFilters().map(M0).join(" ,")+"}"})(r):"Filter"}class a2 extends Nt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class o2 extends Nt{constructor(e,n){super(e,"in",n),this.keys=V0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class l2 extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=V0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function V0(r,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class u2 extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Sp(n)&&Jl(n.arrayValue,this.value)}}class c2 extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class h2 extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jl(this.value.arrayValue,n)}}class f2 extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Sp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Jl(this.value.arrayValue,s)))}}class d2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function wE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new d2(r,e,n,s,o,u,f)}function Ap(r){const e=Ce(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Hm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>co(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>co(s))).join(",")),e.Te=n}return e.Te}function bp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!r2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!O0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!bE(r.startAt,e.startAt)&&bE(r.endAt,e.endAt)}function Fm(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Ao{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function m2(r,e,n,s,o,u,f,m){return new Ao(r,e,n,s,o,u,f,m)}function Qh(r){return new Ao(r)}function RE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function x0(r){return r.collectionGroup!==null}function ql(r){const e=Ce(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new xt(Xt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Zl(u,s))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new Zl(Xt.keyField(),s))}return e.Ie}function Oi(r){const e=Ce(r);return e.Ee||(e.Ee=p2(e,ql(r))),e.Ee}function p2(r,e){if(r.limitType==="F")return wE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Zl(o.field,u)}));const n=r.endAt?new Eh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Eh(r.startAt.position,r.startAt.inclusive):null;return wE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Gm(r,e){const n=r.filters.concat([e]);return new Ao(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Qm(r,e,n){return new Ao(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Kh(r,e){return bp(Oi(r),Oi(e))&&r.limitType===e.limitType}function P0(r){return`${Ap(Oi(r))}|lt:${r.limitType}`}function Za(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>M0(o))).join(", ")}]`),Fh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>co(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>co(o))).join(",")),`Target(${s})`})(Oi(r))}; limitType=${r.limitType})`}function Yh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const y=AE(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,ql(s),o)||s.endAt&&!(function(f,m,p){const y=AE(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,ql(s),o))})(r,e)}function g2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function L0(r){return(e,n)=>{let s=!1;for(const o of ql(r)){const u=y2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function y2(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?uo(p,y):Se(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:r.dir})}}class aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return v0(this.inner)}size(){return this.innerSize}}const _2=new ht(ge.comparator);function hr(){return _2}const k0=new ht(ge.comparator);function kl(...r){let e=k0;for(const n of r)e=e.insert(n.key,n);return e}function U0(r){let e=k0;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Js(){return Hl()}function z0(){return Hl()}function Hl(){return new aa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const v2=new ht(ge.comparator),E2=new xt(ge.comparator);function ke(...r){let e=E2;for(const n of r)e=e.add(n);return e}const T2=new xt(Le);function S2(){return T2}function wp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function j0(r){return{integerValue:""+r}}function A2(r,e){return $C(e)?j0(e):wp(r,e)}class Xh{constructor(){this._=void 0}}function b2(r,e,n){return r instanceof Th?(function(o,u){const f={fields:{[S0]:{stringValue:T0},[b0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Tp(u)&&(u=Gh(u)),u&&(f.fields[A0]=u),{mapValue:f}})(n,e):r instanceof Wl?q0(r,e):r instanceof eu?H0(r,e):(function(o,u){const f=B0(o,u),m=CE(f)+CE(o.Ae);return qm(f)&&qm(o.Ae)?j0(m):wp(o.serializer,m)})(r,e)}function w2(r,e,n){return r instanceof Wl?q0(r,e):r instanceof eu?H0(r,e):n}function B0(r,e){return r instanceof Sh?(function(s){return qm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Th extends Xh{}class Wl extends Xh{constructor(e){super(),this.elements=e}}function q0(r,e){const n=F0(e);for(const s of r.elements)n.some((o=>ki(o,s)))||n.push(s);return{arrayValue:{values:n}}}class eu extends Xh{constructor(e){super(),this.elements=e}}function H0(r,e){let n=F0(e);for(const s of r.elements)n=n.filter((o=>!ki(o,s)));return{arrayValue:{values:n}}}class Sh extends Xh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function CE(r){return vt(r.integerValue||r.doubleValue)}function F0(r){return Sp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function R2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Wl&&o instanceof Wl||s instanceof eu&&o instanceof eu?lo(s.elements,o.elements,ki):s instanceof Sh&&o instanceof Sh?ki(s.Ae,o.Ae):s instanceof Th&&o instanceof Th})(r.transform,e.transform)}class C2{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ah(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class $h{}function G0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Rp(r.key,qn.none()):new lu(r.key,r.data,qn.none());{const n=r.data,s=mn.empty();let o=new xt(Xt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ys(r.key,s,new Rn(o.toArray()),qn.none())}}function I2(r,e,n){r instanceof lu?(function(o,u,f){const m=o.value.clone(),p=DE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ys?(function(o,u,f){if(!ah(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=DE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Q0(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Fl(r,e,n,s){return r instanceof lu?(function(u,f,m,p){if(!ah(u.precondition,f))return m;const y=u.value.clone(),E=NE(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof ys?(function(u,f,m,p){if(!ah(u.precondition,f))return m;const y=NE(u.fieldTransforms,p,f),E=f.data;return E.setAll(Q0(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,f,m){return ah(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function D2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=B0(s.transform,o||null);u!=null&&(n===null&&(n=mn.empty()),n.set(s.field,u))}return n||null}function IE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&lo(s,o,((u,f)=>R2(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class lu extends $h{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ys extends $h{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Q0(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function DE(r,e,n){const s=new Map;Ke(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,w2(f,m,n[o]))}return s}function NE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,b2(u,f,e))}return s}class Rp extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class N2 extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class O2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&I2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=z0();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=G0(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,((n,s)=>IE(n,s)))&&lo(this.baseMutations,e.baseMutations,((n,s)=>IE(n,s)))}}class Cp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return v2})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Cp(e,n,s,o)}}class M2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class V2{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,je;function x2(r){switch(r){case J.OK:return Se(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Se(15467,{code:r})}}function K0(r){if(r===void 0)return cr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Dt.OK:return J.OK;case Dt.CANCELLED:return J.CANCELLED;case Dt.UNKNOWN:return J.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return J.INTERNAL;case Dt.UNAVAILABLE:return J.UNAVAILABLE;case Dt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Dt.NOT_FOUND:return J.NOT_FOUND;case Dt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Dt.ABORTED:return J.ABORTED;case Dt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Dt.DATA_LOSS:return J.DATA_LOSS;default:return Se(39323,{code:r})}}(je=Dt||(Dt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";function P2(){return new TextEncoder}const L2=new os([4294967295,4294967295],0);function OE(r){const e=P2().encode(r),n=new l0;return n.update(e),new Uint8Array(n.digest())}function ME(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new os([n,s],0),new os([o,u],0)]}class Ip{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ul(`Invalid padding: ${n}`);if(s<0)throw new Ul(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=os.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(os.fromNumber(s)));return o.compare(L2)===1&&(o=new os([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=OE(e),[s,o]=ME(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Ip(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=OE(e),[s,o]=ME(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,uu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Jh(we.min(),o,new ht(Le),hr(),ke())}}class uu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new uu(s,n,ke(),ke(),ke())}}class oh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Y0{constructor(e,n){this.targetId=e,this.Ce=n}}class X0{constructor(e,n,s=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class VE{constructor(){this.ve=0,this.Fe=xE(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Se(38017,{changeType:u})}})),new uu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=xE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class k2{constructor(e){this.Ge=e,this.ze=new Map,this.je=hr(),this.Je=$c(),this.He=$c(),this.Ye=new ht(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Fm(u))if(s===0){const f=new ge(u.path);this.et(n,f,en.newNoDocument(f,we.min()))}else Ke(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=fs(s).toUint8Array()}catch(p){if(p instanceof E0)return oo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Ip(f,o,u)}catch(p){return oo(p instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Fm(m.target)){const p=new ge(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,en.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=ke();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Jh(e,n,this.Ye,this.je,s);return this.je=hr(),this.Je=$c(),this.He=$c(),this.Ye=new ht(Le),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new VE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new xt(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new xt(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new VE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function $c(){return new ht(ge.comparator)}function xE(){return new ht(ge.comparator)}const U2={asc:"ASCENDING",desc:"DESCENDING"},z2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},j2={and:"AND",or:"OR"};class B2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Km(r,e){return r.useProto3Json||Fh(e)?e:{value:e}}function Ah(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function q2(r,e){return Ah(r,e.toTimestamp())}function Mi(r){return Ke(!!r,49232),we.fromTimestamp((function(n){const s=hs(n);return new ot(s.seconds,s.nanos)})(r))}function Dp(r,e){return Ym(r,e).canonicalString()}function Ym(r,e){const n=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function J0(r){const e=it.fromString(r);return Ke(nS(e),10190,{key:e.toString()}),e}function Xm(r,e){return Dp(r.databaseId,e.path)}function wm(r,e){const n=J0(e);if(n.get(1)!==r.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(W0(n))}function Z0(r,e){return Dp(r.databaseId,e)}function H2(r){const e=J0(r);return e.length===4?it.emptyPath():W0(e)}function $m(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function W0(r){return Ke(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function PE(r,e,n){return{name:Xm(r,e),fields:n.value.mapValue.fields}}function F2(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Ke(E===void 0||typeof E=="string",58123),$t.fromBase64String(E||"")):(Ke(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),$t.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?J.UNKNOWN:K0(y.code);return new ue(E,y.message||"")})(f);n=new X0(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=wm(r,s.document.name),u=Mi(s.document.updateTime),f=s.document.createTime?Mi(s.document.createTime):we.min(),m=new mn({mapValue:{fields:s.document.fields}}),p=en.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new oh(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=wm(r,s.document),u=s.readTime?Mi(s.readTime):we.min(),f=en.newNoDocument(o,u),m=s.removedTargetIds||[];n=new oh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=wm(r,s.document),u=s.removedTargetIds||[];n=new oh([],u,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new V2(o,u),m=s.targetId;n=new Y0(m,f)}}return n}function G2(r,e){let n;if(e instanceof lu)n={update:PE(r,e.key,e.value)};else if(e instanceof Rp)n={delete:Xm(r,e.key)};else if(e instanceof ys)n={update:PE(r,e.key,e.data),updateMask:eI(e.fieldMask)};else{if(!(e instanceof N2))return Se(16599,{Vt:e.type});n={verify:Xm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Th)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Wl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof eu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Sh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:q2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)})(r,e.precondition)),n}function Q2(r,e){return r&&r.length>0?(Ke(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Mi(o.updateTime):Mi(u);return f.isEqual(we.min())&&(f=Mi(u)),new C2(f,o.transformResults||[])})(n,e)))):[]}function K2(r,e){return{documents:[Z0(r,e.path)]}}function Y2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Z0(r,o);const u=(function(y){if(y.length!==0)return tS(ri.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(b){return{field:Wa(b.field),direction:J2(b.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Km(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function X2(r){let e=H2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const b=eS(T);return b instanceof ri&&N0(b)?b.getFilters():[b]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((b=>(function(Q){return new Zl(eo(Q.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(b)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let b;return b=typeof T=="object"?T.value:T,Fh(b)?null:b})(n.limit));let p=null;n.startAt&&(p=(function(T){const b=!!T.before,L=T.values||[];return new Eh(L,b)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const b=!T.before,L=T.values||[];return new Eh(L,b)})(n.endAt)),m2(e,o,f,u,m,"F",p,y)}function $2(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function eS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=eo(n.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=eo(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=eo(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=eo(n.unaryFilter.field);return Nt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Nt.create(eo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ri.create(n.compositeFilter.filters.map((s=>eS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(r):Se(30097,{filter:r})}function J2(r){return U2[r]}function Z2(r){return z2[r]}function W2(r){return j2[r]}function Wa(r){return{fieldPath:r.canonicalString()}}function eo(r){return Xt.fromServerFormat(r.fieldPath)}function tS(r){return r instanceof Nt?(function(n){if(n.op==="=="){if(SE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NAN"}};if(TE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(SE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NAN"}};if(TE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(n.field),op:Z2(n.op),value:n.value}}})(r):r instanceof ri?(function(n){const s=n.getFilters().map((o=>tS(o)));return s.length===1?s[0]:{compositeFilter:{op:W2(n.op),filters:s}}})(r):Se(54877,{filter:r})}function eI(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function nS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ns{constructor(e,n,s,o,u=we.min(),f=we.min(),m=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class tI{constructor(e){this.yt=e}}function nI(r){const e=X2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Qm(e,e.limit,"L"):e}class iI{constructor(){this.Cn=new rI}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(cs.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class rI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new xt(it.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new xt(it.comparator)).toArray()}}const LE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iS=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(iS,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class ho{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ho(0)}static cr(){return new ho(-1)}}const kE="LruGarbageCollector",sI=1048576;function UE([r,e],[n,s]){const o=Le(r,n);return o===0?Le(e,s):o}class aI{constructor(e){this.Ir=e,this.buffer=new xt(UE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();UE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class oI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(kE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){So(n)?ce(kE,"Ignoring IndexedDB error during garbage collection: ",n):await To(n)}await this.Vr(3e5)}))}}class lI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Hh.ce);const s=new aI(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(LE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(y=Date.now(),Ja()<=Pe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function uI(r,e){return new lI(r,e)}class cI{constructor(){this.changes=new aa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class fI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Fl(s.mutation,o,Rn.empty(),ot.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const o=Js();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=kl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Js();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=hr();const f=Hl(),m=(function(){return Hl()})();return n.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof ys)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Fl(E.mutation,y,E.mutation.getFieldMask(),ot.now())):f.set(y.key,Rn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new hI(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Hl();let o=new ht(((f,m)=>f-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Rn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const T=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,T=z0();E.forEach((b=>{if(!u.has(b)){const L=G0(n.get(b),s.get(b));L!==null&&T.set(b,L),u=u.add(b)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,T))}return te.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):x0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(Js());let m=Yl,p=u;return f.next((y=>te.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((b=>{p=p.insert(E,b)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,ke()))).next((E=>({batchId:m,changes:U0(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((s=>{let o=kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=kl();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(p=>{const y=(function(T,b){return new Ao(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((T,b)=>{f=f.insert(T,b)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,en.newInvalidDocument(E)))}));let m=kl();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&Fl(E.mutation,y,Rn.empty(),ot.now()),Yh(n,y)&&(m=m.insert(p,y))})),m}))}}class dI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Mi(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:nI(o.bundledQuery),readTime:Mi(o.readTime)}})(n)),te.resolve()}}class mI{constructor(){this.overlays=new ht(ge.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Js();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=Js(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Js(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Js(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return te.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new M2(n,s));let u=this.qr.get(n);u===void 0&&(u=ke(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class pI{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class Np{constructor(){this.Qr=new xt(Ut.$r),this.Ur=new xt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Ut(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Ut(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ge(new it([])),s=new Ut(n,e),o=new Ut(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new it([])),s=new Ut(n,e),o=new Ut(n,e+1);let u=ke();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Ut(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}class gI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new xt(Ut.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new O2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ut(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Ep:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new xt(Le);return n.forEach((o=>{const u=new Ut(o,0),f=new Ut(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new Ut(new ge(u),0);let m=new xt(Le);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),f),te.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(n.mutations,(o=>{const u=new Ut(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Ut(n,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class yI{constructor(e){this.ri=e,this.docs=(function(){return new ht(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=hr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=hr();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||QC(GC(E),s)<=0||(o.has(E.key)||Yh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Se(9500)}ii(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new _I(this)}getSize(e){return te.resolve(this.size)}}class _I extends cI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class vI{constructor(e){this.persistence=e,this.si=new aa((n=>Ap(n)),bp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Np,this.targetCount=0,this.ai=ho.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ho(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}class rS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Hh(0),this.li=!1,this.li=!0,this.hi=new pI,this.referenceDelegate=e(this),this.Pi=new vI(this),this.indexManager=new iI,this.remoteDocumentCache=(function(o){return new yI(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new tI(n),this.Ii=new dI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new gI(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new EI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class EI extends YC{constructor(e){super(),this.currentSequenceNumber=e}}class Op{constructor(e){this.persistence=e,this.Ri=new Np,this.Vi=null}static mi(e){return new Op(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const o=ge.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class bh{constructor(e,n){this.persistence=e,this.pi=new aa((s=>JC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=uI(this,n)}static mi(e,n){return new bh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,we.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rh(e.data.value)),n}br(e,n,s){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Mp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Mp(e,n.fromCache,s,o)}}class TI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class SI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return pR()?8:XC(tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new TI;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Ja()<=Pe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(Ja()<=Pe.DEBUG&&ce("QueryEngine","Query:",Za(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ja()<=Pe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(n))):te.resolve())}ys(e,n){if(RE(n))return te.resolve(null);let s=Oi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Qm(n,null,"F"),s=Oi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=ke(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.Ds(n,m);return this.Cs(n,y,f,p.readTime)?this.ys(e,Qm(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,s,o){return RE(n)||o.isEqual(we.min())?te.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?te.resolve(null):(Ja()<=Pe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(n)),this.vs(e,f,n,FC(o,Yl)).next((m=>m)))}))}Ds(e,n){let s=new xt(L0(e));return n.forEach(((o,u)=>{Yh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ja()<=Pe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Za(n)),this.ps.getDocumentsMatchingQuery(e,n,cs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Vp="LocalStore",AI=3e8;class bI{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ht(Le),this.xs=new aa((u=>Ap(u)),bp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function wI(r,e,n,s){return new bI(r,e,n,s)}async function sS(r,e){const n=Ce(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=ke();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function RI(r,e){const n=Ce(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const T=y.batch,b=T.keys();let L=te.resolve();return b.forEach((Q=>{L=L.next((()=>E.getEntry(p,Q))).next((Z=>{const G=y.docVersions.get(Q);Ke(G!==null,48541),Z.version.compareTo(G)<0&&(T.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),E.addEntry(Z)))}))})),L.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=ke();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function aS(r){const e=Ce(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function CI(r,e){const n=Ce(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const b=o.get(T);if(!b)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let L=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?L=L.withResumeToken($t.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(T,L),(function(Z,G,ne){return Z.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=AI?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(b,L,E)&&m.push(n.Pi.updateTargetData(u,L))}));let p=hr(),y=ke();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(II(u,f,e.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!s.isEqual(we.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return te.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function II(r,e,n){let s=ke(),o=ke();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=hr();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ce(Vp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function DI(r,e){const n=Ce(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ep),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function NI(r,e){const n=Ce(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new ns(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Jm(r,e,n){const s=Ce(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!So(f))throw f;ce(Vp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function zE(r,e,n){const s=Ce(r);let o=we.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const T=Ce(p),b=T.xs.get(E);return b!==void 0?te.resolve(T.Ms.get(b)):T.Pi.getTargetData(y,E)})(s,f,Oi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?u:ke()))).next((m=>(OI(s,g2(e),m),{documents:m,Qs:u})))))}function OI(r,e,n){let s=r.Os.get(e)||we.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class jE{constructor(){this.activeTargetIds=S2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MI{constructor(){this.Mo=new jE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new jE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class VI{Oo(e){}shutdown(){}}const BE="ConnectivityMonitor";class qE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(BE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(BE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Jc=null;function Zm(){return Jc===null?Jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jc++,"0x"+Jc.toString(16)}const Rm="RestConnection",xI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===_h?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Zm(),m=this.zo(e,n.toUriEncodedString());ce(Rm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),E=_o(y);return this.Jo(e,m,p,s,E).then((T=>(ce(Rm,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw oo(Rm,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Eo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=xI[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class LI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Zt="WebChannelConnection";class kI extends PI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Zm();return new Promise(((m,p)=>{const y=new u0;y.setWithCredentials(!0),y.listenOnce(c0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case ih.NO_ERROR:const T=y.getResponseJson();ce(Zt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case ih.TIMEOUT:ce(Zt,`RPC '${e}' ${f} timed out`),p(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:const b=y.getStatus();if(ce(Zt,`RPC '${e}' ${f} failed with status:`,b,"response text:",y.getResponseText()),b>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const Q=L?.error;if(Q&&Q.status&&Q.message){const Z=(function(ne){const ie=ne.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ie)>=0?ie:J.UNKNOWN})(Q.status);p(new ue(Z,Q.message))}else p(new ue(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ue(J.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ce(Zt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ce(Zt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Zm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=d0(),m=f0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ce(Zt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.I_(T);let b=!1,L=!1;const Q=new LI({Yo:G=>{L?ce(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(b||(ce(Zt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),b=!0),ce(Zt,`RPC '${e}' stream ${o} sending:`,G),T.send(G))},Zo:()=>T.close()}),Z=(G,ne,ie)=>{G.listen(ne,(se=>{try{ie(se)}catch(_e){setTimeout((()=>{throw _e}),0)}}))};return Z(T,Ll.EventType.OPEN,(()=>{L||(ce(Zt,`RPC '${e}' stream ${o} transport opened.`),Q.o_())})),Z(T,Ll.EventType.CLOSE,(()=>{L||(L=!0,ce(Zt,`RPC '${e}' stream ${o} transport closed`),Q.a_(),this.E_(T))})),Z(T,Ll.EventType.ERROR,(G=>{L||(L=!0,oo(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),Q.a_(new ue(J.UNAVAILABLE,"The operation could not be completed")))})),Z(T,Ll.EventType.MESSAGE,(G=>{if(!L){const ne=G.data[0];Ke(!!ne,16349);const ie=ne,se=ie?.error||ie[0]?.error;if(se){ce(Zt,`RPC '${e}' stream ${o} received error:`,se);const _e=se.status;let Ae=(function(w){const C=Dt[w];if(C!==void 0)return K0(C)})(_e),be=se.message;Ae===void 0&&(Ae=J.INTERNAL,be="Unknown error status: "+_e+" with message "+se.message),L=!0,Q.a_(new ue(Ae,be)),T.close()}else ce(Zt,`RPC '${e}' stream ${o} received:`,ne),Q.u_(ne)}})),Z(m,h0.STAT_EVENT,(G=>{G.stat===zm.PROXY?ce(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===zm.NOPROXY&&ce(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Q.__()}),0),Q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Cm(){return typeof document<"u"?document:null}function Zh(r){return new B2(r,!0)}class oS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const HE="PersistentStream";class lS{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new oS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(cr(n.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(HE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(HE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UI extends lS{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=F2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?Mi(f.readTime):we.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=$m(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Fm(p)?{documents:K2(u,p)}:{query:Y2(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=$0(u,f.resumeToken);const y=Km(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=Ah(u,f.snapshotVersion.toTimestamp());const y=Km(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=$2(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=$m(this.serializer),n.removeTarget=e,this.q_(n)}}class zI extends lS{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Q2(e.writeResults,e.commitTime),s=Mi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=$m(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>G2(this.serializer,s)))};this.q_(n)}}class jI{}class BI extends jI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Ym(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(J.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Ym(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class qI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ra="RemoteStore";class HI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{oa(this)&&(ce(ra,"Restarting streams for network reachability change."),await(async function(p){const y=Ce(p);y.Ea.add(4),await cu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Wh(y)})(this))}))})),this.Ra=new qI(s,o)}}async function Wh(r){if(oa(r))for(const e of r.da)await e(!0)}async function cu(r){for(const e of r.da)await e(!1)}function uS(r,e){const n=Ce(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),kp(n)?Lp(n):bo(n).O_()&&Pp(n,e))}function xp(r,e){const n=Ce(r),s=bo(n);n.Ia.delete(e),s.O_()&&cS(n,e),n.Ia.size===0&&(s.O_()?s.L_():oa(n)&&n.Ra.set("Unknown"))}function Pp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bo(r).Y_(e)}function cS(r,e){r.Va.Ue(e),bo(r).Z_(e)}function Lp(r){r.Va=new k2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),bo(r).start(),r.Ra.ua()}function kp(r){return oa(r)&&!bo(r).x_()&&r.Ia.size>0}function oa(r){return Ce(r).Ea.size===0}function hS(r){r.Va=void 0}async function FI(r){r.Ra.set("Online")}async function GI(r){r.Ia.forEach(((e,n)=>{Pp(r,e)}))}async function QI(r,e){hS(r),kp(r)?(r.Ra.ha(e),Lp(r)):r.Ra.set("Unknown")}async function KI(r,e,n){if(r.Ra.set("Online"),e instanceof X0&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){ce(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await wh(r,s)}else if(e instanceof oh?r.Va.Ze(e):e instanceof Y0?r.Va.st(e):r.Va.tt(e),!n.isEqual(we.min()))try{const s=await aS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken($t.EMPTY_BYTE_STRING,E.snapshotVersion)),cS(u,p);const T=new ns(E.target,p,y,E.sequenceNumber);Pp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ce(ra,"Failed to raise snapshot:",s),await wh(r,s)}}async function wh(r,e,n){if(!So(e))throw e;r.Ea.add(1),await cu(r),r.Ra.set("Offline"),n||(n=()=>aS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(ra,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Wh(r)}))}function fS(r,e){return e().catch((n=>wh(r,n,e)))}async function ef(r){const e=Ce(r),n=ms(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ep;for(;YI(e);)try{const o=await DI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,XI(e,o)}catch(o){await wh(e,o)}dS(e)&&mS(e)}function YI(r){return oa(r)&&r.Ta.length<10}function XI(r,e){r.Ta.push(e);const n=ms(r);n.O_()&&n.X_&&n.ea(e.mutations)}function dS(r){return oa(r)&&!ms(r).x_()&&r.Ta.length>0}function mS(r){ms(r).start()}async function $I(r){ms(r).ra()}async function JI(r){const e=ms(r);for(const n of r.Ta)e.ea(n.mutations)}async function ZI(r,e,n){const s=r.Ta.shift(),o=Cp.from(s,e,n);await fS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await ef(r)}async function WI(r,e){e&&ms(r).X_&&await(async function(s,o){if((function(f){return x2(f)&&f!==J.ABORTED})(o.code)){const u=s.Ta.shift();ms(s).B_(),await fS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await ef(s)}})(r,e),dS(r)&&mS(r)}async function FE(r,e){const n=Ce(r);n.asyncQueue.verifyOperationInProgress(),ce(ra,"RemoteStore received new credentials");const s=oa(n);n.Ea.add(3),await cu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Wh(n)}async function eD(r,e){const n=Ce(r);e?(n.Ea.delete(2),await Wh(n)):e||(n.Ea.add(2),await cu(n),n.Ra.set("Unknown"))}function bo(r){return r.ma||(r.ma=(function(n,s,o){const u=Ce(n);return u.sa(),new UI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:FI.bind(null,r),t_:GI.bind(null,r),r_:QI.bind(null,r),H_:KI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),kp(r)?Lp(r):r.Ra.set("Unknown")):(await r.ma.stop(),hS(r))}))),r.ma}function ms(r){return r.fa||(r.fa=(function(n,s,o){const u=Ce(n);return u.sa(),new zI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:$I.bind(null,r),r_:WI.bind(null,r),ta:JI.bind(null,r),na:ZI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await ef(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(ra,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Up{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Up(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zp(r,e){if(cr("AsyncQueue",`${e}: ${r}`),So(r))return new ue(J.UNAVAILABLE,`${e}: ${r}`);throw r}class no{static emptySet(e){return new no(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=kl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof no)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new no;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class GE{constructor(){this.ga=new ht(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class fo{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new fo(e,n,no.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class tD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class nD{constructor(){this.queries=QE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ce(n),u=o.queries;o.queries=QE(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function QE(){return new aa((r=>P0(r)),Kh)}async function jp(r,e){const n=Ce(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new tD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=zp(f,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&qp(n)}async function Bp(r,e){const n=Ce(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function iD(r,e){const n=Ce(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&qp(n)}function rD(r,e,n){const s=Ce(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function qp(r){r.Ca.forEach((e=>{e.next()}))}var Wm,KE;(KE=Wm||(Wm={})).Ma="default",KE.Cache="cache";class Hp{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new fo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wm.Cache}}class pS{constructor(e){this.key=e}}class gS{constructor(e){this.key=e}}class sD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=L0(e),this.tu=new no(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new GE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const b=o.get(E),L=Yh(this.query,T)?T:null,Q=!!b&&this.mutatedKeys.has(b.key),Z=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let G=!1;b&&L?b.data.isEqual(L.data)?Q!==Z&&(s.track({type:3,doc:L}),G=!0):this.su(b,L)||(s.track({type:2,doc:L}),G=!0,(p&&this.eu(L,p)>0||y&&this.eu(L,y)<0)&&(m=!0)):!b&&L?(s.track({type:0,doc:L}),G=!0):b&&!L&&(s.track({type:1,doc:b}),G=!0,(p||y)&&(m=!0)),G&&(L?(f=f.add(L),u=Z?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(L,Q){const Z=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:G})}};return Z(L)-Z(Q)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new fo(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new GE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new gS(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new pS(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Fp="SyncEngine";class aD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class oD{constructor(e){this.key=e,this.hu=!1}}class lD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new aa((m=>P0(m)),Kh),this.Iu=new Map,this.Eu=new Set,this.du=new ht(ge.comparator),this.Au=new Map,this.Ru=new Np,this.Vu={},this.mu=new Map,this.fu=ho.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uD(r,e,n=!0){const s=SS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await yS(s,e,n,!0),o}async function cD(r,e){const n=SS(r);await yS(n,e,!0,!1)}async function yS(r,e,n,s){const o=await NI(r.localStore,Oi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await hD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&uS(r.remoteStore,o),m}async function hD(r,e,n,s,o){r.pu=(T,b,L)=>(async function(Z,G,ne,ie){let se=G.view.ru(ne);se.Cs&&(se=await zE(Z.localStore,G.query,!1).then((({documents:R})=>G.view.ru(R,se))));const _e=ie&&ie.targetChanges.get(G.targetId),Ae=ie&&ie.targetMismatches.get(G.targetId)!=null,be=G.view.applyChanges(se,Z.isPrimaryClient,_e,Ae);return XE(Z,G.targetId,be.au),be.snapshot})(r,T,b,L);const u=await zE(r.localStore,e,!0),f=new sD(e,u.Qs),m=f.ru(u.documents),p=uu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);XE(r,n,y.au);const E=new aD(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function fD(r,e,n){const s=Ce(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Kh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Jm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&xp(s.remoteStore,o.targetId),ep(s,o.targetId)})).catch(To)):(ep(s,o.targetId),await Jm(s.localStore,o.targetId,!0))}async function dD(r,e){const n=Ce(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),xp(n.remoteStore,s.targetId))}async function mD(r,e,n){const s=TD(r);try{const o=await(function(f,m){const p=Ce(f),y=ot.now(),E=m.reduce(((L,Q)=>L.add(Q.key)),ke());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let Q=hr(),Z=ke();return p.Ns.getEntries(L,E).next((G=>{Q=G,Q.forEach(((ne,ie)=>{ie.isValidDocument()||(Z=Z.add(ne))}))})).next((()=>p.localDocuments.getOverlayedDocuments(L,Q))).next((G=>{T=G;const ne=[];for(const ie of m){const se=D2(ie,T.get(ie.key).overlayedDocument);se!=null&&ne.push(new ys(ie.key,se,C0(se.value.mapValue),qn.exists(!0)))}return p.mutationQueue.addMutationBatch(L,y,ne,m)})).next((G=>{b=G;const ne=G.applyToLocalDocumentSet(T,Z);return p.documentOverlayCache.saveOverlays(L,G.batchId,ne)}))})).then((()=>({batchId:b.batchId,changes:U0(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new ht(Le)),y=y.insert(m,p),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await hu(s,o.changes),await ef(s.remoteStore)}catch(o){const u=zp(o,"Failed to persist write");n.reject(u)}}async function _S(r,e){const n=Ce(r);try{const s=await CI(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ke(f.hu,14607):o.removedDocuments.size>0&&(Ke(f.hu,42227),f.hu=!1))})),await hu(n,s,e)}catch(s){await To(s)}}function YE(r,e,n){const s=Ce(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Ce(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,T)=>{for(const b of T.Sa)b.va(m)&&(y=!0)})),y&&qp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function pD(r,e,n){const s=Ce(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ht(ge.comparator);f=f.insert(u,en.newNoDocument(u,we.min()));const m=ke().add(u),p=new Jh(we.min(),new Map,new ht(Le),f,m);await _S(s,p),s.du=s.du.remove(u),s.Au.delete(e),Gp(s)}else await Jm(s.localStore,e,!1).then((()=>ep(s,e,n))).catch(To)}async function gD(r,e){const n=Ce(r),s=e.batch.batchId;try{const o=await RI(n.localStore,e);ES(n,s,null),vS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await hu(n,o)}catch(o){await To(o)}}async function yD(r,e,n){const s=Ce(r);try{const o=await(function(f,m){const p=Ce(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((T=>(Ke(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);ES(s,e,n),vS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await hu(s,o)}catch(o){await To(o)}}function vS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function ES(r,e,n){const s=Ce(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function ep(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||TS(r,s)}))}function TS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(xp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Gp(r))}function XE(r,e,n){for(const s of n)s instanceof pS?(r.Ru.addReference(s.key,e),_D(r,s)):s instanceof gS?(ce(Fp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||TS(r,s.key)):Se(19791,{wu:s})}function _D(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ce(Fp,"New document in limbo: "+n),r.Eu.add(s),Gp(r))}function Gp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ge(it.fromString(e)),s=r.fu.next();r.Au.set(s,new oD(n)),r.du=r.du.insert(n,s),uS(r.remoteStore,new ns(Oi(Qh(n.path)),s,"TargetPurposeLimboResolution",Hh.ce))}}async function hu(r,e,n){const s=Ce(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Mp.As(p.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,y){const E=Ce(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>te.forEach(y,(b=>te.forEach(b.Es,(L=>E.persistence.referenceDelegate.addReference(T,b.targetId,L))).next((()=>te.forEach(b.ds,(L=>E.persistence.referenceDelegate.removeReference(T,b.targetId,L)))))))))}catch(T){if(!So(T))throw T;ce(Vp,"Failed to update sequence numbers: "+T)}for(const T of y){const b=T.targetId;if(!T.fromCache){const L=E.Ms.get(b),Q=L.snapshotVersion,Z=L.withLastLimboFreeSnapshotVersion(Q);E.Ms=E.Ms.insert(b,Z)}}})(s.localStore,u))}async function vD(r,e){const n=Ce(r);if(!n.currentUser.isEqual(e)){ce(Fp,"User change. New user:",e.toKey());const s=await sS(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ue(J.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await hu(n,s.Ls)}}function ED(r,e){const n=Ce(r),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function SS(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=_S.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ED.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pD.bind(null,e),e.Pu.H_=iD.bind(null,e.eventManager),e.Pu.yu=rD.bind(null,e.eventManager),e}function TD(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yD.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return wI(this.persistence,new SI,e.initialUser,this.serializer)}Cu(e){return new rS(Op.mi,this.serializer)}Du(e){return new MI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class SD extends Rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof bh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new oI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new rS((s=>bh.mi(s,n)),this.serializer)}}class tp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>YE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=vD.bind(null,this.syncEngine),await eD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nD})()}createDatastore(e){const n=Zh(e.databaseInfo.databaseId),s=(function(u){return new kI(u)})(e.databaseInfo);return(function(u,f,m,p){return new BI(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new HI(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>YE(this.syncEngine,n,0)),(function(){return qE.v()?new qE:new VI})())}createSyncEngine(e,n){return(function(o,u,f,m,p,y,E){const T=new lD(o,u,f,m,p,y);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ce(n);ce(ra,"RemoteStore shutting down."),s.Ea.add(5),await cu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}tp.provider={build:()=>new tp};class Qp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ps="FirestoreClient";class AD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=vp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ce(ps,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ce(ps,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=zp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Im(r,e){r.asyncQueue.verifyOperationInProgress(),ce(ps,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await sS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function $E(r,e){r.asyncQueue.verifyOperationInProgress();const n=await bD(r);ce(ps,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>FE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>FE(e.remoteStore,o))),r._onlineComponents=e}async function bD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(ps,"Using user provided OfflineComponentProvider");try{await Im(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;oo("Error using user provided cache. Falling back to memory cache: "+n),await Im(r,new Rh)}}else ce(ps,"Using default OfflineComponentProvider"),await Im(r,new SD(void 0));return r._offlineComponents}async function AS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(ps,"Using user provided OnlineComponentProvider"),await $E(r,r._uninitializedComponentsProvider._online)):(ce(ps,"Using default OnlineComponentProvider"),await $E(r,new tp))),r._onlineComponents}function wD(r){return AS(r).then((e=>e.syncEngine))}async function Ch(r){const e=await AS(r),n=e.eventManager;return n.onListen=uD.bind(null,e.syncEngine),n.onUnlisten=fD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dD.bind(null,e.syncEngine),n}function RD(r,e,n={}){const s=new or;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new Qp({next:b=>{E.Nu(),f.enqueueAndForget((()=>Bp(u,T)));const L=b.docs.has(m);!L&&b.fromCache?y.reject(new ue(J.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&b.fromCache&&p&&p.source==="server"?y.reject(new ue(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(b)},error:b=>y.reject(b)}),T=new Hp(Qh(m.path),E,{includeMetadataChanges:!0,qa:!0});return jp(u,T)})(await Ch(r),r.asyncQueue,e,n,s))),s.promise}function CD(r,e,n={}){const s=new or;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new Qp({next:b=>{E.Nu(),f.enqueueAndForget((()=>Bp(u,T))),b.fromCache&&p.source==="server"?y.reject(new ue(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(b)},error:b=>y.reject(b)}),T=new Hp(m,E,{includeMetadataChanges:!0,qa:!0});return jp(u,T)})(await Ch(r),r.asyncQueue,e,n,s))),s.promise}function bS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const JE=new Map;const wS="firestore.googleapis.com",ZE=!0;class WE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wS,this.ssl=ZE}else this.host=e.host,this.ssl=e.ssl??ZE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sI)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new VC;switch(s.type){case"firstParty":return new kC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=JE.get(n);s&&(ce("ComponentProvider","Removing Datastore"),JE.delete(n),s.terminate())})(this),Promise.resolve()}}function ID(r,e,n,s={}){r=pn(r,tf);const o=_o(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(e0(`https://${m}`),t0("Firestore",!0)),u.host!==wS&&u.host!==m&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ta(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Wt.MOCK_USER;else{y=aR(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Wt(T)}r._authCredentials=new xC(new p0(y,E))}}class _s{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new _s(this.firestore,e,this._query)}}class mt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ou(n,mt._jsonSchema))return new mt(e,s||null,new ge(it.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:Ot("string",mt._jsonSchemaVersion),referencePath:Ot("string")};class ls extends _s{constructor(e,n,s){super(e,n,Qh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new ge(e))}withConverter(e){return new ls(this.firestore,e,this._path)}}function Di(r,e,...n){if(r=zt(r),g0("collection","path",e),r instanceof tf){const s=it.fromString(e,...n);return fE(s),new ls(r,null,s)}{if(!(r instanceof mt||r instanceof ls))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return fE(s),new ls(r.firestore,null,s)}}function Jr(r,e,...n){if(r=zt(r),arguments.length===1&&(e=vp.newId()),g0("doc","path",e),r instanceof tf){const s=it.fromString(e,...n);return hE(s),new mt(r,null,new ge(s))}{if(!(r instanceof mt||r instanceof ls))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return hE(s),new mt(r.firestore,r instanceof ls?r.converter:null,new ge(s))}}const eT="AsyncQueue";class tT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oS(this,"async_queue_retry"),this._c=()=>{const s=Cm();s&&ce(eT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new or;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!So(e))throw e;ce(eT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,cr("INTERNAL UNHANDLED ERROR: ",nT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Up.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:nT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function nT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function iT(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class fr extends tf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new tT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tT(e),this._firestoreClient=void 0,await e}}}function DD(r,e){const n=typeof r=="object"?r:s0(),s=typeof r=="string"?r:_h,o=yp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=rR("firestore");u&&ID(o,...u)}return o}function nf(r){if(r._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ND(r),r._firestoreClient}function ND(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new e2(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,bS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new AD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn($t.fromBase64String(e))}catch(n){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ou(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Ot("string",Bn._jsonSchemaVersion),bytes:Ot("string")};class rf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Kp{constructor(e){this._methodName=e}}class Vi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(e){if(ou(e,Vi._jsonSchema))return new Vi(e.latitude,e.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Ot("string",Vi._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class xi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ou(e,xi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new xi(e.vectorValues);throw new ue(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xi._jsonSchemaVersion="firestore/vectorValue/1.0",xi._jsonSchema={type:Ot("string",xi._jsonSchemaVersion),vectorValues:Ot("object")};const OD=/^__.*__$/;class MD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ys(e,this.data,this.fieldMask,n,this.fieldTransforms):new lu(e,this.data,n,this.fieldTransforms)}}class RS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ys(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function CS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:r})}}class Yp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Yp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ih(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(CS(this.Ac)&&OD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class VD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Zh(e)}Cc(e,n,s,o=!1){return new Yp({Ac:e,methodName:n,Dc:s,path:Xt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sf(r){const e=r._freezeSettings(),n=Zh(r._databaseId);return new VD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function IS(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Xp("Data must be an object, but it was:",f,s);const m=DS(s,f);let p,y;if(u.merge)p=new Rn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const b=np(e,T,n);if(!f.contains(b))throw new ue(J.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);OS(E,b)||E.push(b)}p=new Rn(E),y=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=f.fieldTransforms;return new MD(new mn(m),p,y)}class af extends Kp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof af}}function xD(r,e,n,s){const o=r.Cc(1,e,n);Xp("Data must be an object, but it was:",o,s);const u=[],f=mn.empty();gs(s,((p,y)=>{const E=$p(e,p,n);y=zt(y);const T=o.yc(E);if(y instanceof af)u.push(E);else{const b=fu(y,T);b!=null&&(u.push(E),f.set(E,b))}}));const m=new Rn(u);return new RS(f,m,o.fieldTransforms)}function PD(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[np(e,s,n)],p=[o];if(u.length%2!=0)throw new ue(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(np(e,u[b])),p.push(u[b+1]);const y=[],E=mn.empty();for(let b=m.length-1;b>=0;--b)if(!OS(y,m[b])){const L=m[b];let Q=p[b];Q=zt(Q);const Z=f.yc(L);if(Q instanceof af)y.push(L);else{const G=fu(Q,Z);G!=null&&(y.push(L),E.set(L,G))}}const T=new Rn(y);return new RS(E,T,f.fieldTransforms)}function LD(r,e,n,s=!1){return fu(n,r.Cc(s?4:3,e))}function fu(r,e){if(NS(r=zt(r)))return Xp("Unsupported field value:",e,r),DS(r,e);if(r instanceof Kp)return(function(s,o){if(!CS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=fu(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=zt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return A2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ot.fromDate(s);return{timestampValue:Ah(o.serializer,u)}}if(s instanceof ot){const u=new ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ah(o.serializer,u)}}if(s instanceof Vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bn)return{bytesValue:$0(o.serializer,s._byteString)};if(s instanceof mt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Dp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof xi)return(function(f,m){return{mapValue:{fields:{[w0]:{stringValue:R0},[vh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return wp(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${qh(s)}`)})(r,e)}function DS(r,e){const n={};return v0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(r,((s,o)=>{const u=fu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function NS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ot||r instanceof Vi||r instanceof Bn||r instanceof mt||r instanceof Kp||r instanceof xi)}function Xp(r,e,n){if(!NS(n)||!y0(n)){const s=qh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function np(r,e,n){if((e=zt(e))instanceof rf)return e._internalPath;if(typeof e=="string")return $p(r,e);throw Ih("Field path arguments must be of type string or ",r,!1,void 0,n)}const kD=new RegExp("[~\\*/\\[\\]]");function $p(r,e,n){if(e.search(kD)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new rf(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ih(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ue(J.INVALID_ARGUMENT,m+r+p)}function OS(r,e){return r.some((n=>n.isEqual(e)))}class MS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class UD extends MS{data(){return super.data()}}function Jp(r,e){return typeof e=="string"?$p(r,e):e instanceof rf?e._internalPath:e._delegate._internalPath}function VS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zp{}class xS extends Zp{}function zD(r,e,...n){let s=[];e instanceof Zp&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof eg)).length,m=u.filter((p=>p instanceof Wp)).length;if(f>1||f>0&&m>0)throw new ue(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Wp extends xS{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Wp(e,n,s)}_apply(e){const n=this._parse(e);return PS(e._query,n),new _s(e.firestore,e.converter,Gm(e._query,n))}_parse(e){const n=sf(e.firestore);return(function(u,f,m,p,y,E,T){let b;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){aT(T,E);const Q=[];for(const Z of T)Q.push(sT(p,u,Z));b={arrayValue:{values:Q}}}else b=sT(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||aT(T,E),b=LD(m,f,T,E==="in"||E==="not-in");return Nt.create(y,E,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class eg extends Zp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new eg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ri.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)PS(f,p),f=Gm(f,p)})(e._query,n),new _s(e.firestore,e.converter,Gm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class tg extends xS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new tg(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zl(u,f)})(e._query,this._field,this._direction);return new _s(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new Ao(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function rT(r,e="asc"){const n=e,s=Jp("orderBy",r);return tg._create(s,n)}function sT(r,e,n){if(typeof(n=zt(n))=="string"){if(n==="")throw new ue(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!x0(e)&&n.indexOf("/")!==-1)throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!ge.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return EE(r,new ge(s))}if(n instanceof mt)return EE(r,n._key);throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qh(n)}.`)}function aT(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PS(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jD{convertValue(e,n="none"){switch(ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return gs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[vh].arrayValue?.values?.map((s=>vt(s.doubleValue)));return new xi(n)}convertGeoPoint(e){return new Vi(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Gh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const n=hs(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);Ke(nS(s),9688,{name:e});const o=new $l(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||cr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function LS(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ws extends MS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Jp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ws._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ws._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ws._jsonSchema={type:Ot("string",Ws._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class lh extends Ws{data(e={}){return super.data(e)}}class ea{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new zl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new lh(this._firestore,this._userDataWriter,s.key,s,new zl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new lh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new lh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:BD(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ea._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function BD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:r})}}function qD(r){r=pn(r,mt);const e=pn(r.firestore,fr);return RD(nf(e),r._key).then((n=>US(e,r,n)))}ea._jsonSchemaVersion="firestore/querySnapshot/1.0",ea._jsonSchema={type:Ot("string",ea._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class ng extends jD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function Zc(r){r=pn(r,_s);const e=pn(r.firestore,fr),n=nf(e),s=new ng(e);return VS(r._query),CD(n,r._query).then((o=>new ea(e,s,r,o)))}function HD(r,e,n){r=pn(r,mt);const s=pn(r.firestore,fr),o=LS(r.converter,e);return of(s,[IS(sf(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,qn.none())])}function oT(r,e,n,...s){r=pn(r,mt);const o=pn(r.firestore,fr),u=sf(o);let f;return f=typeof(e=zt(e))=="string"||e instanceof rf?PD(u,"updateDoc",r._key,e,n,s):xD(u,"updateDoc",r._key,e),of(o,[f.toMutation(r._key,qn.exists(!0))])}function Dm(r){return of(pn(r.firestore,fr),[new Rp(r._key,qn.none())])}function uh(r,e){const n=pn(r.firestore,fr),s=Jr(r),o=LS(r.converter,e);return of(n,[IS(sf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,qn.exists(!1))]).then((()=>s))}function kS(r,...e){r=zt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||iT(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(iT(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(r instanceof mt)f=pn(r.firestore,fr),m=Qh(r._key.path),u={next:p=>{e[s]&&e[s](US(f,r,p))},error:e[s+1],complete:e[s+2]};else{const p=pn(r,_s);f=pn(p.firestore,fr),m=p._query;const y=new ng(f);u={next:E=>{e[s]&&e[s](new ea(f,y,p,E))},error:e[s+1],complete:e[s+2]},VS(r._query)}return(function(y,E,T,b){const L=new Qp(b),Q=new Hp(E,L,T);return y.asyncQueue.enqueueAndForget((async()=>jp(await Ch(y),Q))),()=>{L.Nu(),y.asyncQueue.enqueueAndForget((async()=>Bp(await Ch(y),Q)))}})(nf(f),m,o,u)}function of(r,e){return(function(s,o){const u=new or;return s.asyncQueue.enqueueAndForget((async()=>mD(await wD(s),o,u))),u.promise})(nf(r),e)}function US(r,e,n){const s=n.docs.get(e._key),o=new ng(r);return new Ws(r,o,e._key,s,new zl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Eo=o})(vo),ao(new na("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new fr(new PC(s.getProvider("auth-internal")),new UC(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),as(oE,lE,e),as(oE,lE,"esm2020")})();var FD="firebase",GD="12.7.0";as(FD,GD,"app");function zS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QD=zS,jS=new su("auth","Firebase",zS());const Dh=new pp("@firebase/auth");function KD(r,...e){Dh.logLevel<=Pe.WARN&&Dh.warn(`Auth (${vo}): ${r}`,...e)}function ch(r,...e){Dh.logLevel<=Pe.ERROR&&Dh.error(`Auth (${vo}): ${r}`,...e)}function si(r,...e){throw ig(r,...e)}function Pi(r,...e){return ig(r,...e)}function BS(r,e,n){const s={...QD(),[e]:n};return new su("auth","Firebase",s).create(e,{appName:r.name})}function us(r){return BS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ig(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return jS.create(r,...e)}function Te(r,e,...n){if(!r)throw ig(e,...n)}function rr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ch(e),new Error(e)}function dr(r,e){r||rr(e)}function ip(){return typeof self<"u"&&self.location?.href||""}function YD(){return lT()==="http:"||lT()==="https:"}function lT(){return typeof self<"u"&&self.location?.protocol||null}function XD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YD()||fR()||"connection"in navigator)?navigator.onLine:!0}function $D(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class du{constructor(e,n){this.shortDelay=e,this.longDelay=n,dr(n>e,"Short delay should be less than long delay!"),this.isMobile=uR()||dR()}get(){return XD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rg(r,e){dr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class qS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const JD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ZD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WD=new du(3e4,6e4);function la(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function vs(r,e,n,s,o={}){return HS(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=au({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:p,...u};return hR()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&_o(r.emulatorConfig.host)&&(y.credentials="include"),qS.fetch()(await FS(r,r.config.apiHost,n,m),y)})}async function HS(r,e,n){r._canInitEmulator=!1;const s={...JD,...e};try{const o=new tN(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Wc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Wc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Wc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw BS(r,E,y);si(r,E)}}catch(o){if(o instanceof pr)throw o;si(r,"network-request-failed",{message:String(o)})}}async function lf(r,e,n,s,o={}){const u=await vs(r,e,n,s,o);return"mfaPendingCredential"in u&&si(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function FS(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?rg(r.config,o):`${r.config.apiScheme}://${o}`;return ZD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function eN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Pi(this.auth,"network-request-failed")),WD.get())})}}function Wc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Pi(r,e,s);return o.customData._tokenResponse=n,o}function uT(r){return r!==void 0&&r.enterprise!==void 0}class nN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return eN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function iN(r,e){return vs(r,"GET","/v2/recaptchaConfig",la(r,e))}async function rN(r,e){return vs(r,"POST","/v1/accounts:delete",e)}async function Nh(r,e){return vs(r,"POST","/v1/accounts:lookup",e)}function Gl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sN(r,e=!1){const n=zt(r),s=await n.getIdToken(e),o=sg(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Gl(Nm(o.auth_time)),issuedAtTime:Gl(Nm(o.iat)),expirationTime:Gl(Nm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Nm(r){return Number(r)*1e3}function sg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=$T(n);return o?JSON.parse(o):(ch("Failed to decode base64 JWT payload"),null)}catch(o){return ch("Caught error parsing JWT payload as JSON",o?.toString()),null}}function cT(r){const e=sg(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function tu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof pr&&aN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function aN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class oN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Oh(r){const e=r.auth,n=await r.getIdToken(),s=await tu(r,Nh(e,{idToken:n}));Te(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?GS(o.providerUserInfo):[],f=uN(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new rp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function lN(r){const e=zt(r);await Oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uN(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function GS(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function cN(r,e){const n=await HS(r,{},async()=>{const s=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await FS(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&_o(r.emulatorConfig.host)&&(p.credentials="include"),qS.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hN(r,e){return vs(r,"POST","/v2/accounts:revokeToken",la(r,e))}class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=cT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await cN(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new io;return s&&(Te(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return rr("not implemented")}}function $r(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ii{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new oN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await tu(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sN(this,e)}reload(){return lN(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Oh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(us(this.auth));const e=await this.getIdToken();return await tu(this,rN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:b,isAnonymous:L,providerData:Q,stsTokenManager:Z}=n;Te(T&&Z,e,"internal-error");const G=io.fromJSON(this.name,Z);Te(typeof T=="string",e,"internal-error"),$r(s,e.name),$r(o,e.name),Te(typeof b=="boolean",e,"internal-error"),Te(typeof L=="boolean",e,"internal-error"),$r(u,e.name),$r(f,e.name),$r(m,e.name),$r(p,e.name),$r(y,e.name),$r(E,e.name);const ne=new ii({uid:T,auth:e,email:o,emailVerified:b,displayName:s,isAnonymous:L,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:G,createdAt:y,lastLoginAt:E});return Q&&Array.isArray(Q)&&(ne.providerData=Q.map(ie=>({...ie}))),p&&(ne._redirectEventId=p),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new io;o.updateFromServerResponse(n);const u=new ii({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Oh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?GS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new io;m.updateFromIdToken(s);const p=new ii({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new rp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const hT=new Map;function sr(r){dr(r instanceof Function,"Expected a class definition");let e=hT.get(r);return e?(dr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,hT.set(r,e),e)}class QS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}QS.type="NONE";const fT=QS;function hh(r,e,n){return`firebase:${r}:${e}:${n}`}class ro{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=hh(this.userKey,o.apiKey,u),this.fullPersistenceKey=hh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Nh(this.auth,{idToken:e}).catch(()=>{});return n?ii._fromGetAccountInfoResponse(this.auth,n,e):null}return ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ro(sr(fT),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||sr(fT);const f=hh(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let T;if(typeof E=="string"){const b=await Nh(e,{idToken:E}).catch(()=>{});if(!b)break;T=await ii._fromGetAccountInfoResponse(e,b,E)}else T=ii._fromJSON(e,E);y!==u&&(m=T),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ro(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new ro(u,e,s))}}function dT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($S(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZS(e))return"Blackberry";if(WS(e))return"Webos";if(YS(e))return"Safari";if((e.includes("chrome/")||XS(e))&&!e.includes("edge/"))return"Chrome";if(JS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function KS(r=tn()){return/firefox\//i.test(r)}function YS(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XS(r=tn()){return/crios\//i.test(r)}function $S(r=tn()){return/iemobile/i.test(r)}function JS(r=tn()){return/android/i.test(r)}function ZS(r=tn()){return/blackberry/i.test(r)}function WS(r=tn()){return/webos/i.test(r)}function ag(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function fN(r=tn()){return ag(r)&&!!window.navigator?.standalone}function dN(){return mR()&&document.documentMode===10}function eA(r=tn()){return ag(r)||JS(r)||WS(r)||ZS(r)||/windows phone/i.test(r)||$S(r)}function tA(r,e=[]){let n;switch(r){case"Browser":n=dT(tn());break;case"Worker":n=`${dT(tn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vo}/${s}`}class mN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function pN(r,e={}){return vs(r,"GET","/v2/passwordPolicy",la(r,e))}const gN=6;class yN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??gN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class _N{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mT(this),this.idTokenSubscription=new mT(this),this.beforeStateQueue=new mN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ro.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nh(this,{idToken:e}),s=await ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ni(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$D()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ni(this.app))return Promise.reject(us(this));const n=e?zt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ni(this.app)?Promise.reject(us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pN(this),n=new yN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new su("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await hN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&sr(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await ro.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&KD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function wo(r){return zt(r)}class mT{constructor(e){this.auth=e,this.observer=null,this.addObserver=SR(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let uf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vN(r){uf=r}function nA(r){return uf.loadJS(r)}function EN(){return uf.recaptchaEnterpriseScript}function TN(){return uf.gapiScript}function SN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class AN{constructor(){this.enterprise=new bN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class bN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const wN="recaptcha-enterprise",iA="NO_RECAPTCHA";class RN{constructor(e){this.type=wN,this.auth=wo(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{iN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new nN(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;uT(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(iA)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AN().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&uT(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=EN();p.length!==0&&(p+=m),nA(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function pT(r,e,n,s=!1,o=!1){const u=new RN(r);let f;if(o)f=iA;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function gT(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await pT(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await pT(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function CN(r,e){const n=yp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ta(u,e??{}))return o;si(o,"already-initialized")}return n.initialize({options:e})}function IN(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(sr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function DN(r,e,n){const s=wo(r);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=rA(e),{host:f,port:m}=NN(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(ta(y,s.config.emulator)&&ta(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,_o(f)?(e0(`${u}//${f}${p}`),t0("Auth",!0)):ON()}function rA(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function NN(r){const e=rA(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:yT(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:yT(f)}}}function yT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function ON(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class og{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rr("not implemented")}_getIdTokenResponse(e){return rr("not implemented")}_linkToIdToken(e,n){return rr("not implemented")}_getReauthenticationResolver(e){return rr("not implemented")}}async function MN(r,e){return vs(r,"POST","/v1/accounts:signUp",e)}async function VN(r,e){return lf(r,"POST","/v1/accounts:signInWithPassword",la(r,e))}async function xN(r,e){return lf(r,"POST","/v1/accounts:signInWithEmailLink",la(r,e))}async function PN(r,e){return lf(r,"POST","/v1/accounts:signInWithEmailLink",la(r,e))}class nu extends og{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new nu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new nu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gT(e,n,"signInWithPassword",VN);case"emailLink":return xN(e,{email:this._email,oobCode:this._password});default:si(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gT(e,s,"signUpPassword",MN);case"emailLink":return PN(e,{idToken:n,email:this._email,oobCode:this._password});default:si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function so(r,e){return lf(r,"POST","/v1/accounts:signInWithIdp",la(r,e))}const LN="http://localhost";class sa extends og{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new sa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return so(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,so(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,so(e,n)}buildRequest(){const e={requestUri:LN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=au(n)}return e}}function kN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UN(r){const e=xl(Pl(r)).link,n=e?xl(Pl(e)).deep_link_id:null,s=xl(Pl(r)).deep_link_id;return(s?xl(Pl(s)).link:null)||s||n||e||r}class lg{constructor(e){const n=xl(Pl(e)),s=n.apiKey??null,o=n.oobCode??null,u=kN(n.mode??null);Te(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=UN(e);try{return new lg(n)}catch{return null}}}class Ro{constructor(){this.providerId=Ro.PROVIDER_ID}static credential(e,n){return nu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=lg.parseLink(n);return Te(s,"argument-error"),nu._fromEmailAndCode(e,s.code,s.tenantId)}}Ro.PROVIDER_ID="password";Ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class sA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class mu extends sA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zr extends mu{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";class Wr extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sa._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";class es extends mu{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.GITHUB_SIGN_IN_METHOD="github.com";es.PROVIDER_ID="github.com";class ts extends mu{constructor(){super("twitter.com")}static credential(e,n){return sa._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ts.credential(n,s)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";class mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ii._fromIdTokenResponse(e,s,o),f=_T(s);return new mo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=_T(s);return new mo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function _T(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Mh extends pr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Mh(e,n,s,o)}}function aA(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(r,u,e,s):u})}async function zN(r,e,n=!1){const s=await tu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return mo._forOperation(r,"link",s)}async function jN(r,e,n=!1){const{auth:s}=r;if(ni(s.app))return Promise.reject(us(s));const o="reauthenticate";try{const u=await tu(r,aA(s,o,e,r),n);Te(u.idToken,s,"internal-error");const f=sg(u.idToken);Te(f,s,"internal-error");const{sub:m}=f;return Te(r.uid===m,s,"user-mismatch"),mo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&si(s,"user-mismatch"),u}}async function oA(r,e,n=!1){if(ni(r.app))return Promise.reject(us(r));const s="signIn",o=await aA(r,s,e),u=await mo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function BN(r,e){return oA(wo(r),e)}async function qN(r){const e=wo(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function HN(r,e,n){return ni(r.app)?Promise.reject(us(r)):BN(zt(r),Ro.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&qN(r),s})}function FN(r,e,n,s){return zt(r).onIdTokenChanged(e,n,s)}function GN(r,e,n){return zt(r).beforeAuthStateChanged(e,n)}function QN(r,e,n,s){return zt(r).onAuthStateChanged(e,n,s)}const Vh="__sak";class lA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const KN=1e3,YN=10;class uA extends lA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);dN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,YN):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},KN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}uA.type="LOCAL";const XN=uA;class cA extends lA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cA.type="SESSION";const hA=cA;function $N(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class cf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new cf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await $N(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cf.receivers=[];function ug(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class JN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=ug("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===y)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Li(){return window}function ZN(r){Li().location.href=r}function fA(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function WN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eO(){return navigator?.serviceWorker?.controller||null}function tO(){return fA()?self:null}const dA="firebaseLocalStorageDb",nO=1,xh="firebaseLocalStorage",mA="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hf(r,e){return r.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function iO(){const r=indexedDB.deleteDatabase(dA);return new pu(r).toPromise()}function sp(){const r=indexedDB.open(dA,nO);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(xh,{keyPath:mA})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(xh)?e(s):(s.close(),await iO(),e(await sp()))})})}async function vT(r,e,n){const s=hf(r,!0).put({[mA]:e,value:n});return new pu(s).toPromise()}async function rO(r,e){const n=hf(r,!1).get(e),s=await new pu(n).toPromise();return s===void 0?null:s.value}function ET(r,e){const n=hf(r,!0).delete(e);return new pu(n).toPromise()}const sO=800,aO=3;class pA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>aO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cf._getInstance(tO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await WN(),!this.activeServiceWorker)return;this.sender=new JN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sp();return await vT(e,Vh,"1"),await ET(e,Vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>vT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>rO(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ET(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=hf(o,!1).getAll();return new pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pA.type="LOCAL";const oO=pA;new du(3e4,6e4);function lO(r,e){return e?sr(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class cg extends og{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return so(e,this._buildIdpRequest())}_linkToIdToken(e,n){return so(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return so(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uO(r){return oA(r.auth,new cg(r),r.bypassAuthState)}function cO(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),jN(n,new cg(r),r.bypassAuthState)}async function hO(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),zN(n,new cg(r),r.bypassAuthState)}class gA{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uO;case"linkViaPopup":case"linkViaRedirect":return hO;case"reauthViaPopup":case"reauthViaRedirect":return cO;default:si(this.auth,"internal-error")}}resolve(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fO=new du(2e3,1e4);class to extends gA{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){dr(this.filter.length===1,"Popup operations only handle one event");const e=ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fO.get())};e()}}to.currentPopupAction=null;const dO="pendingRedirect",fh=new Map;class mO extends gA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=fh.get(this.auth._key());if(!e){try{const s=await pO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}fh.set(this.auth._key(),e)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pO(r,e){const n=_O(e),s=yO(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function gO(r,e){fh.set(r._key(),e)}function yO(r){return sr(r._redirectPersistence)}function _O(r){return hh(dO,r.config.apiKey,r.name)}async function vO(r,e,n=!1){if(ni(r.app))return Promise.reject(us(r));const s=wo(r),o=lO(s,e),f=await new mO(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const EO=600*1e3;class TO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!yA(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Pi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EO&&this.cachedEventUids.clear(),this.cachedEventUids.has(TT(e))}saveEventToCache(e){this.cachedEventUids.add(TT(e)),this.lastProcessedEventTime=Date.now()}}function TT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function yA({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function SO(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yA(r);default:return!1}}async function AO(r,e={}){return vs(r,"GET","/v1/projects",e)}const bO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wO=/^https?/;async function RO(r){if(r.config.emulator)return;const{authorizedDomains:e}=await AO(r);for(const n of e)try{if(CO(n))return}catch{}si(r,"unauthorized-domain")}function CO(r){const e=ip(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!wO.test(n))return!1;if(bO.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const IO=new du(3e4,6e4);function ST(){const r=Li().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function DO(r){return new Promise((e,n)=>{function s(){ST(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ST(),n(Pi(r,"network-request-failed"))},timeout:IO.get()})}if(Li().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Li().gapi?.load)s();else{const o=SN("iframefcb");return Li()[o]=()=>{gapi.load?s():n(Pi(r,"network-request-failed"))},nA(`${TN()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw dh=null,e})}let dh=null;function NO(r){return dh=dh||DO(r),dh}const OO=new du(5e3,15e3),MO="__/auth/iframe",VO="emulator/auth/iframe",xO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LO(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?rg(e,VO):`https://${r.config.authDomain}/${MO}`,s={apiKey:e.apiKey,appName:r.name,v:vo},o=PO.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${au(s).slice(1)}`}async function kO(r){const e=await NO(r),n=Li().gapi;return Te(n,r,"internal-error"),e.open({where:document.body,url:LO(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Pi(r,"network-request-failed"),m=Li().setTimeout(()=>{u(f)},OO.get());function p(){Li().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const UO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zO=500,jO=600,BO="_blank",qO="http://localhost";class AT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HO(r,e,n,s=zO,o=jO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...UO,width:s.toString(),height:o.toString(),top:u,left:f},y=tn().toLowerCase();n&&(m=XS(y)?BO:n),KS(y)&&(e=e||qO,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[L,Q])=>`${b}${L}=${Q},`,"");if(fN(y)&&m!=="_self")return FO(e||"",m),new AT(null);const T=window.open(e||"",m,E);Te(T,r,"popup-blocked");try{T.focus()}catch{}return new AT(T)}function FO(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const GO="__/auth/handler",QO="emulator/auth/handler",KO=encodeURIComponent("fac");async function bT(r,e,n,s,o,u){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:vo,eventId:o};if(e instanceof sA){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",TR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof mu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${KO}=${encodeURIComponent(p)}`:"";return`${YO(r)}?${au(m).slice(1)}${y}`}function YO({config:r}){return r.emulator?rg(r,QO):`https://${r.authDomain}/${GO}`}const Om="webStorageSupport";class XO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hA,this._completeRedirectFn=vO,this._overrideRedirectResult=gO}async _openPopup(e,n,s,o){dr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await bT(e,n,s,ip(),o);return HO(e,u,ug())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await bT(e,n,s,ip(),o);return ZN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(dr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await kO(e),s=new TO(e);return n.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Om,{type:Om},o=>{const u=o?.[0]?.[Om];u!==void 0&&n(!!u),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return eA()||YS()||ag()}}const $O=XO;var wT="@firebase/auth",RT="1.12.0";class JO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ZO(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WO(r){ao(new na("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Te(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tA(r)},y=new _N(s,o,u,p);return IN(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ao(new na("auth-internal",e=>{const n=wo(e.getProvider("auth").getImmediate());return(s=>new JO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(wT,RT,ZO(r)),as(wT,RT,"esm2020")}const e4=300,t4=WT("authIdTokenMaxAge")||e4;let CT=null;const n4=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>t4)return;const o=n?.token;CT!==o&&(CT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function i4(r=s0()){const e=yp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=CN(r,{popupRedirectResolver:$O,persistence:[oO,XN,hA]}),s=WT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=n4(u.toString());GN(n,f,()=>f(n.currentUser)),FN(n,m=>f(m))}}const o=JT("auth");return o&&DN(n,`http://${o}`),n}function r4(){return document.getElementsByTagName("head")?.[0]??document}vN({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Pi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",r4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WO("Browser");const s4={apiKey:"AIzaSyAbUXBuqMXnaTZKBVQ-NO6KvZ0rKFwpBhA",authDomain:"fabim-barber.firebaseapp.com",projectId:"fabim-barber",storageBucket:"fabim-barber.firebasestorage.app",messagingSenderId:"769232328010",appId:"1:769232328010:web:897f7b36deeb0d98001db3"},_A=r0(s4),Qt=DD(_A),vA=i4(_A),EA=j.createContext();function TA({children:r}){const[e,n]=j.useState(null),[s,o]=j.useState(!0);return j.useEffect(()=>{const u=QN(vA,f=>{n(f),o(!1)});return()=>u()},[]),q.jsx(EA.Provider,{value:{user:e,loading:s},children:r})}function a4(){return j.useContext(EA)}const is={cabelo:{nome:"Cabelo",duracao:40,preco:25},barba:{nome:"Barba",duracao:20,preco:15},sobrancelha:{nome:"Sobrancelha",duracao:0,preco:15}};class gu{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const o4=()=>{if(!(typeof localStorage>"u"))return{get:r=>Promise.resolve(localStorage.getItem(r)),set:(r,e)=>Promise.resolve(localStorage.setItem(r,e)),remove:r=>Promise.resolve(localStorage.removeItem(r))}},Yt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:o4()},hg=r=>r?typeof r=="string"?{publicKey:r}:r.toString()==="[object Object]"?r:{}:{},l4=(r,e="https://api.emailjs.com")=>{if(!r)return;const n=hg(r);Yt.publicKey=n.publicKey,Yt.blockHeadless=n.blockHeadless,Yt.storageProvider=n.storageProvider,Yt.blockList=n.blockList,Yt.limitRate=n.limitRate,Yt.origin=n.origin||e},SA=async(r,e,n={})=>{const s=await fetch(Yt.origin+r,{method:"POST",headers:n,body:e}),o=await s.text(),u=new gu(s.status,o);if(s.ok)return u;throw u},AA=(r,e,n)=>{if(!r||typeof r!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},u4=r=>{if(r&&r.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},bA=r=>r.webdriver||!r.languages||r.languages.length===0,wA=()=>new gu(451,"Unavailable For Headless Browser"),c4=(r,e)=>{if(!Array.isArray(r))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},h4=r=>!r.list?.length||!r.watchVariable,f4=(r,e)=>r instanceof FormData?r.get(e):r[e],RA=(r,e)=>{if(h4(r))return!1;c4(r.list,r.watchVariable);const n=f4(e,r.watchVariable);return typeof n!="string"?!1:r.list.includes(n)},CA=()=>new gu(403,"Forbidden"),d4=(r,e)=>{if(typeof r!="number"||r<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},m4=async(r,e,n)=>{const s=Number(await n.get(r)||0);return e-Date.now()+s},IA=async(r,e,n)=>{if(!e.throttle||!n)return!1;d4(e.throttle,e.id);const s=e.id||r;return await m4(s,e.throttle,n)>0?!0:(await n.set(s,Date.now().toString()),!1)},DA=()=>new gu(429,"Too Many Requests"),p4=async(r,e,n,s)=>{const o=hg(s),u=o.publicKey||Yt.publicKey,f=o.blockHeadless||Yt.blockHeadless,m=o.storageProvider||Yt.storageProvider,p={...Yt.blockList,...o.blockList},y={...Yt.limitRate,...o.limitRate};return f&&bA(navigator)?Promise.reject(wA()):(AA(u,r,e),u4(n),n&&RA(p,n)?Promise.reject(CA()):await IA(location.pathname,y,m)?Promise.reject(DA()):SA("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:u,service_id:r,template_id:e,template_params:n}),{"Content-type":"application/json"}))},g4=r=>{if(!r||r.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},y4=r=>typeof r=="string"?document.querySelector(r):r,_4=async(r,e,n,s)=>{const o=hg(s),u=o.publicKey||Yt.publicKey,f=o.blockHeadless||Yt.blockHeadless,m=Yt.storageProvider||o.storageProvider,p={...Yt.blockList,...o.blockList},y={...Yt.limitRate,...o.limitRate};if(f&&bA(navigator))return Promise.reject(wA());const E=y4(n);AA(u,r,e),g4(E);const T=new FormData(E);return RA(p,T)?Promise.reject(CA()):await IA(location.pathname,y,m)?Promise.reject(DA()):(T.append("lib_version","4.4.1"),T.append("service_id",r),T.append("template_id",e),T.append("user_id",u),SA("/api/v1.0/email/send-form",T))},v4={init:l4,send:p4,sendForm:_4,EmailJSResponseStatus:gu};async function E4(r){try{return await v4.send("service_rgpx6bj","template_41pgl19",{nome:r.nome,data:r.data,inicio:r.inicio,fim:r.fim,servicos:r.servicos,total:r.total},"jbCsTepqCcSv5fZAI"),!0}catch(e){return console.error("Erro ao enviar e-mail:",e),!1}}function T4({onSubmit:r,gerarHorarios:e}){const[n,s]=j.useState(""),[o,u]=j.useState(""),[f,m]=j.useState(null),[p,y]=j.useState([]),[E,T]=j.useState(!1),[b,L]=j.useState(!1),[Q,Z]=j.useState("");function G(){L(!1)}function ne(O){y(N=>N.includes(O)?N.filter(x=>x!==O):[...N,O])}const ie=j.useMemo(()=>p.reduce((O,N)=>O+(is[N]?.duracao||0),0),[p]),{totalFinal:se,descontoAplicado:_e}=j.useMemo(()=>{let O=p.reduce((K,oe)=>K+(is[oe]?.preco||0),0);const N=p.map(K=>is[K]?.nome?.toLowerCase()),x=N.includes("cabelo"),I=N.includes("barba"),Je=N.includes("sobrancelha");let rt=0;return x&&I&&Je&&(rt=5,O-=rt),{totalFinal:O,descontoAplicado:rt}},[p]),Ae=j.useMemo(()=>!o||p.length===0?[]:e({data:o,servicosSelecionados:p}),[o,p,e]),be=Ae.filter(O=>O.inicioMinutos<720),R=Ae.filter(O=>O.inicioMinutos>=840);async function w(O){if(O.preventDefault(),!n||!o||!f||p.length===0){Z("Por favor, preencha todos os campos."),L(!0);return}if(T(!0),await r({nome:n,data:o,servicos:p,inicio:f.inicio,fim:f.fim,inicioMinutos:f.inicioMinutos,fimMinutos:f.fimMinutos,status:"ativo",valorTotal:se})===!1){T(!1),Z("Esse horrio no comporta os servios selecionados."),L(!0);return}await E4({nome:n,data:o,inicio:f.inicio,fim:f.fim,servicos:p.join(", "),total:se}),T(!1),s(""),u(""),m(null),y([]),Z(`
Agendamento confirmado com sucesso!

Total: R$ ${se}

Pedimos que chegue 5 minutos antes do horrio marcado.

Qualquer dvida, fale conosco:
    `),L(!0)}function C(O,N){return N.length===0?null:q.jsxs(q.Fragment,{children:[q.jsx("h3",{className:"periodo-titulo",children:O}),q.jsx("div",{className:"horarios-grid",children:N.map(x=>q.jsxs("button",{type:"button",className:`horario-btn ${f?.inicioMinutos===x.inicioMinutos?"ativo":""}`,onClick:()=>m(x),children:[q.jsxs("span",{children:["incio: ",q.jsx("span",{className:"inicio",children:x.inicio})]}),q.jsxs("span",{children:["fim: ",q.jsx("span",{className:"fim",children:x.fim})]})]},x.inicioMinutos))})]})}return q.jsxs("div",{className:"form-container",children:[b&&q.jsx("div",{className:"modal-overlay",children:q.jsxs("div",{className:"modal-box",children:[q.jsx("p",{style:{whiteSpace:"pre-line"},children:Q}),q.jsxs("div",{className:"modal-links",children:[q.jsx("a",{href:"https://wa.me/5584999999999",target:"_blank",rel:"noreferrer",children:"WhatsApp"}),q.jsx("a",{href:"https://instagram.com/seuinstagram",target:"_blank",rel:"noreferrer",children:"Instagram"})]}),q.jsx("button",{onClick:G,className:"modal-btn",children:"OK"})]})}),q.jsxs("form",{onSubmit:w,className:"form-box",children:[q.jsx("h2",{children:"Agendar horrio"}),q.jsx("input",{type:"text",placeholder:"Nome",value:n,onChange:O=>s(O.target.value),required:!0}),q.jsx("input",{type:"date",value:o,onChange:O=>{u(O.target.value),m(null)},required:!0}),q.jsxs("div",{className:"servicos-box",children:[q.jsx("p",{children:"Selecione os servios:"}),Object.entries(is).map(([O,N])=>q.jsxs("label",{className:`servico-item ${p.includes(O)?"checked":""}`,children:[q.jsxs("span",{children:[N.nome,"  ",N.preco," Reais"]}),q.jsx("input",{type:"checkbox",checked:p.includes(O),onChange:()=>ne(O)})]},O))]}),p.length>0&&q.jsxs("div",{className:"resumo-preco",children:[_e>0&&q.jsxs("p",{className:"desconto-info",children:["Desconto aplicado: -R$ ",_e]}),q.jsxs("h3",{children:["Total: R$ ",se]})]}),q.jsxs("div",{className:"horarios-box",children:[q.jsx("p",{children:"Horrios disponveis:"}),!o||ie===0?q.jsx("p",{className:"horario-info",children:"Selecione data e servios"}):Ae.length===0?q.jsx("p",{className:"horario-info",children:"Nenhum horrio disponvel"}):q.jsxs(q.Fragment,{children:[C("Manh",be),C("Tarde",R)]})]}),q.jsx("button",{type:"submit",disabled:E,children:E?"Salvando...":"Agendar"})]})]})}function S4({lista:r=[]}){function e(){const u=new Date;return u.setHours(0,0,0,0),[{label:"Hoje",data:u.toISOString().split("T")[0]},{label:"Amanh",data:new Date(u.getTime()+864e5).toISOString().split("T")[0]},{label:"Depois de amanh",data:new Date(u.getTime()+2*864e5).toISOString().split("T")[0]}]}const n=e();function s(u){return r.filter(f=>f.data===u&&(f.status==="ativo"||f.status==="bloqueado")).filter(f=>f.inicioMinutos!==void 0).sort((f,m)=>f.inicioMinutos-m.inicioMinutos)}const o=n.some(u=>s(u.data).length>0);return q.jsxs("div",{className:"banner",children:[q.jsx("p",{children:"Prximos horrios"}),o?n.map(u=>{const f=s(u.data);return q.jsxs("div",{className:"bloco-dia",children:[q.jsx("h3",{className:"titulo-dia",children:u.label}),f.length===0?q.jsx("p",{className:"dia-vazio",children:"Sem horrios"}):q.jsx("ul",{className:"lista",children:f.map(m=>{const p=(m.servicos||[]).map(y=>is[y]?.nome).filter(Boolean).join("  ");return q.jsxs("li",{className:"item",children:[q.jsxs("div",{className:"info",children:[q.jsx("span",{className:"nome",children:m.nome}),p&&q.jsx("span",{className:"servicos",children:p})]}),q.jsxs("span",{className:"hora",children:[q.jsx("span",{className:"hora-inicio",children:m.inicio})," - ",q.jsx("span",{className:"hora-fim",children:m.fim})]}),q.jsx("span",{className:"status",children:""})]},m.id)})})]},u.data)}):q.jsx("p",{className:"banner-vazio",children:"Nenhum horrio agendado para os prximos dias."})]})}var NA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IT=Zs.createContext&&Zs.createContext(NA),A4=["attr","size","title"];function b4(r,e){if(r==null)return{};var n=w4(r,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function w4(r,e){if(r==null)return{};var n={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;n[s]=r[s]}return n}function Ph(){return Ph=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Ph.apply(this,arguments)}function DT(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,s)}return n}function Lh(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DT(Object(n),!0).forEach(function(s){R4(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):DT(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function R4(r,e,n){return e=C4(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function C4(r){var e=I4(r,"string");return typeof e=="symbol"?e:e+""}function I4(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function OA(r){return r&&r.map((e,n)=>Zs.createElement(e.tag,Lh({key:n},e.attr),OA(e.child)))}function fg(r){return e=>Zs.createElement(D4,Ph({attr:Lh({},r.attr)},e),OA(r.child))}function D4(r){var e=n=>{var{attr:s,size:o,title:u}=r,f=b4(r,A4),m=o||n.size||"1em",p;return n.className&&(p=n.className),r.className&&(p=(p?p+" ":"")+r.className),Zs.createElement("svg",Ph({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:p,style:Lh(Lh({color:r.color||n.color},n.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Zs.createElement("title",null,u),r.children)};return IT!==void 0?Zs.createElement(IT.Consumer,null,n=>e(n)):e(NA)}function N4(r){return fg({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(r)}function O4(r){return fg({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(r)}function M4(r){return fg({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(r)}function V4(){return q.jsxs("footer",{className:"footer",children:[q.jsxs("div",{className:"footer-left",children:[" ",new Date().getFullYear()," Fbim Barbearia"]}),q.jsxs("div",{className:"footer-links",children:[q.jsx("a",{href:"https://wa.me/5584987411833",target:"_blank",rel:"noreferrer","aria-label":"WhatsApp",children:q.jsx(O4,{className:"whatsapp"})}),q.jsx("a",{href:"https://www.instagram.com/fabim_barbearia?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==",target:"_blank",rel:"noreferrer","aria-label":"Instagram",children:q.jsx(N4,{className:"insta"})}),q.jsx(mp,{to:"/admin","aria-label":"Painel Admin",className:"footer-admin",children:q.jsx(M4,{className:"admin"})})]})]})}function x4(){return q.jsx("header",{className:"header-bar",children:q.jsx("h1",{className:"header-title",children:"Fabim Barbearia"})})}function P4(r){const[e,n]=r.split(":").map(Number);return e*60+n}function kh(r){const e=Math.floor(r/60),n=r%60;return`${String(e).padStart(2,"0")}:${String(n).padStart(2,"0")}`}function L4(){const[r,e]=j.useState([]),[n,s]=j.useState(!1),[o,u]=j.useState(!1),[f,m]=j.useState(""),[p,y]=j.useState(""),[E,T]=j.useState({tipo:"",mensagem:""}),[b,L]=j.useState(!1),[Q,Z]=j.useState(""),[G,ne]=j.useState(null),[ie,se]=j.useState(!1);function _e(Y,re){Z(Y),ne(()=>re),L(!0)}function Ae(){G&&G(),L(!1)}function be(){L(!1)}function R(Y,re){T({tipo:Y,mensagem:re}),setTimeout(()=>{T({tipo:"",mensagem:""})},2500)}function w(Y){const re=new Date;return re.setHours(0,0,0,0),new Date(Y+"T00:00:00")<re}j.useEffect(()=>{const Y=zD(Di(Qt,"agendamentos"),rT("data"),rT("inicioMinutos")),re=kS(Y,fe=>{const ye=fe.docs.map(Ee=>({id:Ee.id,...Ee.data()}));e(ye)});return()=>re()},[]),j.useEffect(()=>{async function Y(){const re=new Date;re.setHours(0,0,0,0),(await Zc(Di(Qt,"agendamentos"))).forEach(async ye=>{const Ee=ye.data();if(!Ee.data)return;const gn=new Date(Ee.data+"T00:00:00")<re,ai=Ee.status==="cancelado"||Ee.status==="bloqueado";gn&&ai&&await Dm(Jr(Qt,"agendamentos",ye.id))})}Y()},[r]),j.useEffect(()=>{async function Y(){const re=await qD(Jr(Qt,"configuracoes","geral"));re.exists()&&u(re.data().segundaOff||!1)}Y()},[]);async function C(){const Y=!o;u(Y),await HD(Jr(Qt,"configuracoes","geral"),{segundaOff:Y,merge:!0}),Y?(await O(),R("info","Segundas bloqueadas automaticamente")):(await N(),R("info","Segundas reativadas"))}async function O(){const Y=new Date;Y.setHours(0,0,0,0);for(let re=0;re<180;re++){const fe=new Date(Y);if(fe.setDate(Y.getDate()+re),fe.getDay()===1){const ye=fe.toISOString().split("T")[0];await uh(Di(Qt,"agendamentos"),{nome:"SEGUNDA OFF",data:ye,inicio:"00:00",fim:"23:59",inicioMinutos:0,fimMinutos:1440,status:"bloqueado",automatico:!0})}}}async function N(){(await Zc(Di(Qt,"agendamentos"))).forEach(async re=>{const fe=re.data();fe.automatico===!0&&fe.nome==="SEGUNDA OFF"&&await Dm(Jr(Qt,"agendamentos",re.id))})}async function x(Y,re){await oT(Jr(Qt,"agendamentos",Y),{status:re}),R("success",`Status alterado para ${re}`)}async function I(){const Y=new Date;Y.setHours(0,0,0,0),(await Zc(Di(Qt,"agendamentos"))).forEach(async fe=>{const ye=fe.data().data,Ee=fe.data().status;if(!ye||Ee==="finalizado")return;new Date(ye+"T00:00:00")<Y&&await oT(Jr(Qt,"agendamentos",fe.id),{status:"finalizado"})}),R("success","Dias passados finalizados")}async function Je(){if(!f||!p){R("error","Selecione data e horrio");return}const Y=P4(p),re=Y+60;await uh(Di(Qt,"agendamentos"),{nome:"HORRIO BLOQUEADO",data:f,inicio:p,fim:kh(re),inicioMinutos:Y,fimMinutos:re,status:"bloqueado"}),R("success",`Horrio bloqueado das ${p} at ${kh(re)}`),m(""),y("")}async function rt(){if(!f){R("error","Selecione uma data");return}await uh(Di(Qt,"agendamentos"),{nome:"DIA BLOQUEADO",data:f,inicio:"00:00",fim:"23:59",inicioMinutos:0,fimMinutos:1440,status:"bloqueado"}),R("success",`Dia ${f} bloqueado com sucesso`),m("")}async function K(Y){(await Zc(Di(Qt,"agendamentos"))).forEach(async fe=>{const ye=fe.data();ye.data===Y&&ye.nome==="DIA BLOQUEADO"&&ye.status==="bloqueado"&&await Dm(Jr(Qt,"agendamentos",fe.id))}),R("success",`Dia ${Y} desbloqueado com sucesso`)}const me=r.filter(Y=>!(!n&&w(Y.data)||!ie&&Y.status==="finalizado")).reduce((Y,re)=>(Y[re.data]||(Y[re.data]=[]),Y[re.data].push(re),Y),{});function Ue(){const Y=new Date,re=Y.getMonth(),fe=Y.getFullYear();let ye=0;return r.forEach(Ee=>{if(Ee.status!=="finalizado")return;const qe=new Date(Ee.data+"T00:00:00");if(qe.getMonth()===re&&qe.getFullYear()===fe){const gn=(Ee.servicos||[]).reduce((ai,gr)=>ai+(is[gr]?.preco||0),0);ye+=gn}}),ye}const Be=Ue(),V=r.filter(Y=>{const re=new Date().toISOString().split("T")[0];return Y.data===re&&Y.status==="ativo"}).length,W=r.filter(Y=>Y.status==="ativo").length,le=r.filter(Y=>Y.status==="cancelado").length;return q.jsxs("div",{className:"admin-container",children:[E.mensagem&&q.jsx("div",{className:`admin-feedback ${E.tipo}`,children:E.mensagem}),q.jsx("h1",{className:"admin-title",children:"Painel de Administrao"}),q.jsxs("div",{className:"dashboard-cards",children:[q.jsxs("div",{className:"card",children:[q.jsx("h3",{children:"Agendamentos Hoje"}),q.jsx("strong",{children:V})]}),q.jsxs("div",{className:"card",children:[q.jsx("h3",{children:"Agendamentos Ativos"}),q.jsx("strong",{children:W})]}),q.jsxs("div",{className:"card",children:[q.jsx("h3",{children:"Cancelados"}),q.jsx("strong",{children:le})]}),q.jsxs("div",{className:"card",children:[q.jsx("h3",{children:"Faturamento do Ms"}),q.jsxs("strong",{children:["R$ ",Be.toFixed(2)]})]})]}),q.jsxs("div",{className:"admin-top-controls",children:[q.jsxs("label",{className:"admin-checkbox",children:[q.jsx("input",{type:"checkbox",checked:n,onChange:Y=>s(Y.target.checked)}),"Mostrar dias passados"]}),q.jsx("button",{className:"admin-btn",onClick:()=>se(!ie),children:ie?"Ocultar Finalizados":"Mostrar Finalizados"}),q.jsxs("div",{className:"segunda-control",children:[q.jsx("span",{children:"Segunda-feira:"}),q.jsx("button",{className:`admin-btn ${o?"cancel":"finish"}`,onClick:()=>_e("Tem certeza que deseja desativar a segunda-feira?",C),children:o?"OFF (Fechado)":"ON (Aberto)"})]}),q.jsx("button",{className:"admin-clean-btn",onClick:()=>_e("Tem certeza que deseja finalizar os dias passados?",I),children:"Finalizar dias passados"})]}),q.jsx("p",{className:"bloq-manual",children:"Bloqueio Manual de Horrio"}),q.jsxs("div",{className:"admin-bloqueio",children:[q.jsx("input",{type:"date",value:f,onChange:Y=>m(Y.target.value),className:"admin-input"}),q.jsx("input",{type:"time",value:p,onChange:Y=>y(Y.target.value),className:"admin-input"}),q.jsx("button",{className:"admin-btn bloquear",onClick:()=>_e("Tem certeza que deseja bloquear este horrio?",Je),children:"Bloquear 1 hora"}),q.jsx("button",{className:"admin-btn cancel",onClick:()=>_e("Tem certeza que deseja bloquear o dia inteiro?",rt),children:"Bloquear Dia Inteiro"})]}),Object.keys(me).length===0&&q.jsx("p",{className:"admin-empty",children:"Nenhum agendamento encontrado."}),Object.entries(me).map(([Y,re])=>{const ye=new Date(Y+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long"});return q.jsxs("div",{className:"admin-dia",children:[q.jsxs("h2",{className:"admin-data",children:[Y,"  ",ye]}),re.map(Ee=>{const qe=(Ee.servicos||[]).map(gn=>is[gn]?.nome).filter(Boolean).join("  ");return q.jsxs("div",{className:`admin-item status-${Ee.status}`,children:[q.jsxs("div",{className:"admin-info",children:[q.jsx("strong",{children:Ee.nome}),q.jsxs("span",{className:"admin-horario",children:[Ee.inicio," - ",Ee.fim]}),qe&&q.jsx("span",{className:"admin-servicos",children:qe}),q.jsx("span",{className:`status-badge ${Ee.status}`,children:Ee.status})]}),q.jsxs("div",{className:"admin-actions",children:[Ee.status==="ativo"&&q.jsxs(q.Fragment,{children:[q.jsx("button",{className:"admin-btn cancel",onClick:()=>_e("Tem certeza que deseja cancelar este agendamento?",()=>x(Ee.id,"cancelado")),children:"Cancelar"}),q.jsx("button",{className:"admin-btn finish",onClick:()=>_e("Tem certeza que deseja finalizar este agendamento?",()=>x(Ee.id,"finalizado")),children:"Finalizar"})]}),Ee.status==="cancelado"&&q.jsx("button",{className:"admin-btn reativar",onClick:()=>_e("Tem certeza que deseja reativar este agendamento?",()=>x(Ee.id,"ativo")),children:"Reativar"}),Ee.nome==="DIA BLOQUEADO"&&q.jsx("button",{className:"admin-btn reativar",onClick:()=>_e("Tem certeza que deseja desbloquear este dia inteiro?",()=>K(Ee.data)),children:"Desbloquear Dia"})]})]},Ee.id)})]},Y)}),q.jsxs("div",{className:"faturamento-box",children:[q.jsx("h2",{children:"Faturamento Mensal Atual"}),q.jsxs("strong",{children:["R$ ",Be.toFixed(2)]})]}),b&&q.jsx("div",{className:"admin-modal-overlay",children:q.jsxs("div",{className:"admin-modal",children:[q.jsx("h3",{children:"Confirmar ao"}),q.jsx("p",{children:Q}),q.jsxs("div",{className:"admin-modal-actions",children:[q.jsx("button",{className:"admin-btn cancel",onClick:be,children:"Cancelar"}),q.jsx("button",{className:"admin-btn finish",onClick:Ae,children:"Confirmar"})]})]})})]})}function k4(){const[r,e]=j.useState(""),[n,s]=j.useState(""),o=zh();async function u(f){f.preventDefault();try{await HN(vA,r,n),o("/admin")}catch{alert("Email ou senha invlidos")}}return q.jsx("div",{className:"login-container",children:q.jsxs("div",{className:"login-box",children:[q.jsx("h1",{className:"login-title",children:"Login Admin"}),q.jsxs("form",{className:"login-form",onSubmit:u,children:[q.jsx("input",{className:"login-input",type:"email",placeholder:"Email",value:r,onChange:f=>e(f.target.value),required:!0}),q.jsx("input",{className:"login-input",type:"password",placeholder:"Senha",value:n,onChange:f=>s(f.target.value),required:!0}),q.jsx("button",{className:"login-btn",type:"submit",children:"Entrar"})]})]})})}function U4({children:r}){const{user:e,loading:n}=a4();return n?null:e?r:q.jsx(mw,{to:"/login",replace:!0})}const z4=480,j4=1200,B4=20,q4=5,H4=720,F4=840;function G4(r){return new Date(r+"T00:00:00").getDay()===0}function Q4(r){return new Date(r+"T00:00:00").getDay()===1}function K4(r=[]){return r.reduce((e,n)=>e+(is[n]?.duracao||0),0)}function Y4({data:r,agendamentos:e=[],servicosSelecionados:n=[],segundaFechada:s=!1}){if(!r)return[];if(s&&Q4(r))return[];const o=K4(n);if(!o)return[];const u=G4(r),f=z4,m=u?720:j4,p=[];for(let y=f;y+o<=m;y+=B4){const E=y+o;y<F4&&E>H4||e.some(b=>{const L=b.inicioMinutos,Q=b.fimMinutos+q4;return y<Q&&E>L})||(y-f)%o===0&&p.push({inicioMinutos:y,fimMinutos:E,inicio:kh(y),fim:kh(E)})}return p}function X4(){const r=zh(),e=mr();return j.useEffect(()=>{const s=new URLSearchParams(e.search).get("redirect");s&&r(s,{replace:!0})},[r,e]),null}function $4(){const[r,e]=j.useState([]);j.useEffect(()=>{const o=kS(Di(Qt,"agendamentos"),u=>{const f=u.docs.map(m=>({id:m.id,...m.data()}));e(f)});return()=>o()},[]);const n=j.useCallback(({data:o,servicosSelecionados:u})=>{const f=r.filter(m=>m.data===o&&(m.status==="ativo"||m.status==="bloqueado"));return Y4({data:o,servicosSelecionados:u,agendamentos:f,segundaFechada:!1})},[r]);async function s(o){return r.some(f=>f.data===o.data&&f.status!=="cancelado"&&!(o.fimMinutos<=f.inicioMinutos||o.inicioMinutos>=f.fimMinutos))?!1:(await uh(Di(Qt,"agendamentos"),{...o,status:"ativo"}),!0)}return q.jsx(TA,{children:q.jsxs(jw,{basename:"/fabimBarbearia",children:[q.jsx(X4,{}),q.jsxs(gw,{children:[q.jsx(eh,{path:"/",element:q.jsxs(q.Fragment,{children:[q.jsx(x4,{}),q.jsx(S4,{lista:r}),q.jsx(T4,{onSubmit:s,gerarHorarios:n}),q.jsx(V4,{})]})}),q.jsx(eh,{path:"/login",element:q.jsx(k4,{})}),q.jsx(eh,{path:"/admin",element:q.jsx(U4,{children:q.jsx(L4,{})})})]})]})})}_b.createRoot(document.getElementById("root")).render(q.jsx(j.StrictMode,{children:q.jsx(TA,{children:q.jsx($4,{})})}));
