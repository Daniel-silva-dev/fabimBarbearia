(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function $1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var am={exports:{}},Dl={};var Iv;function J1(){if(Iv)return Dl;Iv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Dl.Fragment=t,Dl.jsx=n,Dl.jsxs=n,Dl}var Dv;function Z1(){return Dv||(Dv=1,am.exports=J1()),am.exports}var K=Z1(),om={exports:{}},bt={};var Nv;function W1(){if(Nv)return bt;Nv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function x(I){return I===null||typeof I!="object"?null:(I=w&&I[w]||I["@@iterator"],typeof I=="function"?I:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,G={};function et(I,Q,rt){this.props=I,this.context=Q,this.refs=G,this.updater=rt||F}et.prototype.isReactComponent={},et.prototype.setState=function(I,Q){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Q,"setState")},et.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function nt(){}nt.prototype=et.prototype;function ot(I,Q,rt){this.props=I,this.context=Q,this.refs=G,this.updater=rt||F}var Rt=ot.prototype=new nt;Rt.constructor=ot,Z(Rt,et.prototype),Rt.isPureReactComponent=!0;var _t=Array.isArray;function Tt(){}var R={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(I,Q,rt){var it=rt.ref;return{$$typeof:r,type:I,key:Q,ref:it!==void 0?it:null,props:rt}}function V(I,Q){return C(I.type,Q,I.props)}function M(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function L(I){var Q={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(rt){return Q[rt]})}var D=/\/+/g;function Wt(I,Q){return typeof I=="object"&&I!==null&&I.key!=null?L(""+I.key):Q.toString(36)}function de(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(Tt,Tt):(I.status="pending",I.then(function(Q){I.status==="pending"&&(I.status="fulfilled",I.value=Q)},function(Q){I.status==="pending"&&(I.status="rejected",I.reason=Q)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function Y(I,Q,rt,it,gt){var St=typeof I;(St==="undefined"||St==="boolean")&&(I=null);var Mt=!1;if(I===null)Mt=!0;else switch(St){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(I.$$typeof){case r:case t:Mt=!0;break;case E:return Mt=I._init,Y(Mt(I._payload),Q,rt,it,gt)}}if(Mt)return gt=gt(I),Mt=it===""?"."+Wt(I,0):it,_t(gt)?(rt="",Mt!=null&&(rt=Mt.replace(D,"$&/")+"/"),Y(gt,Q,rt,"",function(ds){return ds})):gt!=null&&(M(gt)&&(gt=V(gt,rt+(gt.key==null||I&&I.key===gt.key?"":(""+gt.key).replace(D,"$&/")+"/")+Mt)),Q.push(gt)),1;Mt=0;var me=it===""?".":it+":";if(_t(I))for(var se=0;se<I.length;se++)it=I[se],St=me+Wt(it,se),Mt+=Y(it,Q,rt,St,gt);else if(se=x(I),typeof se=="function")for(I=se.call(I),se=0;!(it=I.next()).done;)it=it.value,St=me+Wt(it,se++),Mt+=Y(it,Q,rt,St,gt);else if(St==="object"){if(typeof I.then=="function")return Y(de(I),Q,rt,it,gt);throw Q=String(I),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function lt(I,Q,rt){if(I==null)return I;var it=[],gt=0;return Y(I,it,"","",function(St){return Q.call(rt,St,gt++)}),it}function dt(I){if(I._status===-1){var Q=I._result;Q=Q(),Q.then(function(rt){(I._status===0||I._status===-1)&&(I._status=1,I._result=rt)},function(rt){(I._status===0||I._status===-1)&&(I._status=2,I._result=rt)}),I._status===-1&&(I._status=0,I._result=Q)}if(I._status===1)return I._result.default;throw I._result}var kt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},st={map:lt,forEach:function(I,Q,rt){lt(I,function(){Q.apply(this,arguments)},rt)},count:function(I){var Q=0;return lt(I,function(){Q++}),Q},toArray:function(I){return lt(I,function(Q){return Q})||[]},only:function(I){if(!M(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return bt.Activity=T,bt.Children=st,bt.Component=et,bt.Fragment=n,bt.Profiler=o,bt.PureComponent=ot,bt.StrictMode=s,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,bt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return R.H.useMemoCache(I)}},bt.cache=function(I){return function(){return I.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(I,Q,rt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var it=Z({},I.props),gt=I.key;if(Q!=null)for(St in Q.key!==void 0&&(gt=""+Q.key),Q)!b.call(Q,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Q.ref===void 0||(it[St]=Q[St]);var St=arguments.length-2;if(St===1)it.children=rt;else if(1<St){for(var Mt=Array(St),me=0;me<St;me++)Mt[me]=arguments[me+2];it.children=Mt}return C(I.type,gt,it)},bt.createContext=function(I){return I={$$typeof:f,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:u,_context:I},I},bt.createElement=function(I,Q,rt){var it,gt={},St=null;if(Q!=null)for(it in Q.key!==void 0&&(St=""+Q.key),Q)b.call(Q,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(gt[it]=Q[it]);var Mt=arguments.length-2;if(Mt===1)gt.children=rt;else if(1<Mt){for(var me=Array(Mt),se=0;se<Mt;se++)me[se]=arguments[se+2];gt.children=me}if(I&&I.defaultProps)for(it in Mt=I.defaultProps,Mt)gt[it]===void 0&&(gt[it]=Mt[it]);return C(I,St,gt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(I){return{$$typeof:m,render:I}},bt.isValidElement=M,bt.lazy=function(I){return{$$typeof:E,_payload:{_status:-1,_result:I},_init:dt}},bt.memo=function(I,Q){return{$$typeof:y,type:I,compare:Q===void 0?null:Q}},bt.startTransition=function(I){var Q=R.T,rt={};R.T=rt;try{var it=I(),gt=R.S;gt!==null&&gt(rt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Tt,kt)}catch(St){kt(St)}finally{Q!==null&&rt.types!==null&&(Q.types=rt.types),R.T=Q}},bt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},bt.use=function(I){return R.H.use(I)},bt.useActionState=function(I,Q,rt){return R.H.useActionState(I,Q,rt)},bt.useCallback=function(I,Q){return R.H.useCallback(I,Q)},bt.useContext=function(I){return R.H.useContext(I)},bt.useDebugValue=function(){},bt.useDeferredValue=function(I,Q){return R.H.useDeferredValue(I,Q)},bt.useEffect=function(I,Q){return R.H.useEffect(I,Q)},bt.useEffectEvent=function(I){return R.H.useEffectEvent(I)},bt.useId=function(){return R.H.useId()},bt.useImperativeHandle=function(I,Q,rt){return R.H.useImperativeHandle(I,Q,rt)},bt.useInsertionEffect=function(I,Q){return R.H.useInsertionEffect(I,Q)},bt.useLayoutEffect=function(I,Q){return R.H.useLayoutEffect(I,Q)},bt.useMemo=function(I,Q){return R.H.useMemo(I,Q)},bt.useOptimistic=function(I,Q){return R.H.useOptimistic(I,Q)},bt.useReducer=function(I,Q,rt){return R.H.useReducer(I,Q,rt)},bt.useRef=function(I){return R.H.useRef(I)},bt.useState=function(I){return R.H.useState(I)},bt.useSyncExternalStore=function(I,Q,rt){return R.H.useSyncExternalStore(I,Q,rt)},bt.useTransition=function(){return R.H.useTransition()},bt.version="19.2.2",bt}var Ov;function np(){return Ov||(Ov=1,om.exports=W1()),om.exports}var B=np();const Ks=$1(B);var lm={exports:{}},Nl={},um={exports:{}},cm={};var Mv;function tb(){return Mv||(Mv=1,(function(r){function t(Y,lt){var dt=Y.length;Y.push(lt);t:for(;0<dt;){var kt=dt-1>>>1,st=Y[kt];if(0<o(st,lt))Y[kt]=lt,Y[dt]=st,dt=kt;else break t}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var lt=Y[0],dt=Y.pop();if(dt!==lt){Y[0]=dt;t:for(var kt=0,st=Y.length,I=st>>>1;kt<I;){var Q=2*(kt+1)-1,rt=Y[Q],it=Q+1,gt=Y[it];if(0>o(rt,dt))it<st&&0>o(gt,rt)?(Y[kt]=gt,Y[it]=dt,kt=it):(Y[kt]=rt,Y[Q]=dt,kt=Q);else if(it<st&&0>o(gt,dt))Y[kt]=gt,Y[it]=dt,kt=it;else break t}}return lt}function o(Y,lt){var dt=Y.sortIndex-lt.sortIndex;return dt!==0?dt:Y.id-lt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,T=null,w=3,x=!1,F=!1,Z=!1,G=!1,et=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function Rt(Y){for(var lt=n(y);lt!==null;){if(lt.callback===null)s(y);else if(lt.startTime<=Y)s(y),lt.sortIndex=lt.expirationTime,t(p,lt);else break;lt=n(y)}}function _t(Y){if(Z=!1,Rt(Y),!F)if(n(p)!==null)F=!0,Tt||(Tt=!0,L());else{var lt=n(y);lt!==null&&de(_t,lt.startTime-Y)}}var Tt=!1,R=-1,b=5,C=-1;function V(){return G?!0:!(r.unstable_now()-C<b)}function M(){if(G=!1,Tt){var Y=r.unstable_now();C=Y;var lt=!0;try{t:{F=!1,Z&&(Z=!1,nt(R),R=-1),x=!0;var dt=w;try{e:{for(Rt(Y),T=n(p);T!==null&&!(T.expirationTime>Y&&V());){var kt=T.callback;if(typeof kt=="function"){T.callback=null,w=T.priorityLevel;var st=kt(T.expirationTime<=Y);if(Y=r.unstable_now(),typeof st=="function"){T.callback=st,Rt(Y),lt=!0;break e}T===n(p)&&s(p),Rt(Y)}else s(p);T=n(p)}if(T!==null)lt=!0;else{var I=n(y);I!==null&&de(_t,I.startTime-Y),lt=!1}}break t}finally{T=null,w=dt,x=!1}lt=void 0}}finally{lt?L():Tt=!1}}}var L;if(typeof ot=="function")L=function(){ot(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Wt=D.port2;D.port1.onmessage=M,L=function(){Wt.postMessage(null)}}else L=function(){et(M,0)};function de(Y,lt){R=et(function(){Y(r.unstable_now())},lt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var lt=3;break;default:lt=w}var dt=w;w=lt;try{return Y()}finally{w=dt}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function(Y,lt){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var dt=w;w=Y;try{return lt()}finally{w=dt}},r.unstable_scheduleCallback=function(Y,lt,dt){var kt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?kt+dt:kt):dt=kt,Y){case 1:var st=-1;break;case 2:st=250;break;case 5:st=1073741823;break;case 4:st=1e4;break;default:st=5e3}return st=dt+st,Y={id:E++,callback:lt,priorityLevel:Y,startTime:dt,expirationTime:st,sortIndex:-1},dt>kt?(Y.sortIndex=dt,t(y,Y),n(p)===null&&Y===n(y)&&(Z?(nt(R),R=-1):Z=!0,de(_t,dt-kt))):(Y.sortIndex=st,t(p,Y),F||x||(F=!0,Tt||(Tt=!0,L()))),Y},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(Y){var lt=w;return function(){var dt=w;w=lt;try{return Y.apply(this,arguments)}finally{w=dt}}}})(cm)),cm}var Vv;function eb(){return Vv||(Vv=1,um.exports=tb()),um.exports}var hm={exports:{}},Xe={};var xv;function nb(){if(xv)return Xe;xv=1;var r=np();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xe.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,E)},Xe.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Xe.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Xe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xe.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,x=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:x}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:x,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xe.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Xe.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xe.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Xe.requestFormReset=function(p){s.d.r(p)},Xe.unstable_batchedUpdates=function(p,y){return p(y)},Xe.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Xe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xe.version="19.2.2",Xe}var Pv;function ib(){if(Pv)return hm.exports;Pv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),hm.exports=nb(),hm.exports}var Lv;function rb(){if(Lv)return Nl;Lv=1;var r=eb(),t=np(),n=ib();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),nt=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),Rt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Tt=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function Wt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case et:return"Profiler";case G:return"StrictMode";case _t:return"Suspense";case Tt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case F:return"Portal";case ot:return e.displayName||"Context";case nt:return(e._context.displayName||"Context")+".Consumer";case Rt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return i=e.displayName||null,i!==null?i:Wt(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return Wt(e(i))}catch{}}return null}var de=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},kt=[],st=-1;function I(e){return{current:e}}function Q(e){0>st||(e.current=kt[st],kt[st]=null,st--)}function rt(e,i){st++,kt[st]=e.current,e.current=i}var it=I(null),gt=I(null),St=I(null),Mt=I(null);function me(e,i){switch(rt(St,i),rt(gt,e),rt(it,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?J_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=J_(i),e=Z_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(it),rt(it,e)}function se(){Q(it),Q(gt),Q(St)}function ds(e){e.memoizedState!==null&&rt(Mt,e);var i=it.current,a=Z_(i,e.type);i!==a&&(rt(gt,e),rt(it,a))}function ra(e){gt.current===e&&(Q(it),Q(gt)),Mt.current===e&&(Q(Mt),wl._currentValue=dt)}var sa,aa;function ri(e){if(sa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);sa=i&&i[1]||"",aa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sa+e+aa}var wo=!1;function ms(e,i){if(!e||wo)return"";wo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(H){var j=H}Reflect.construct(e,[],W)}else{try{W.call()}catch(H){j=H}e.call(W.prototype)}}else{try{throw Error()}catch(H){j=H}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var N=_.split(`
`),z=S.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===z.length)for(l=N.length-1,h=z.length-1;1<=l&&0<=h&&N[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==z[h]){var X=`
`+N[l].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=l&&0<=h);break}}}finally{wo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ri(a):""}function Ro(e,i){switch(e.tag){case 26:case 27:case 5:return ri(e.type);case 16:return ri("Lazy");case 13:return e.child!==i&&i!==null?ri("Suspense Fallback"):ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return ms(e.type,!1);case 11:return ms(e.type.render,!1);case 1:return ms(e.type,!0);case 31:return ri("Activity");default:return""}}function Co(e){try{var i="",a=null;do i+=Ro(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ee=Object.prototype.hasOwnProperty,Me=r.unstable_scheduleCallback,fr=r.unstable_cancelCallback,lf=r.unstable_shouldYield,pu=r.unstable_requestPaint,tn=r.unstable_now,ps=r.unstable_getCurrentPriorityLevel,Io=r.unstable_ImmediatePriority,Do=r.unstable_UserBlockingPriority,dr=r.unstable_NormalPriority,uf=r.unstable_LowPriority,gu=r.unstable_IdlePriority,yu=r.log,_u=r.unstable_setDisableYieldValue,qn=null,je=null;function wn(e){if(typeof yu=="function"&&_u(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(qn,e)}catch{}}var pe=Math.clz32?Math.clz32:Eu,vu=Math.log,oa=Math.LN2;function Eu(e){return e>>>=0,e===0?32:31-(vu(e)/oa|0)|0}var si=256,gs=262144,Te=4194304;function ai(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function oi(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=ai(l):(_&=S,_!==0?h=ai(_):a||(a=S&~e,a!==0&&(h=ai(a))))):(S=l&~d,S!==0?h=ai(S):_!==0?h=ai(_):a||(a=l&~e,a!==0&&(h=ai(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Hn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function cf(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tu(){var e=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),e}function li(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function ys(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function hf(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,N=e.expirationTimes,z=e.hiddenUpdates;for(a=_&~a;0<a;){var X=31-pe(a),W=1<<X;S[X]=0,N[X]=-1;var j=z[X];if(j!==null)for(z[X]=null,X=0;X<j.length;X++){var H=j[X];H!==null&&(H.lane&=-536870913)}a&=~W}l!==0&&_s(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function _s(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-pe(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function No(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-pe(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Oo(e,i){var a=i&-i;return a=(a&42)!==0?1:vs(a),(a&(e.suspendedLanes|i))!==0?0:a}function vs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Su(){var e=lt.p;return e!==0?e:(e=window.event,e===void 0?32:Tv(e.type))}function Fn(e,i){var a=lt.p;try{return lt.p=e,i()}finally{lt.p=a}}var Gn=Math.random().toString(36).slice(2),Se="__reactFiber$"+Gn,Pe="__reactProps$"+Gn,ui="__reactContainer$"+Gn,la="__reactEvents$"+Gn,ff="__reactListeners$"+Gn,Au="__reactHandles$"+Gn,bu="__reactResources$"+Gn,ci="__reactMarker$"+Gn;function ua(e){delete e[Se],delete e[Pe],delete e[la],delete e[ff],delete e[Au]}function hi(e){var i=e[Se];if(i)return i;for(var a=e.parentNode;a;){if(i=a[ui]||a[Se]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=sv(e);e!==null;){if(a=e[Se])return a;e=sv(e)}return i}e=a,a=e.parentNode}return null}function Rn(e){if(e=e[Se]||e[ui]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function mn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function fi(e){var i=e[bu];return i||(i=e[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ae(e){e[ci]=!0}var Mo=new Set,Vo={};function di(e,i){mi(e,i),mi(e+"Capture",i)}function mi(e,i){for(Vo[e]=i,e=0;e<i.length;e++)Mo.add(i[e])}var xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Po={},Lo={};function wu(e){return Ee.call(Lo,e)?!0:Ee.call(Po,e)?!1:xo.test(e)?Lo[e]=!0:(Po[e]=!0,!1)}function ca(e,i,a){if(wu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function pn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function be(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Uo(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Qt(e){if(!e._valueTracker){var i=mr(e)?"checked":"value";e._valueTracker=Uo(e,i,""+e[i])}}function Es(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=mr(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function pi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ts=/[\n"\\]/g;function rn(e){return e.replace(Ts,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ha(e,i,a,l,h,d,_,S){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Le(i)):e.value!==""+Le(i)&&(e.value=""+Le(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?ko(e,_,Le(i)):a!=null?ko(e,_,Le(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Le(S):e.removeAttribute("name")}function Ru(e,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qt(e);return}a=a!=null?""+Le(a):"",i=i!=null?""+Le(i):a,S||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Qt(e)}function ko(e,i,a){i==="number"&&pi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function pr(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Le(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Cu(e,i,a){if(i!=null&&(i=""+Le(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Le(a):""}function gr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(de(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Le(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Qt(e)}function sn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Iu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Iu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function jo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&zo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&zo(e,d,i[d])}function fa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(e){return yr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qn(){}var Bo=null;function Cn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _r=null,gi=null;function Ss(e){var i=Rn(e);if(i&&(e=i.stateNode)){var a=e[Pe]||null;t:switch(e=i.stateNode,i.type){case"input":if(ha(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Pe]||null;if(!h)throw Error(s(90));ha(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Es(l)}break t;case"textarea":Cu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&pr(e,!!a.multiple,i,!1)}}}var ma=!1;function vr(e,i,a){if(ma)return e(i,a);ma=!0;try{var l=e(i);return l}finally{if(ma=!1,(_r!==null||gi!==null)&&(Sc(),_r&&(i=_r,e=gi,gi=_r=null,Ss(i),e)))for(i=0;i<e.length;i++)Ss(e[i])}}function Kn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Pe]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),As=!1;if(In)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){As=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{As=!1}var yi=null,qo=null,bs=null;function Ho(){if(bs)return bs;var e,i=qo,a=i.length,l,h="value"in yi?yi.value:yi.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return bs=h.slice(e,1<l?1-l:void 0)}function ws(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Li(){return!0}function Yn(){return!1}function Be(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Li:Yn,this.isPropagationStopped=Yn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),i}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=Be(Ui),Er=T({},Ui,{view:0,detail:0}),Fo=Be(Er),Tr,pa,vi,ga=T({},Er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vi&&(vi&&e.type==="mousemove"?(Tr=e.screenX-vi.screenX,pa=e.screenY-vi.screenY):pa=Tr=0,vi=e),Tr)},movementY:function(e){return"movementY"in e?e.movementY:pa}}),Go=Be(ga),Rs=T({},ga,{dataTransfer:0}),Nu=Be(Rs),Ou=T({},Er,{relatedTarget:0}),Cs=Be(Ou),Qo=T({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),Mu=Be(Qo),ya=T({},Ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vu=Be(ya),xu=T({},Ui,{data:0}),Ei=Be(xu),Pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ku(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Uu[e])?!!i[e]:!1}function Sr(){return ku}var en=T({},Er,{key:function(e){if(e.key){var i=Pu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ws(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(e){return e.type==="keypress"?ws(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ws(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zu=Be(en),ju=T({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=Be(ju),c=T({},Er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr}),g=Be(c),v=T({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Be(v),U=T({},ga,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Be(U),at=T({},Ui,{newState:0,oldState:0}),Ct=Be(at),ge=[9,13,27,32],Ht=In&&"CompositionEvent"in window,ae=null;In&&"documentMode"in document&&(ae=document.documentMode);var Dn=In&&"TextEvent"in window&&!ae,Ti=In&&(!Ht||ae&&8<ae&&11>=ae),Xn=" ",$n=!1;function Is(e,i){switch(e){case"keyup":return ge.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _a(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var va=!1;function EA(e,i){switch(e){case"compositionend":return _a(i);case"keypress":return i.which!==32?null:($n=!0,Xn);case"textInput":return e=i.data,e===Xn&&$n?null:e;default:return null}}function TA(e,i){if(va)return e==="compositionend"||!Ht&&Is(e,i)?(e=Ho(),bs=qo=yi=null,va=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ti&&i.locale!=="ko"?null:i.data;default:return null}}var SA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lg(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!SA[e.type]:i==="textarea"}function ug(e,i,a,l){_r?gi?gi.push(l):gi=[l]:_r=l,i=Dc(i,"onChange"),0<i.length&&(a=new _i("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Ko=null,Yo=null;function AA(e){G_(e,0)}function Bu(e){var i=mn(e);if(Es(i))return e}function cg(e,i){if(e==="change")return i}var hg=!1;if(In){var df;if(In){var mf="oninput"in document;if(!mf){var fg=document.createElement("div");fg.setAttribute("oninput","return;"),mf=typeof fg.oninput=="function"}df=mf}else df=!1;hg=df&&(!document.documentMode||9<document.documentMode)}function dg(){Ko&&(Ko.detachEvent("onpropertychange",mg),Yo=Ko=null)}function mg(e){if(e.propertyName==="value"&&Bu(Yo)){var i=[];ug(i,Yo,e,Cn(e)),vr(AA,i)}}function bA(e,i,a){e==="focusin"?(dg(),Ko=i,Yo=a,Ko.attachEvent("onpropertychange",mg)):e==="focusout"&&dg()}function wA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bu(Yo)}function RA(e,i){if(e==="click")return Bu(i)}function CA(e,i){if(e==="input"||e==="change")return Bu(i)}function IA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var gn=typeof Object.is=="function"?Object.is:IA;function Xo(e,i){if(gn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ee.call(i,h)||!gn(e[h],i[h]))return!1}return!0}function pg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gg(e,i){var a=pg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=pg(a)}}function yg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?yg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function _g(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=pi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=pi(e.document)}return i}function pf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var DA=In&&"documentMode"in document&&11>=document.documentMode,Ea=null,gf=null,$o=null,yf=!1;function vg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yf||Ea==null||Ea!==pi(l)||(l=Ea,"selectionStart"in l&&pf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$o&&Xo($o,l)||($o=l,l=Dc(gf,"onSelect"),0<l.length&&(i=new _i("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Ea)))}function Ds(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ta={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionrun:Ds("Transition","TransitionRun"),transitionstart:Ds("Transition","TransitionStart"),transitioncancel:Ds("Transition","TransitionCancel"),transitionend:Ds("Transition","TransitionEnd")},_f={},Eg={};In&&(Eg=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Ns(e){if(_f[e])return _f[e];if(!Ta[e])return e;var i=Ta[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Eg)return _f[e]=i[a];return e}var Tg=Ns("animationend"),Sg=Ns("animationiteration"),Ag=Ns("animationstart"),NA=Ns("transitionrun"),OA=Ns("transitionstart"),MA=Ns("transitioncancel"),bg=Ns("transitionend"),wg=new Map,vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vf.push("scrollEnd");function Jn(e,i){wg.set(e,i),di(i,[e])}var qu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nn=[],Sa=0,Ef=0;function Hu(){for(var e=Sa,i=Ef=Sa=0;i<e;){var a=Nn[i];Nn[i++]=null;var l=Nn[i];Nn[i++]=null;var h=Nn[i];Nn[i++]=null;var d=Nn[i];if(Nn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Rg(a,h,d)}}function Fu(e,i,a,l){Nn[Sa++]=e,Nn[Sa++]=i,Nn[Sa++]=a,Nn[Sa++]=l,Ef|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Tf(e,i,a,l){return Fu(e,i,a,l),Gu(e)}function Os(e,i){return Fu(e,null,null,i),Gu(e)}function Rg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-pe(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Gu(e){if(50<_l)throw _l=0,Nd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Aa={};function VA(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,i,a,l){return new VA(e,i,a,l)}function Sf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zi(e,i){var a=e.alternate;return a===null?(a=yn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Cg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Qu(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")Sf(e)&&(_=1);else if(typeof e=="string")_=k1(e,a,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=yn(31,a,i,h),e.elementType=C,e.lanes=d,e;case Z:return Ms(a.children,h,d,i);case G:_=8,h|=24;break;case et:return e=yn(12,a,i,h|2),e.elementType=et,e.lanes=d,e;case _t:return e=yn(13,a,i,h),e.elementType=_t,e.lanes=d,e;case Tt:return e=yn(19,a,i,h),e.elementType=Tt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ot:_=10;break t;case nt:_=9;break t;case Rt:_=11;break t;case R:_=14;break t;case b:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=yn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Ms(e,i,a,l){return e=yn(7,e,l,i),e.lanes=a,e}function Af(e,i,a){return e=yn(6,e,null,i),e.lanes=a,e}function Ig(e){var i=yn(18,null,null,0);return i.stateNode=e,i}function bf(e,i,a){return i=yn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Dg=new WeakMap;function On(e,i){if(typeof e=="object"&&e!==null){var a=Dg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Co(i)},Dg.set(e,i),i)}return{value:e,source:i,stack:Co(i)}}var ba=[],wa=0,Ku=null,Jo=0,Mn=[],Vn=0,Ar=null,Si=1,Ai="";function ji(e,i){ba[wa++]=Jo,ba[wa++]=Ku,Ku=e,Jo=i}function Ng(e,i,a){Mn[Vn++]=Si,Mn[Vn++]=Ai,Mn[Vn++]=Ar,Ar=e;var l=Si;e=Ai;var h=32-pe(l)-1;l&=~(1<<h),a+=1;var d=32-pe(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Si=1<<32-pe(i)+h|a<<h|l,Ai=d+e}else Si=1<<d|a<<h|l,Ai=e}function wf(e){e.return!==null&&(ji(e,1),Ng(e,1,0))}function Rf(e){for(;e===Ku;)Ku=ba[--wa],ba[wa]=null,Jo=ba[--wa],ba[wa]=null;for(;e===Ar;)Ar=Mn[--Vn],Mn[Vn]=null,Ai=Mn[--Vn],Mn[Vn]=null,Si=Mn[--Vn],Mn[Vn]=null}function Og(e,i){Mn[Vn++]=Si,Mn[Vn++]=Ai,Mn[Vn++]=Ar,Si=i.id,Ai=i.overflow,Ar=e}var qe=null,ne=null,zt=!1,br=null,xn=!1,Cf=Error(s(519));function wr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zo(On(i,e)),Cf}function Mg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Se]=e,i[Pe]=l,a){case"dialog":Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":case"embed":Ot("load",i);break;case"video":case"audio":for(a=0;a<El.length;a++)Ot(El[a],i);break;case"source":Ot("error",i);break;case"img":case"image":case"link":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"input":Ot("invalid",i),Ru(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ot("invalid",i);break;case"textarea":Ot("invalid",i),gr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||X_(i.textContent,a)?(l.popover!=null&&(Ot("beforetoggle",i),Ot("toggle",i)),l.onScroll!=null&&Ot("scroll",i),l.onScrollEnd!=null&&Ot("scrollend",i),l.onClick!=null&&(i.onclick=Qn),i=!0):i=!1,i||wr(e,!0)}function Vg(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:qe=qe.return}}function Ra(e){if(e!==qe)return!1;if(!zt)return Vg(e),zt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Gd(e.type,e.memoizedProps)),a=!a),a&&ne&&wr(e),Vg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ne=rv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ne=rv(e)}else i===27?(i=ne,zr(e.type)?(e=$d,$d=null,ne=e):ne=i):ne=qe?Ln(e.stateNode.nextSibling):null;return!0}function Vs(){ne=qe=null,zt=!1}function If(){var e=br;return e!==null&&(un===null?un=e:un.push.apply(un,e),br=null),e}function Zo(e){br===null?br=[e]:br.push(e)}var Df=I(null),xs=null,Bi=null;function Rr(e,i,a){rt(Df,i._currentValue),i._currentValue=a}function qi(e){e._currentValue=Df.current,Q(Df)}function Nf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Of(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=h;for(var N=0;N<i.length;N++)if(S.context===i[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Nf(d.return,a,e),l||(_=null);break t}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Nf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ca(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;gn(h.pendingProps.value,_.value)||(e!==null?e.push(S):e=[S])}}else if(h===Mt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(wl):e=[wl])}h=h.return}e!==null&&Of(i,e,a,l),i.flags|=262144}function Yu(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ps(e){xs=e,Bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return xg(xs,e)}function Xu(e,i){return xs===null&&Ps(e),xg(e,i)}function xg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Bi===null){if(e===null)throw Error(s(308));Bi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Bi=Bi.next=i;return a}var xA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},PA=r.unstable_scheduleCallback,LA=r.unstable_NormalPriority,we={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mf(){return{controller:new xA,data:new Map,refCount:0}}function Wo(e){e.refCount--,e.refCount===0&&PA(LA,function(){e.controller.abort()})}var tl=null,Vf=0,Ia=0,Da=null;function UA(e,i){if(tl===null){var a=tl=[];Vf=0,Ia=Ld(),Da={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Vf++,i.then(Pg,Pg),i}function Pg(){if(--Vf===0&&tl!==null){Da!==null&&(Da.status="fulfilled");var e=tl;tl=null,Ia=0,Da=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function kA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Lg=Y.S;Y.S=function(e,i){v_=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&UA(e,i),Lg!==null&&Lg(e,i)};var Ls=I(null);function xf(){var e=Ls.current;return e!==null?e:te.pooledCache}function $u(e,i){i===null?rt(Ls,Ls.current):rt(Ls,i.pool)}function Ug(){var e=xf();return e===null?null:{parent:we._currentValue,pool:e}}var Na=Error(s(460)),Pf=Error(s(474)),Ju=Error(s(542)),Zu={then:function(){}};function kg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Qn,Qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Bg(e),e;default:if(typeof i.status=="string")i.then(Qn,Qn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Bg(e),e}throw ks=i,Na}}function Us(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ks=a,Na):a}}var ks=null;function jg(){if(ks===null)throw Error(s(459));var e=ks;return ks=null,e}function Bg(e){if(e===Na||e===Ju)throw Error(s(483))}var Oa=null,el=0;function Wu(e){var i=el;return el+=1,Oa===null&&(Oa=[]),zg(Oa,e,i)}function nl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function tc(e,i){throw i.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function qg(e){function i(P,O){if(e){var k=P.deletions;k===null?(P.deletions=[O],P.flags|=16):k.push(O)}}function a(P,O){if(!e)return null;for(;O!==null;)i(P,O),O=O.sibling;return null}function l(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(P,O){return P=zi(P,O),P.index=0,P.sibling=null,P}function d(P,O,k){return P.index=k,e?(k=P.alternate,k!==null?(k=k.index,k<O?(P.flags|=67108866,O):k):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function _(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function S(P,O,k,$){return O===null||O.tag!==6?(O=Af(k,P.mode,$),O.return=P,O):(O=h(O,k),O.return=P,O)}function N(P,O,k,$){var mt=k.type;return mt===Z?X(P,O,k.props.children,$,k.key):O!==null&&(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===b&&Us(mt)===O.type)?(O=h(O,k.props),nl(O,k),O.return=P,O):(O=Qu(k.type,k.key,k.props,null,P.mode,$),nl(O,k),O.return=P,O)}function z(P,O,k,$){return O===null||O.tag!==4||O.stateNode.containerInfo!==k.containerInfo||O.stateNode.implementation!==k.implementation?(O=bf(k,P.mode,$),O.return=P,O):(O=h(O,k.children||[]),O.return=P,O)}function X(P,O,k,$,mt){return O===null||O.tag!==7?(O=Ms(k,P.mode,$,mt),O.return=P,O):(O=h(O,k),O.return=P,O)}function W(P,O,k){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Af(""+O,P.mode,k),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case x:return k=Qu(O.type,O.key,O.props,null,P.mode,k),nl(k,O),k.return=P,k;case F:return O=bf(O,P.mode,k),O.return=P,O;case b:return O=Us(O),W(P,O,k)}if(de(O)||L(O))return O=Ms(O,P.mode,k,null),O.return=P,O;if(typeof O.then=="function")return W(P,Wu(O),k);if(O.$$typeof===ot)return W(P,Xu(P,O),k);tc(P,O)}return null}function j(P,O,k,$){var mt=O!==null?O.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return mt!==null?null:S(P,O,""+k,$);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case x:return k.key===mt?N(P,O,k,$):null;case F:return k.key===mt?z(P,O,k,$):null;case b:return k=Us(k),j(P,O,k,$)}if(de(k)||L(k))return mt!==null?null:X(P,O,k,$,null);if(typeof k.then=="function")return j(P,O,Wu(k),$);if(k.$$typeof===ot)return j(P,O,Xu(P,k),$);tc(P,k)}return null}function H(P,O,k,$,mt){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return P=P.get(k)||null,S(O,P,""+$,mt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case x:return P=P.get($.key===null?k:$.key)||null,N(O,P,$,mt);case F:return P=P.get($.key===null?k:$.key)||null,z(O,P,$,mt);case b:return $=Us($),H(P,O,k,$,mt)}if(de($)||L($))return P=P.get(k)||null,X(O,P,$,mt,null);if(typeof $.then=="function")return H(P,O,k,Wu($),mt);if($.$$typeof===ot)return H(P,O,k,Xu(O,$),mt);tc(O,$)}return null}function ht(P,O,k,$){for(var mt=null,Bt=null,ft=O,Dt=O=0,xt=null;ft!==null&&Dt<k.length;Dt++){ft.index>Dt?(xt=ft,ft=null):xt=ft.sibling;var qt=j(P,ft,k[Dt],$);if(qt===null){ft===null&&(ft=xt);break}e&&ft&&qt.alternate===null&&i(P,ft),O=d(qt,O,Dt),Bt===null?mt=qt:Bt.sibling=qt,Bt=qt,ft=xt}if(Dt===k.length)return a(P,ft),zt&&ji(P,Dt),mt;if(ft===null){for(;Dt<k.length;Dt++)ft=W(P,k[Dt],$),ft!==null&&(O=d(ft,O,Dt),Bt===null?mt=ft:Bt.sibling=ft,Bt=ft);return zt&&ji(P,Dt),mt}for(ft=l(ft);Dt<k.length;Dt++)xt=H(ft,P,Dt,k[Dt],$),xt!==null&&(e&&xt.alternate!==null&&ft.delete(xt.key===null?Dt:xt.key),O=d(xt,O,Dt),Bt===null?mt=xt:Bt.sibling=xt,Bt=xt);return e&&ft.forEach(function(Fr){return i(P,Fr)}),zt&&ji(P,Dt),mt}function yt(P,O,k,$){if(k==null)throw Error(s(151));for(var mt=null,Bt=null,ft=O,Dt=O=0,xt=null,qt=k.next();ft!==null&&!qt.done;Dt++,qt=k.next()){ft.index>Dt?(xt=ft,ft=null):xt=ft.sibling;var Fr=j(P,ft,qt.value,$);if(Fr===null){ft===null&&(ft=xt);break}e&&ft&&Fr.alternate===null&&i(P,ft),O=d(Fr,O,Dt),Bt===null?mt=Fr:Bt.sibling=Fr,Bt=Fr,ft=xt}if(qt.done)return a(P,ft),zt&&ji(P,Dt),mt;if(ft===null){for(;!qt.done;Dt++,qt=k.next())qt=W(P,qt.value,$),qt!==null&&(O=d(qt,O,Dt),Bt===null?mt=qt:Bt.sibling=qt,Bt=qt);return zt&&ji(P,Dt),mt}for(ft=l(ft);!qt.done;Dt++,qt=k.next())qt=H(ft,P,Dt,qt.value,$),qt!==null&&(e&&qt.alternate!==null&&ft.delete(qt.key===null?Dt:qt.key),O=d(qt,O,Dt),Bt===null?mt=qt:Bt.sibling=qt,Bt=qt);return e&&ft.forEach(function(X1){return i(P,X1)}),zt&&ji(P,Dt),mt}function Zt(P,O,k,$){if(typeof k=="object"&&k!==null&&k.type===Z&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case x:t:{for(var mt=k.key;O!==null;){if(O.key===mt){if(mt=k.type,mt===Z){if(O.tag===7){a(P,O.sibling),$=h(O,k.props.children),$.return=P,P=$;break t}}else if(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===b&&Us(mt)===O.type){a(P,O.sibling),$=h(O,k.props),nl($,k),$.return=P,P=$;break t}a(P,O);break}else i(P,O);O=O.sibling}k.type===Z?($=Ms(k.props.children,P.mode,$,k.key),$.return=P,P=$):($=Qu(k.type,k.key,k.props,null,P.mode,$),nl($,k),$.return=P,P=$)}return _(P);case F:t:{for(mt=k.key;O!==null;){if(O.key===mt)if(O.tag===4&&O.stateNode.containerInfo===k.containerInfo&&O.stateNode.implementation===k.implementation){a(P,O.sibling),$=h(O,k.children||[]),$.return=P,P=$;break t}else{a(P,O);break}else i(P,O);O=O.sibling}$=bf(k,P.mode,$),$.return=P,P=$}return _(P);case b:return k=Us(k),Zt(P,O,k,$)}if(de(k))return ht(P,O,k,$);if(L(k)){if(mt=L(k),typeof mt!="function")throw Error(s(150));return k=mt.call(k),yt(P,O,k,$)}if(typeof k.then=="function")return Zt(P,O,Wu(k),$);if(k.$$typeof===ot)return Zt(P,O,Xu(P,k),$);tc(P,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,O!==null&&O.tag===6?(a(P,O.sibling),$=h(O,k),$.return=P,P=$):(a(P,O),$=Af(k,P.mode,$),$.return=P,P=$),_(P)):a(P,O)}return function(P,O,k,$){try{el=0;var mt=Zt(P,O,k,$);return Oa=null,mt}catch(ft){if(ft===Na||ft===Ju)throw ft;var Bt=yn(29,ft,null,P.mode);return Bt.lanes=$,Bt.return=P,Bt}finally{}}}var zs=qg(!0),Hg=qg(!1),Cr=!1;function Lf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ir(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Dr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Gu(e),Rg(e,null,a),i}return Fu(e,l,i,a),Gu(e)}function il(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,No(e,a)}}function kf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var zf=!1;function rl(){if(zf){var e=Da;if(e!==null)throw e}}function sl(e,i,a,l){zf=!1;var h=e.updateQueue;Cr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var N=S,z=N.next;N.next=null,_===null?d=z:_.next=z,_=N;var X=e.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==_&&(S===null?X.firstBaseUpdate=z:S.next=z,X.lastBaseUpdate=N))}if(d!==null){var W=h.baseState;_=0,X=z=N=null,S=d;do{var j=S.lane&-536870913,H=j!==S.lane;if(H?(Vt&j)===j:(l&j)===j){j!==0&&j===Ia&&(zf=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var ht=e,yt=S;j=i;var Zt=a;switch(yt.tag){case 1:if(ht=yt.payload,typeof ht=="function"){W=ht.call(Zt,W,j);break t}W=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=yt.payload,j=typeof ht=="function"?ht.call(Zt,W,j):ht,j==null)break t;W=T({},W,j);break t;case 2:Cr=!0}}j=S.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(z=X=H,N=W):X=X.next=H,_|=j;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;H=S,S=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);X===null&&(N=W),h.baseState=N,h.firstBaseUpdate=z,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),xr|=_,e.lanes=_,e.memoizedState=W}}function Fg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Gg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Fg(a[e],i)}var Ma=I(null),ec=I(0);function Qg(e,i){e=Ji,rt(ec,e),rt(Ma,i),Ji=e|i.baseLanes}function jf(){rt(ec,Ji),rt(Ma,Ma.current)}function Bf(){Ji=ec.current,Q(Ma),Q(ec)}var _n=I(null),Pn=null;function Nr(e){var i=e.alternate;rt(ye,ye.current&1),rt(_n,e),Pn===null&&(i===null||Ma.current!==null||i.memoizedState!==null)&&(Pn=e)}function qf(e){rt(ye,ye.current),rt(_n,e),Pn===null&&(Pn=e)}function Kg(e){e.tag===22?(rt(ye,ye.current),rt(_n,e),Pn===null&&(Pn=e)):Or()}function Or(){rt(ye,ye.current),rt(_n,_n.current)}function vn(e){Q(_n),Pn===e&&(Pn=null),Q(ye)}var ye=I(0);function nc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Yd(a)||Xd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Hi=0,It=null,$t=null,Re=null,ic=!1,Va=!1,js=!1,rc=0,al=0,xa=null,zA=0;function ce(){throw Error(s(321))}function Hf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!gn(e[a],i[a]))return!1;return!0}function Ff(e,i,a,l,h,d){return Hi=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=e===null||e.memoizedState===null?Ny:sd,js=!1,d=a(l,h),js=!1,Va&&(d=Xg(i,a,l,h)),Yg(e),d}function Yg(e){Y.H=ul;var i=$t!==null&&$t.next!==null;if(Hi=0,Re=$t=It=null,ic=!1,al=0,xa=null,i)throw Error(s(300));e===null||Ce||(e=e.dependencies,e!==null&&Yu(e)&&(Ce=!0))}function Xg(e,i,a,l){It=e;var h=0;do{if(Va&&(xa=null),al=0,Va=!1,25<=h)throw Error(s(301));if(h+=1,Re=$t=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Oy,d=i(a,l)}while(Va);return d}function jA(){var e=Y.H,i=e.useState()[0];return i=typeof i.then=="function"?ol(i):i,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(It.flags|=1024),i}function Gf(){var e=rc!==0;return rc=0,e}function Qf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Kf(e){if(ic){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}ic=!1}Hi=0,Re=$t=It=null,Va=!1,al=rc=0,xa=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?It.memoizedState=Re=e:Re=Re.next=e,Re}function _e(){if($t===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var i=Re===null?It.memoizedState:Re.next;if(i!==null)Re=i,$t=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Re===null?It.memoizedState=Re=e:Re=Re.next=e}return Re}function sc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(e){var i=al;return al+=1,xa===null&&(xa=[]),e=zg(xa,e,i),i=It,(Re===null?i.memoizedState:Re.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?Ny:sd),e}function ac(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ol(e);if(e.$$typeof===ot)return He(e)}throw Error(s(438,String(e)))}function Yf(e){var i=null,a=It.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=sc(),It.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=V;return i.index++,a}function Fi(e,i){return typeof i=="function"?i(e):i}function oc(e){var i=_e();return Xf(i,$t,e)}function Xf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var S=_=null,N=null,z=i,X=!1;do{var W=z.lane&-536870913;if(W!==z.lane?(Vt&W)===W:(Hi&W)===W){var j=z.revertLane;if(j===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),W===Ia&&(X=!0);else if((Hi&j)===j){z=z.next,j===Ia&&(X=!0);continue}else W={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(S=N=W,_=d):N=N.next=W,It.lanes|=j,xr|=j;W=z.action,js&&a(d,W),d=z.hasEagerState?z.eagerState:a(d,W)}else j={lane:W,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(S=N=j,_=d):N=N.next=j,It.lanes|=W,xr|=W;z=z.next}while(z!==null&&z!==i);if(N===null?_=d:N.next=S,!gn(d,e.memoizedState)&&(Ce=!0,X&&(a=Da,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function $f(e){var i=_e(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);gn(d,i.memoizedState)||(Ce=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function $g(e,i,a){var l=It,h=_e(),d=zt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!gn(($t||h).memoizedState,a);if(_&&(h.memoizedState=a,Ce=!0),h=h.queue,Wf(Wg.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||Re!==null&&Re.memoizedState.tag&1){if(l.flags|=2048,Pa(9,{destroy:void 0},Zg.bind(null,l,h,a,i),null),te===null)throw Error(s(349));d||(Hi&127)!==0||Jg(l,i,a)}return a}function Jg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i=sc(),It.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Zg(e,i,a,l){i.value=a,i.getSnapshot=l,ty(i)&&ey(e)}function Wg(e,i,a){return a(function(){ty(i)&&ey(e)})}function ty(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!gn(e,a)}catch{return!0}}function ey(e){var i=Os(e,2);i!==null&&cn(i,e,2)}function Jf(e){var i=nn();if(typeof e=="function"){var a=e;if(e=a(),js){wn(!0);try{a()}finally{wn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:e},i}function ny(e,i,a,l){return e.baseState=a,Xf(e,$t,typeof l=="function"?l:Fi)}function BA(e,i,a,l,h){if(cc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,iy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function iy(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=Y.T,_={};Y.T=_;try{var S=a(h,l),N=Y.S;N!==null&&N(_,S),ry(e,i,S)}catch(z){Zf(e,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),Y.T=d}}else try{d=a(h,l),ry(e,i,d)}catch(z){Zf(e,i,z)}}function ry(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){sy(e,i,l)},function(l){return Zf(e,i,l)}):sy(e,i,a)}function sy(e,i,a){i.status="fulfilled",i.value=a,ay(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,iy(e,a)))}function Zf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,ay(i),i=i.next;while(i!==l)}e.action=null}function ay(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function oy(e,i){return i}function ly(e,i){if(zt){var a=te.formState;if(a!==null){t:{var l=It;if(zt){if(ne){e:{for(var h=ne,d=xn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ne=Ln(h.nextSibling),l=h.data==="F!";break t}}wr(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oy,lastRenderedState:i},a.queue=l,a=Cy.bind(null,It,l),l.dispatch=a,l=Jf(!1),d=rd.bind(null,It,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=BA.bind(null,It,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function uy(e){var i=_e();return cy(i,$t,e)}function cy(e,i,a){if(i=Xf(e,i,oy)[0],e=oc(Fi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ol(i)}catch(_){throw _===Na?Ju:_}else l=i;i=_e();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(It.flags|=2048,Pa(9,{destroy:void 0},qA.bind(null,h,a),null)),[l,d,e]}function qA(e,i){e.action=i}function hy(e){var i=_e(),a=$t;if(a!==null)return cy(i,a,e);_e(),i=i.memoizedState,a=_e();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Pa(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=It.updateQueue,i===null&&(i=sc(),It.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function fy(){return _e().memoizedState}function lc(e,i,a,l){var h=nn();It.flags|=e,h.memoizedState=Pa(1|i,{destroy:void 0},a,l===void 0?null:l)}function uc(e,i,a,l){var h=_e();l=l===void 0?null:l;var d=h.memoizedState.inst;$t!==null&&l!==null&&Hf(l,$t.memoizedState.deps)?h.memoizedState=Pa(i,d,a,l):(It.flags|=e,h.memoizedState=Pa(1|i,d,a,l))}function dy(e,i){lc(8390656,8,e,i)}function Wf(e,i){uc(2048,8,e,i)}function HA(e){It.flags|=4;var i=It.updateQueue;if(i===null)i=sc(),It.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function my(e){var i=_e().memoizedState;return HA({ref:i,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function py(e,i){return uc(4,2,e,i)}function gy(e,i){return uc(4,4,e,i)}function yy(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function _y(e,i,a){a=a!=null?a.concat([e]):null,uc(4,4,yy.bind(null,i,e),a)}function td(){}function vy(e,i){var a=_e();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Hf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Ey(e,i){var a=_e();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Hf(i,l[1]))return l[0];if(l=e(),js){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[l,i],l}function ed(e,i,a){return a===void 0||(Hi&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=T_(),It.lanes|=e,xr|=e,a)}function Ty(e,i,a,l){return gn(a,i)?a:Ma.current!==null?(e=ed(e,a,l),gn(e,i)||(Ce=!0),e):(Hi&42)===0||(Hi&1073741824)!==0&&(Vt&261930)===0?(Ce=!0,e.memoizedState=a):(e=T_(),It.lanes|=e,xr|=e,i)}function Sy(e,i,a,l,h){var d=lt.p;lt.p=d!==0&&8>d?d:8;var _=Y.T,S={};Y.T=S,rd(e,!1,i,a);try{var N=h(),z=Y.S;if(z!==null&&z(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=kA(N,l);ll(e,i,X,Sn(e))}else ll(e,i,l,Sn(e))}catch(W){ll(e,i,{then:function(){},status:"rejected",reason:W},Sn())}finally{lt.p=d,_!==null&&S.types!==null&&(_.types=S.types),Y.T=_}}function FA(){}function nd(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Ay(e).queue;Sy(e,h,i,dt,a===null?FA:function(){return by(e),a(l)})}function Ay(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:dt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function by(e){var i=Ay(e);i.next===null&&(i=e.alternate.memoizedState),ll(e,i.next.queue,{},Sn())}function id(){return He(wl)}function wy(){return _e().memoizedState}function Ry(){return _e().memoizedState}function GA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();e=Ir(a);var l=Dr(i,e,a);l!==null&&(cn(l,i,a),il(l,i,a)),i={cache:Mf()},e.payload=i;return}i=i.return}}function QA(e,i,a){var l=Sn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},cc(e)?Iy(i,a):(a=Tf(e,i,a,l),a!==null&&(cn(a,e,l),Dy(a,i,l)))}function Cy(e,i,a){var l=Sn();ll(e,i,a,l)}function ll(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(cc(e))Iy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,gn(S,_))return Fu(e,i,h,0),te===null&&Hu(),!1}catch{}finally{}if(a=Tf(e,i,h,l),a!==null)return cn(a,e,l),Dy(a,i,l),!0}return!1}function rd(e,i,a,l){if(l={lane:2,revertLane:Ld(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},cc(e)){if(i)throw Error(s(479))}else i=Tf(e,a,l,2),i!==null&&cn(i,e,2)}function cc(e){var i=e.alternate;return e===It||i!==null&&i===It}function Iy(e,i){Va=ic=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Dy(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,No(e,a)}}var ul={readContext:He,use:ac,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};ul.useEffectEvent=ce;var Ny={readContext:He,use:ac,useCallback:function(e,i){return nn().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:dy,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,lc(4194308,4,yy.bind(null,i,e),a)},useLayoutEffect:function(e,i){return lc(4194308,4,e,i)},useInsertionEffect:function(e,i){lc(4,2,e,i)},useMemo:function(e,i){var a=nn();i=i===void 0?null:i;var l=e();if(js){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=nn();if(a!==void 0){var h=a(i);if(js){wn(!0);try{a(i)}finally{wn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=QA.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var i=nn();return e={current:e},i.memoizedState=e},useState:function(e){e=Jf(e);var i=e.queue,a=Cy.bind(null,It,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:td,useDeferredValue:function(e,i){var a=nn();return ed(a,e,i)},useTransition:function(){var e=Jf(!1);return e=Sy.bind(null,It,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=It,h=nn();if(zt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),te===null)throw Error(s(349));(Vt&127)!==0||Jg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,dy(Wg.bind(null,l,d,e),[e]),l.flags|=2048,Pa(9,{destroy:void 0},Zg.bind(null,l,d,a,i),null),a},useId:function(){var e=nn(),i=te.identifierPrefix;if(zt){var a=Ai,l=Si;a=(l&~(1<<32-pe(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=rc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=zA++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:id,useFormState:ly,useActionState:ly,useOptimistic:function(e){var i=nn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=rd.bind(null,It,!0,a),a.dispatch=i,[e,i]},useMemoCache:Yf,useCacheRefresh:function(){return nn().memoizedState=GA.bind(null,It)},useEffectEvent:function(e){var i=nn(),a={impl:e};return i.memoizedState=a,function(){if((Ft&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},sd={readContext:He,use:ac,useCallback:vy,useContext:He,useEffect:Wf,useImperativeHandle:_y,useInsertionEffect:py,useLayoutEffect:gy,useMemo:Ey,useReducer:oc,useRef:fy,useState:function(){return oc(Fi)},useDebugValue:td,useDeferredValue:function(e,i){var a=_e();return Ty(a,$t.memoizedState,e,i)},useTransition:function(){var e=oc(Fi)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:ol(e),i]},useSyncExternalStore:$g,useId:wy,useHostTransitionStatus:id,useFormState:uy,useActionState:uy,useOptimistic:function(e,i){var a=_e();return ny(a,$t,e,i)},useMemoCache:Yf,useCacheRefresh:Ry};sd.useEffectEvent=my;var Oy={readContext:He,use:ac,useCallback:vy,useContext:He,useEffect:Wf,useImperativeHandle:_y,useInsertionEffect:py,useLayoutEffect:gy,useMemo:Ey,useReducer:$f,useRef:fy,useState:function(){return $f(Fi)},useDebugValue:td,useDeferredValue:function(e,i){var a=_e();return $t===null?ed(a,e,i):Ty(a,$t.memoizedState,e,i)},useTransition:function(){var e=$f(Fi)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:ol(e),i]},useSyncExternalStore:$g,useId:wy,useHostTransitionStatus:id,useFormState:hy,useActionState:hy,useOptimistic:function(e,i){var a=_e();return $t!==null?ny(a,$t,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Yf,useCacheRefresh:Ry};Oy.useEffectEvent=my;function ad(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var od={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Sn(),h=Ir(l);h.payload=i,a!=null&&(h.callback=a),i=Dr(e,h,l),i!==null&&(cn(i,e,l),il(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Sn(),h=Ir(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Dr(e,h,l),i!==null&&(cn(i,e,l),il(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Sn(),l=Ir(a);l.tag=2,i!=null&&(l.callback=i),i=Dr(e,l,a),i!==null&&(cn(i,e,a),il(i,e,a))}};function My(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Xo(a,l)||!Xo(h,d):!0}function Vy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&od.enqueueReplaceState(i,i.state,null)}function Bs(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function xy(e){qu(e)}function Py(e){console.error(e)}function Ly(e){qu(e)}function hc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Uy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ld(e,i,a){return a=Ir(a),a.tag=3,a.payload={element:null},a.callback=function(){hc(e,i)},a}function ky(e){return e=Ir(e),e.tag=3,e}function zy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Uy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Uy(i,a,l),typeof h!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function KA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ca(i,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return Pn===null?Ac():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Zu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Vd(e,l,h)),!1;case 22:return a.flags|=65536,l===Zu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Vd(e,l,h)),!1}throw Error(s(435,a.tag))}return Vd(e,l,h),Ac(),!1}if(zt)return i=_n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Cf&&(e=Error(s(422),{cause:l}),Zo(On(e,a)))):(l!==Cf&&(i=Error(s(423),{cause:l}),Zo(On(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=On(l,a),h=ld(e.stateNode,l,h),kf(e,h),he!==4&&(he=2)),!1;var d=Error(s(520),{cause:l});if(d=On(d,a),yl===null?yl=[d]:yl.push(d),he!==4&&(he=2),i===null)return!0;l=On(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=ld(a.stateNode,l,e),kf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Pr===null||!Pr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ky(h),zy(h,e,a,l),kf(a,h),!1}a=a.return}while(a!==null);return!1}var ud=Error(s(461)),Ce=!1;function Fe(e,i,a,l){i.child=e===null?Hg(i,null,a,l):zs(i,e.child,a,l)}function jy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Ps(i),l=Ff(e,i,a,_,d,h),S=Gf(),e!==null&&!Ce?(Qf(e,i,h),Gi(e,i,h)):(zt&&S&&wf(i),i.flags|=1,Fe(e,i,l,h),i.child)}function By(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Sf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,qy(e,i,d,l,h)):(e=Qu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!yd(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Xo,a(_,l)&&e.ref===i.ref)return Gi(e,i,h)}return i.flags|=1,e=zi(d,l),e.ref=i.ref,e.return=i,i.child=e}function qy(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Xo(d,l)&&e.ref===i.ref)if(Ce=!1,i.pendingProps=l=d,yd(e,h))(e.flags&131072)!==0&&(Ce=!0);else return i.lanes=e.lanes,Gi(e,i,h)}return cd(e,i,a,l,h)}function Hy(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Fy(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&$u(i,d!==null?d.cachePool:null),d!==null?Qg(i,d):jf(),Kg(i);else return l=i.lanes=536870912,Fy(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?($u(i,d.cachePool),Qg(i,d),Or(),i.memoizedState=null):(e!==null&&$u(i,null),jf(),Or());return Fe(e,i,h,a),i.child}function cl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Fy(e,i,a,l,h){var d=xf();return d=d===null?null:{parent:we._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&$u(i,null),jf(),Kg(i),e!==null&&Ca(e,i,l,!0),i.childLanes=h,null}function fc(e,i){return i=mc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Gy(e,i,a){return zs(i,e.child,null,a),e=fc(i,i.pendingProps),e.flags|=2,vn(i),i.memoizedState=null,e}function YA(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(zt){if(l.mode==="hidden")return e=fc(i,l),i.lanes=536870912,cl(null,e);if(qf(i),(e=ne)?(e=iv(e,xn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Ar!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=Ig(e),a.return=i,i.child=a,qe=i,ne=null)):e=null,e===null)throw wr(i);return i.lanes=536870912,null}return fc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(qf(i),h)if(i.flags&256)i.flags&=-257,i=Gy(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ce||Ca(e,i,a,!1),h=(a&e.childLanes)!==0,Ce||h){if(l=te,l!==null&&(_=Oo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Os(e,_),cn(l,e,_),ud;Ac(),i=Gy(e,i,a)}else e=d.treeContext,ne=Ln(_.nextSibling),qe=i,zt=!0,br=null,xn=!1,e!==null&&Og(i,e),i=fc(i,l),i.flags|=4096;return i}return e=zi(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function dc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function cd(e,i,a,l,h){return Ps(i),a=Ff(e,i,a,l,void 0,h),l=Gf(),e!==null&&!Ce?(Qf(e,i,h),Gi(e,i,h)):(zt&&l&&wf(i),i.flags|=1,Fe(e,i,a,h),i.child)}function Qy(e,i,a,l,h,d){return Ps(i),i.updateQueue=null,a=Xg(i,l,a,h),Yg(e),l=Gf(),e!==null&&!Ce?(Qf(e,i,d),Gi(e,i,d)):(zt&&l&&wf(i),i.flags|=1,Fe(e,i,a,d),i.child)}function Ky(e,i,a,l,h){if(Ps(i),i.stateNode===null){var d=Aa,_=a.contextType;typeof _=="object"&&_!==null&&(d=He(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=od,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Lf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?He(_):Aa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(ad(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&od.enqueueReplaceState(d,d.state,null),sl(i,l,d,h),rl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var S=i.memoizedProps,N=Bs(a,S);d.props=N;var z=d.context,X=a.contextType;_=Aa,typeof X=="object"&&X!==null&&(_=He(X));var W=a.getDerivedStateFromProps;X=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||z!==_)&&Vy(i,d,l,_),Cr=!1;var j=i.memoizedState;d.state=j,sl(i,l,d,h),rl(),z=i.memoizedState,S||j!==z||Cr?(typeof W=="function"&&(ad(i,a,W,l),z=i.memoizedState),(N=Cr||My(i,a,N,l,j,z,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Uf(e,i),_=i.memoizedProps,X=Bs(a,_),d.props=X,W=i.pendingProps,j=d.context,z=a.contextType,N=Aa,typeof z=="object"&&z!==null&&(N=He(z)),S=a.getDerivedStateFromProps,(z=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||j!==N)&&Vy(i,d,l,N),Cr=!1,j=i.memoizedState,d.state=j,sl(i,l,d,h),rl();var H=i.memoizedState;_!==W||j!==H||Cr||e!==null&&e.dependencies!==null&&Yu(e.dependencies)?(typeof S=="function"&&(ad(i,a,S,l),H=i.memoizedState),(X=Cr||My(i,a,X,l,j,H,N)||e!==null&&e.dependencies!==null&&Yu(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=N,l=X):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,dc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=zs(i,e.child,null,h),i.child=zs(i,null,a,h)):Fe(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Gi(e,i,h),e}function Yy(e,i,a,l){return Vs(),i.flags|=256,Fe(e,i,a,l),i.child}var hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fd(e){return{baseLanes:e,cachePool:Ug()}}function dd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Tn),e}function Xy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(ye.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(zt){if(h?Nr(i):Or(),(e=ne)?(e=iv(e,xn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Ar!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=Ig(e),a.return=i,i.child=a,qe=i,ne=null)):e=null,e===null)throw wr(i);return Xd(e)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(Or(),h=i.mode,S=mc({mode:"hidden",children:S},h),l=Ms(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=fd(a),l.childLanes=dd(e,_,a),i.memoizedState=hd,cl(null,l)):(Nr(i),md(i,S))}var N=e.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)i.flags&256?(Nr(i),i.flags&=-257,i=pd(e,i,a)):i.memoizedState!==null?(Or(),i.child=e.child,i.flags|=128,i=null):(Or(),S=l.fallback,h=i.mode,l=mc({mode:"visible",children:l.children},h),S=Ms(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,zs(i,e.child,null,a),l=i.child,l.memoizedState=fd(a),l.childLanes=dd(e,_,a),i.memoizedState=hd,i=cl(null,l));else if(Nr(i),Xd(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(s(419)),l.stack="",l.digest=_,Zo({value:l,source:null,stack:null}),i=pd(e,i,a)}else if(Ce||Ca(e,i,a,!1),_=(a&e.childLanes)!==0,Ce||_){if(_=te,_!==null&&(l=Oo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Os(e,l),cn(_,e,l),ud;Yd(S)||Ac(),i=pd(e,i,a)}else Yd(S)?(i.flags|=192,i.child=e.child,i=null):(e=N.treeContext,ne=Ln(S.nextSibling),qe=i,zt=!0,br=null,xn=!1,e!==null&&Og(i,e),i=md(i,l.children),i.flags|=4096);return i}return h?(Or(),S=l.fallback,h=i.mode,N=e.child,z=N.sibling,l=zi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,z!==null?S=zi(z,S):(S=Ms(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,cl(null,l),l=i.child,S=e.child.memoizedState,S===null?S=fd(a):(h=S.cachePool,h!==null?(N=we._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Ug(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=dd(e,_,a),i.memoizedState=hd,cl(e.child,l)):(Nr(i),a=e.child,e=a.sibling,a=zi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function md(e,i){return i=mc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function mc(e,i){return e=yn(22,e,null,i),e.lanes=0,e}function pd(e,i,a){return zs(i,e.child,null,a),e=md(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function $y(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Nf(e.return,i,a)}function gd(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Jy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=ye.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,rt(ye,_),Fe(e,i,l,a),l=zt?Jo:0,!S&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$y(e,a,i);else if(e.tag===19)$y(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&nc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),gd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&nc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}gd(i,!0,a,null,d,l);break;case"together":gd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Gi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),xr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ca(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=zi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=zi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function yd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Yu(e)))}function XA(e,i,a){switch(i.tag){case 3:me(i,i.stateNode.containerInfo),Rr(i,we,e.memoizedState.cache),Vs();break;case 27:case 5:ds(i);break;case 4:me(i,i.stateNode.containerInfo);break;case 10:Rr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,qf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Nr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Xy(e,i,a):(Nr(i),e=Gi(e,i,a),e!==null?e.sibling:null);Nr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ca(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Jy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(ye,ye.current),l)break;return null;case 22:return i.lanes=0,Hy(e,i,a,i.pendingProps);case 24:Rr(i,we,e.memoizedState.cache)}return Gi(e,i,a)}function Zy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ce=!0;else{if(!yd(e,a)&&(i.flags&128)===0)return Ce=!1,XA(e,i,a);Ce=(e.flags&131072)!==0}else Ce=!1,zt&&(i.flags&1048576)!==0&&Ng(i,Jo,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=Us(i.elementType),i.type=e,typeof e=="function")Sf(e)?(l=Bs(e,l),i.tag=1,i=Ky(null,i,e,l,a)):(i.tag=0,i=cd(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===Rt){i.tag=11,i=jy(null,i,e,l,a);break t}else if(h===R){i.tag=14,i=By(null,i,e,l,a);break t}}throw i=Wt(e)||e,Error(s(306,i,""))}}return i;case 0:return cd(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Bs(l,i.pendingProps),Ky(e,i,l,h,a);case 3:t:{if(me(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Uf(e,i),sl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Rr(i,we,l),l!==d.cache&&Of(i,[we],a,!0),rl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Yy(e,i,l,a);break t}else if(l!==h){h=On(Error(s(424)),i),Zo(h),i=Yy(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ne=Ln(e.firstChild),qe=i,zt=!0,br=null,xn=!0,a=Hg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Vs(),l===h){i=Gi(e,i,a);break t}Fe(e,i,l,a)}i=i.child}return i;case 26:return dc(e,i),e===null?(a=uv(i.type,null,i.pendingProps,null))?i.memoizedState=a:zt||(a=i.type,e=i.pendingProps,l=Nc(St.current).createElement(a),l[Se]=i,l[Pe]=e,Ge(l,a,e),Ae(l),i.stateNode=l):i.memoizedState=uv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ds(i),e===null&&zt&&(l=i.stateNode=av(i.type,i.pendingProps,St.current),qe=i,xn=!0,h=ne,zr(i.type)?($d=h,ne=Ln(l.firstChild)):ne=h),Fe(e,i,i.pendingProps.children,a),dc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&zt&&((h=l=ne)&&(l=w1(l,i.type,i.pendingProps,xn),l!==null?(i.stateNode=l,qe=i,ne=Ln(l.firstChild),xn=!1,h=!0):h=!1),h||wr(i)),ds(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Gd(h,d)?l=null:_!==null&&Gd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Ff(e,i,jA,null,null,a),wl._currentValue=h),dc(e,i),Fe(e,i,l,a),i.child;case 6:return e===null&&zt&&((e=a=ne)&&(a=R1(a,i.pendingProps,xn),a!==null?(i.stateNode=a,qe=i,ne=null,e=!0):e=!1),e||wr(i)),null;case 13:return Xy(e,i,a);case 4:return me(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=zs(i,null,l,a):Fe(e,i,l,a),i.child;case 11:return jy(e,i,i.type,i.pendingProps,a);case 7:return Fe(e,i,i.pendingProps,a),i.child;case 8:return Fe(e,i,i.pendingProps.children,a),i.child;case 12:return Fe(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Rr(i,i.type,l.value),Fe(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ps(i),h=He(h),l=l(h),i.flags|=1,Fe(e,i,l,a),i.child;case 14:return By(e,i,i.type,i.pendingProps,a);case 15:return qy(e,i,i.type,i.pendingProps,a);case 19:return Jy(e,i,a);case 31:return YA(e,i,a);case 22:return Hy(e,i,a,i.pendingProps);case 24:return Ps(i),l=He(we),e===null?(h=xf(),h===null&&(h=te,d=Mf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Lf(i),Rr(i,we,h)):((e.lanes&a)!==0&&(Uf(e,i),sl(i,null,null,a),rl()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Rr(i,we,l)):(l=d.cache,Rr(i,we,l),l!==h.cache&&Of(i,[we],a,!0))),Fe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Qi(e){e.flags|=4}function _d(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(w_())e.flags|=8192;else throw ks=Zu,Pf}else e.flags&=-16777217}function Wy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!mv(i))if(w_())e.flags|=8192;else throw ks=Zu,Pf}function pc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Tu():536870912,e.lanes|=i,za|=i)}function hl(e,i){if(!zt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ie(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function $A(e,i,a){var l=i.pendingProps;switch(Rf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(i),null;case 1:return ie(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),qi(we),se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ra(i)?Qi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,If())),ie(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(Qi(i),d!==null?(ie(i),Wy(i,d)):(ie(i),_d(i,h,null,l,a))):d?d!==e.memoizedState?(Qi(i),ie(i),Wy(i,d)):(ie(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&Qi(i),ie(i),_d(i,h,e,l,a)),null;case 27:if(ra(i),a=St.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ie(i),null}e=it.current,Ra(i)?Mg(i):(e=av(h,l,a),i.stateNode=e,Qi(i))}return ie(i),null;case 5:if(ra(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ie(i),null}if(d=it.current,Ra(i))Mg(i);else{var _=Nc(St.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Se]=i,d[Pe]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Ge(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Qi(i)}}return ie(i),_d(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Qi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=St.current,Ra(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=qe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Se]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||X_(e.nodeValue,a)),e||wr(i,!0)}else e=Nc(e).createTextNode(l),e[Se]=i,i.stateNode=e}return ie(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=Ra(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Se]=i}else Vs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),e=!1}else a=If(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(vn(i),i):(vn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ie(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ra(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Se]=i}else Vs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),h=!1}else h=If(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(vn(i),i):(vn(i),null)}return vn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),pc(i,i.updateQueue),ie(i),null);case 4:return se(),e===null&&jd(i.stateNode.containerInfo),ie(i),null;case 10:return qi(i.type),ie(i),null;case 19:if(Q(ye),l=i.memoizedState,l===null)return ie(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)hl(l,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=nc(e),d!==null){for(i.flags|=128,hl(l,!1),e=d.updateQueue,i.updateQueue=e,pc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Cg(a,e),a=a.sibling;return rt(ye,ye.current&1|2),zt&&ji(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&tn()>Ec&&(i.flags|=128,h=!0,hl(l,!1),i.lanes=4194304)}else{if(!h)if(e=nc(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,pc(i,e),hl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!zt)return ie(i),null}else 2*tn()-l.renderingStartTime>Ec&&a!==536870912&&(i.flags|=128,h=!0,hl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=tn(),e.sibling=null,a=ye.current,rt(ye,h?a&1|2:a&1),zt&&ji(i,l.treeForkCount),e):(ie(i),null);case 22:case 23:return vn(i),Bf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ie(i),i.subtreeFlags&6&&(i.flags|=8192)):ie(i),a=i.updateQueue,a!==null&&pc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&Q(Ls),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),qi(we),ie(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function JA(e,i){switch(Rf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return qi(we),se(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ra(i),null;case 31:if(i.memoizedState!==null){if(vn(i),i.alternate===null)throw Error(s(340));Vs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(vn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Vs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Q(ye),null;case 4:return se(),null;case 10:return qi(i.type),null;case 22:case 23:return vn(i),Bf(),e!==null&&Q(Ls),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return qi(we),null;case 25:return null;default:return null}}function t_(e,i){switch(Rf(i),i.tag){case 3:qi(we),se();break;case 26:case 27:case 5:ra(i);break;case 4:se();break;case 31:i.memoizedState!==null&&vn(i);break;case 13:vn(i);break;case 19:Q(ye);break;case 10:qi(i.type);break;case 22:case 23:vn(i),Bf(),e!==null&&Q(Ls);break;case 24:qi(we)}}function fl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){Yt(i,i.return,S)}}function Mr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var N=a,z=S;try{z()}catch(X){Yt(h,N,X)}}}l=l.next}while(l!==d)}}catch(X){Yt(i,i.return,X)}}function e_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Gg(i,a)}catch(l){Yt(e,e.return,l)}}}function n_(e,i,a){a.props=Bs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(e,i,l)}}function dl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Yt(e,i,h)}}function bi(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Yt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,i,h)}else a.current=null}function i_(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function vd(e,i,a){try{var l=e.stateNode;v1(l,e.type,a,i),l[Pe]=i}catch(h){Yt(e,e.return,h)}}function r_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zr(e.type)||e.tag===4}function Ed(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||r_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Td(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Qn));else if(l!==4&&(l===27&&zr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Td(e,i,a),e=e.sibling;e!==null;)Td(e,i,a),e=e.sibling}function gc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&zr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(gc(e,i,a),e=e.sibling;e!==null;)gc(e,i,a),e=e.sibling}function s_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ge(i,l,a),i[Se]=e,i[Pe]=a}catch(d){Yt(e,e.return,d)}}var Ki=!1,Ie=!1,Sd=!1,a_=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function ZA(e,i){if(e=e.containerInfo,Hd=Uc,e=_g(e),pf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,S=-1,N=-1,z=0,X=0,W=e,j=null;e:for(;;){for(var H;W!==a||h!==0&&W.nodeType!==3||(S=_+h),W!==d||l!==0&&W.nodeType!==3||(N=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(H=W.firstChild)!==null;)j=W,W=H;for(;;){if(W===e)break e;if(j===a&&++z===h&&(S=_),j===d&&++X===l&&(N=_),(H=W.nextSibling)!==null)break;W=j,j=W.parentNode}W=H}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Fd={focusedElem:e,selectionRange:a},Uc=!1,Ue=i;Ue!==null;)if(i=Ue,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Ue=e;else for(;Ue!==null;){switch(i=Ue,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ht=Bs(a.type,h);e=l.getSnapshotBeforeUpdate(ht,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(yt){Yt(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Kd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Kd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Ue=e;break}Ue=i.return}}function o_(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Xi(e,a),l&4&&fl(5,a);break;case 1:if(Xi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Yt(a,a.return,_)}else{var h=Bs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Yt(a,a.return,_)}}l&64&&e_(a),l&512&&dl(a,a.return);break;case 3:if(Xi(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Gg(e,i)}catch(_){Yt(a,a.return,_)}}break;case 27:i===null&&l&4&&s_(a);case 26:case 5:Xi(e,a),i===null&&l&4&&i_(a),l&512&&dl(a,a.return);break;case 12:Xi(e,a);break;case 31:Xi(e,a),l&4&&c_(e,a);break;case 13:Xi(e,a),l&4&&h_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=o1.bind(null,a),C1(e,a))));break;case 22:if(l=a.memoizedState!==null||Ki,!l){i=i!==null&&i.memoizedState!==null||Ie,h=Ki;var d=Ie;Ki=l,(Ie=i)&&!d?$i(e,a,(a.subtreeFlags&8772)!==0):Xi(e,a),Ki=h,Ie=d}break;case 30:break;default:Xi(e,a)}}function l_(e){var i=e.alternate;i!==null&&(e.alternate=null,l_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ua(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,an=!1;function Yi(e,i,a){for(a=a.child;a!==null;)u_(e,i,a),a=a.sibling}function u_(e,i,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:Ie||bi(a,i),Yi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||bi(a,i);var l=oe,h=an;zr(a.type)&&(oe=a.stateNode,an=!1),Yi(e,i,a),Sl(a.stateNode),oe=l,an=h;break;case 5:Ie||bi(a,i);case 6:if(l=oe,h=an,oe=null,Yi(e,i,a),oe=l,an=h,oe!==null)if(an)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(d){Yt(a,i,d)}else try{oe.removeChild(a.stateNode)}catch(d){Yt(a,i,d)}break;case 18:oe!==null&&(an?(e=oe,ev(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ka(e)):ev(oe,a.stateNode));break;case 4:l=oe,h=an,oe=a.stateNode.containerInfo,an=!0,Yi(e,i,a),oe=l,an=h;break;case 0:case 11:case 14:case 15:Mr(2,a,i),Ie||Mr(4,a,i),Yi(e,i,a);break;case 1:Ie||(bi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&n_(a,i,l)),Yi(e,i,a);break;case 21:Yi(e,i,a);break;case 22:Ie=(l=Ie)||a.memoizedState!==null,Yi(e,i,a),Ie=l;break;default:Yi(e,i,a)}}function c_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ka(e)}catch(a){Yt(i,i.return,a)}}}function h_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ka(e)}catch(a){Yt(i,i.return,a)}}function WA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new a_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new a_),i;default:throw Error(s(435,e.tag))}}function yc(e,i){var a=WA(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=l1.bind(null,e,l);l.then(h,h)}})}function on(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,S=_;t:for(;S!==null;){switch(S.tag){case 27:if(zr(S.type)){oe=S.stateNode,an=!1;break t}break;case 5:oe=S.stateNode,an=!1;break t;case 3:case 4:oe=S.stateNode.containerInfo,an=!0;break t}S=S.return}if(oe===null)throw Error(s(160));u_(d,_,h),oe=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)f_(i,e),i=i.sibling}var Zn=null;function f_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(i,e),ln(e),l&4&&(Mr(3,e,e.return),fl(3,e),Mr(5,e,e.return));break;case 1:on(i,e),ln(e),l&512&&(Ie||a===null||bi(a,a.return)),l&64&&Ki&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Zn;if(on(i,e),ln(e),l&512&&(Ie||a===null||bi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ci]||d[Se]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ge(d,l,a),d[Se]=e,Ae(d),l=d;break t;case"link":var _=fv("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break e}}d=h.createElement(l),Ge(d,l,a),h.head.appendChild(d);break;case"meta":if(_=fv("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break e}}d=h.createElement(l),Ge(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Se]=e,Ae(d),l=d}e.stateNode=l}else dv(h,e.type,e.stateNode);else e.stateNode=hv(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?dv(h,e.type,e.stateNode):hv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&vd(e,e.memoizedProps,a.memoizedProps)}break;case 27:on(i,e),ln(e),l&512&&(Ie||a===null||bi(a,a.return)),a!==null&&l&4&&vd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(on(i,e),ln(e),l&512&&(Ie||a===null||bi(a,a.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(ht){Yt(e,e.return,ht)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,vd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Sd=!0);break;case 6:if(on(i,e),ln(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ht){Yt(e,e.return,ht)}}break;case 3:if(Vc=null,h=Zn,Zn=Oc(i.containerInfo),on(i,e),Zn=h,ln(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ka(i.containerInfo)}catch(ht){Yt(e,e.return,ht)}Sd&&(Sd=!1,d_(e));break;case 4:l=Zn,Zn=Oc(e.stateNode.containerInfo),on(i,e),ln(e),Zn=l;break;case 12:on(i,e),ln(e);break;case 31:on(i,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,yc(e,l)));break;case 13:on(i,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(vc=tn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,yc(e,l)));break;case 22:h=e.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,z=Ki,X=Ie;if(Ki=z||h,Ie=X||N,on(i,e),Ie=X,Ki=z,ln(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||Ki||Ie||qs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=N.stateNode;var W=N.memoizedProps.style,j=W!=null&&W.hasOwnProperty("display")?W.display:null;S.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ht){Yt(N,N.return,ht)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(ht){Yt(N,N.return,ht)}}}else if(i.tag===18){if(a===null){N=i;try{var H=N.stateNode;h?nv(H,!0):nv(N.stateNode,!1)}catch(ht){Yt(N,N.return,ht)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,yc(e,a))));break;case 19:on(i,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,yc(e,l)));break;case 30:break;case 21:break;default:on(i,e),ln(e)}}function ln(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(r_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Ed(e);gc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(sn(_,""),a.flags&=-33);var S=Ed(e);gc(e,S,_);break;case 3:case 4:var N=a.stateNode.containerInfo,z=Ed(e);Td(e,z,N);break;default:throw Error(s(161))}}catch(X){Yt(e,e.return,X)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function d_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;d_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Xi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)o_(e,i.alternate,i),i=i.sibling}function qs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Mr(4,i,i.return),qs(i);break;case 1:bi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&n_(i,i.return,a),qs(i);break;case 27:Sl(i.stateNode);case 26:case 5:bi(i,i.return),qs(i);break;case 22:i.memoizedState===null&&qs(i);break;case 30:qs(i);break;default:qs(i)}e=e.sibling}}function $i(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:$i(h,d,a),fl(4,d);break;case 1:if($i(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Yt(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Fg(N[h],S)}catch(z){Yt(l,l.return,z)}}a&&_&64&&e_(d),dl(d,d.return);break;case 27:s_(d);case 26:case 5:$i(h,d,a),a&&l===null&&_&4&&i_(d),dl(d,d.return);break;case 12:$i(h,d,a);break;case 31:$i(h,d,a),a&&_&4&&c_(h,d);break;case 13:$i(h,d,a),a&&_&4&&h_(h,d);break;case 22:d.memoizedState===null&&$i(h,d,a),dl(d,d.return);break;case 30:break;default:$i(h,d,a)}i=i.sibling}}function Ad(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Wo(a))}function bd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Wo(e))}function Wn(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)m_(e,i,a,l),i=i.sibling}function m_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Wn(e,i,a,l),h&2048&&fl(9,i);break;case 1:Wn(e,i,a,l);break;case 3:Wn(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Wo(e)));break;case 12:if(h&2048){Wn(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){Yt(i,i.return,N)}}else Wn(e,i,a,l);break;case 31:Wn(e,i,a,l);break;case 13:Wn(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Wn(e,i,a,l):ml(e,i):d._visibility&2?Wn(e,i,a,l):(d._visibility|=2,La(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Ad(_,i);break;case 24:Wn(e,i,a,l),h&2048&&bd(i.alternate,i);break;default:Wn(e,i,a,l)}}function La(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,S=a,N=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:La(d,_,S,N,h),fl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?La(d,_,S,N,h):ml(d,_):(X._visibility|=2,La(d,_,S,N,h)),h&&z&2048&&Ad(_.alternate,_);break;case 24:La(d,_,S,N,h),h&&z&2048&&bd(_.alternate,_);break;default:La(d,_,S,N,h)}i=i.sibling}}function ml(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:ml(a,l),h&2048&&Ad(l.alternate,l);break;case 24:ml(a,l),h&2048&&bd(l.alternate,l);break;default:ml(a,l)}i=i.sibling}}var pl=8192;function Ua(e,i,a){if(e.subtreeFlags&pl)for(e=e.child;e!==null;)p_(e,i,a),e=e.sibling}function p_(e,i,a){switch(e.tag){case 26:Ua(e,i,a),e.flags&pl&&e.memoizedState!==null&&z1(a,Zn,e.memoizedState,e.memoizedProps);break;case 5:Ua(e,i,a);break;case 3:case 4:var l=Zn;Zn=Oc(e.stateNode.containerInfo),Ua(e,i,a),Zn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=pl,pl=16777216,Ua(e,i,a),pl=l):Ua(e,i,a));break;default:Ua(e,i,a)}}function g_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function gl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ue=l,__(l,e)}g_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)y_(e),e=e.sibling}function y_(e){switch(e.tag){case 0:case 11:case 15:gl(e),e.flags&2048&&Mr(9,e,e.return);break;case 3:gl(e);break;case 12:gl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,_c(e)):gl(e);break;default:gl(e)}}function _c(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ue=l,__(l,e)}g_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Mr(8,i,i.return),_c(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,_c(i));break;default:_c(i)}e=e.sibling}}function __(e,i){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:Mr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ue=l;else t:for(a=e;Ue!==null;){l=Ue;var h=l.sibling,d=l.return;if(l_(l),l===a){Ue=null;break t}if(h!==null){h.return=d,Ue=h;break t}Ue=d}}}var t1={getCacheForType:function(e){var i=He(we),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return He(we).controller.signal}},e1=typeof WeakMap=="function"?WeakMap:Map,Ft=0,te=null,Nt=null,Vt=0,Kt=0,En=null,Vr=!1,ka=!1,wd=!1,Ji=0,he=0,xr=0,Hs=0,Rd=0,Tn=0,za=0,yl=null,un=null,Cd=!1,vc=0,v_=0,Ec=1/0,Tc=null,Pr=null,Ve=0,Lr=null,ja=null,Zi=0,Id=0,Dd=null,E_=null,_l=0,Nd=null;function Sn(){return(Ft&2)!==0&&Vt!==0?Vt&-Vt:Y.T!==null?Ld():Su()}function T_(){if(Tn===0)if((Vt&536870912)===0||zt){var e=gs;gs<<=1,(gs&3932160)===0&&(gs=262144),Tn=e}else Tn=536870912;return e=_n.current,e!==null&&(e.flags|=32),Tn}function cn(e,i,a){(e===te&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Ba(e,0),Ur(e,Vt,Tn,!1)),ys(e,a),((Ft&2)===0||e!==te)&&(e===te&&((Ft&2)===0&&(Hs|=a),he===4&&Ur(e,Vt,Tn,!1)),wi(e))}function S_(e,i,a){if((Ft&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Hn(e,i),h=l?r1(e,i):Md(e,i,!0),d=l;do{if(h===0){ka&&!l&&Ur(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!n1(a)){h=Md(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var S=e;h=yl;var N=S.current.memoizedState.isDehydrated;if(N&&(Ba(S,_).flags|=256),_=Md(S,_,!1),_!==2){if(wd&&!N){S.errorRecoveryDisabledLanes|=d,Hs|=d,h=4;break t}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ba(e,0),Ur(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ur(l,i,Tn,!Vr);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=vc+300-tn(),10<h)){if(Ur(l,i,Tn,!Vr),oi(l,0,!0)!==0)break t;Zi=i,l.timeoutHandle=W_(A_.bind(null,l,a,un,Tc,Cd,i,Tn,Hs,za,Vr,d,"Throttled",-0,0),h);break t}A_(l,a,un,Tc,Cd,i,Tn,Hs,za,Vr,d,null,-0,0)}}break}while(!0);wi(e)}function A_(e,i,a,l,h,d,_,S,N,z,X,W,j,H){if(e.timeoutHandle=-1,W=i.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},p_(i,d,W);var ht=(d&62914560)===d?vc-tn():(d&4194048)===d?v_-tn():0;if(ht=j1(W,ht),ht!==null){Zi=d,e.cancelPendingCommit=ht(O_.bind(null,e,i,d,a,l,h,_,S,N,X,W,null,j,H)),Ur(e,d,_,!z);return}}O_(e,i,d,a,l,h,_,S,N)}function n1(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!gn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ur(e,i,a,l){i&=~Rd,i&=~Hs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-pe(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&_s(e,a,i)}function Sc(){return(Ft&6)===0?(vl(0),!1):!0}function Od(){if(Nt!==null){if(Kt===0)var e=Nt.return;else e=Nt,Bi=xs=null,Kf(e),Oa=null,el=0,e=Nt;for(;e!==null;)t_(e.alternate,e),e=e.return;Nt=null}}function Ba(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,S1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Zi=0,Od(),te=e,Nt=a=zi(e.current,null),Vt=i,Kt=0,En=null,Vr=!1,ka=Hn(e,i),wd=!1,za=Tn=Rd=Hs=xr=he=0,un=yl=null,Cd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-pe(l),d=1<<h;i|=e[h],l&=~d}return Ji=i,Hu(),a}function b_(e,i){It=null,Y.H=ul,i===Na||i===Ju?(i=jg(),Kt=3):i===Pf?(i=jg(),Kt=4):Kt=i===ud?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,Nt===null&&(he=1,hc(e,On(i,e.current)))}function w_(){var e=_n.current;return e===null?!0:(Vt&4194048)===Vt?Pn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===Pn:!1}function R_(){var e=Y.H;return Y.H=ul,e===null?ul:e}function C_(){var e=Y.A;return Y.A=t1,e}function Ac(){he=4,Vr||(Vt&4194048)!==Vt&&_n.current!==null||(ka=!0),(xr&134217727)===0&&(Hs&134217727)===0||te===null||Ur(te,Vt,Tn,!1)}function Md(e,i,a){var l=Ft;Ft|=2;var h=R_(),d=C_();(te!==e||Vt!==i)&&(Tc=null,Ba(e,i)),i=!1;var _=he;t:do try{if(Kt!==0&&Nt!==null){var S=Nt,N=En;switch(Kt){case 8:Od(),_=6;break t;case 3:case 2:case 9:case 6:_n.current===null&&(i=!0);var z=Kt;if(Kt=0,En=null,qa(e,S,N,z),a&&ka){_=0;break t}break;default:z=Kt,Kt=0,En=null,qa(e,S,N,z)}}i1(),_=he;break}catch(X){b_(e,X)}while(!0);return i&&e.shellSuspendCounter++,Bi=xs=null,Ft=l,Y.H=h,Y.A=d,Nt===null&&(te=null,Vt=0,Hu()),_}function i1(){for(;Nt!==null;)I_(Nt)}function r1(e,i){var a=Ft;Ft|=2;var l=R_(),h=C_();te!==e||Vt!==i?(Tc=null,Ec=tn()+500,Ba(e,i)):ka=Hn(e,i);t:do try{if(Kt!==0&&Nt!==null){i=Nt;var d=En;e:switch(Kt){case 1:Kt=0,En=null,qa(e,i,d,1);break;case 2:case 9:if(kg(d)){Kt=0,En=null,D_(i);break}i=function(){Kt!==2&&Kt!==9||te!==e||(Kt=7),wi(e)},d.then(i,i);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:kg(d)?(Kt=0,En=null,D_(i)):(Kt=0,En=null,qa(e,i,d,7));break;case 5:var _=null;switch(Nt.tag){case 26:_=Nt.memoizedState;case 5:case 27:var S=Nt;if(_?mv(_):S.stateNode.complete){Kt=0,En=null;var N=S.sibling;if(N!==null)Nt=N;else{var z=S.return;z!==null?(Nt=z,bc(z)):Nt=null}break e}}Kt=0,En=null,qa(e,i,d,5);break;case 6:Kt=0,En=null,qa(e,i,d,6);break;case 8:Od(),he=6;break t;default:throw Error(s(462))}}s1();break}catch(X){b_(e,X)}while(!0);return Bi=xs=null,Y.H=l,Y.A=h,Ft=a,Nt!==null?0:(te=null,Vt=0,Hu(),he)}function s1(){for(;Nt!==null&&!lf();)I_(Nt)}function I_(e){var i=Zy(e.alternate,e,Ji);e.memoizedProps=e.pendingProps,i===null?bc(e):Nt=i}function D_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Qy(a,i,i.pendingProps,i.type,void 0,Vt);break;case 11:i=Qy(a,i,i.pendingProps,i.type.render,i.ref,Vt);break;case 5:Kf(i);default:t_(a,i),i=Nt=Cg(i,Ji),i=Zy(a,i,Ji)}e.memoizedProps=e.pendingProps,i===null?bc(e):Nt=i}function qa(e,i,a,l){Bi=xs=null,Kf(i),Oa=null,el=0;var h=i.return;try{if(KA(e,h,i,a,Vt)){he=1,hc(e,On(a,e.current)),Nt=null;return}}catch(d){if(h!==null)throw Nt=h,d;he=1,hc(e,On(a,e.current)),Nt=null;return}i.flags&32768?(zt||l===1?e=!0:ka||(Vt&536870912)!==0?e=!1:(Vr=e=!0,(l===2||l===9||l===3||l===6)&&(l=_n.current,l!==null&&l.tag===13&&(l.flags|=16384))),N_(i,e)):bc(i)}function bc(e){var i=e;do{if((i.flags&32768)!==0){N_(i,Vr);return}e=i.return;var a=$A(i.alternate,i,Ji);if(a!==null){Nt=a;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=e}while(i!==null);he===0&&(he=5)}function N_(e,i){do{var a=JA(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);he=6,Nt=null}function O_(e,i,a,l,h,d,_,S,N){e.cancelPendingCommit=null;do wc();while(Ve!==0);if((Ft&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Ef,hf(e,a,d,_,S,N),e===te&&(Nt=te=null,Vt=0),ja=i,Lr=e,Zi=a,Id=d,Dd=h,E_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,u1(dr,function(){return L_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=lt.p,lt.p=2,_=Ft,Ft|=4;try{ZA(e,i,a)}finally{Ft=_,lt.p=h,Y.T=l}}Ve=1,M_(),V_(),x_()}}function M_(){if(Ve===1){Ve=0;var e=Lr,i=ja,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=lt.p;lt.p=2;var h=Ft;Ft|=4;try{f_(i,e);var d=Fd,_=_g(e.containerInfo),S=d.focusedElem,N=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&yg(S.ownerDocument.documentElement,S)){if(N!==null&&pf(S)){var z=N.start,X=N.end;if(X===void 0&&(X=z),"selectionStart"in S)S.selectionStart=z,S.selectionEnd=Math.min(X,S.value.length);else{var W=S.ownerDocument||document,j=W&&W.defaultView||window;if(j.getSelection){var H=j.getSelection(),ht=S.textContent.length,yt=Math.min(N.start,ht),Zt=N.end===void 0?yt:Math.min(N.end,ht);!H.extend&&yt>Zt&&(_=Zt,Zt=yt,yt=_);var P=gg(S,yt),O=gg(S,Zt);if(P&&O&&(H.rangeCount!==1||H.anchorNode!==P.node||H.anchorOffset!==P.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var k=W.createRange();k.setStart(P.node,P.offset),H.removeAllRanges(),yt>Zt?(H.addRange(k),H.extend(O.node,O.offset)):(k.setEnd(O.node,O.offset),H.addRange(k))}}}}for(W=[],H=S;H=H.parentNode;)H.nodeType===1&&W.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<W.length;S++){var $=W[S];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Uc=!!Hd,Fd=Hd=null}finally{Ft=h,lt.p=l,Y.T=a}}e.current=i,Ve=2}}function V_(){if(Ve===2){Ve=0;var e=Lr,i=ja,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=lt.p;lt.p=2;var h=Ft;Ft|=4;try{o_(e,i.alternate,i)}finally{Ft=h,lt.p=l,Y.T=a}}Ve=3}}function x_(){if(Ve===4||Ve===3){Ve=0,pu();var e=Lr,i=ja,a=Zi,l=E_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ve=5:(Ve=0,ja=Lr=null,P_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Pr=null),Pi(a),i=i.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(qn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=lt.p,lt.p=2,Y.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{Y.T=i,lt.p=h}}(Zi&3)!==0&&wc(),wi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===Nd?_l++:(_l=0,Nd=e):_l=0,vl(0)}}function P_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Wo(i)))}function wc(){return M_(),V_(),x_(),L_()}function L_(){if(Ve!==5)return!1;var e=Lr,i=Id;Id=0;var a=Pi(Zi),l=Y.T,h=lt.p;try{lt.p=32>a?32:a,Y.T=null,a=Dd,Dd=null;var d=Lr,_=Zi;if(Ve=0,ja=Lr=null,Zi=0,(Ft&6)!==0)throw Error(s(331));var S=Ft;if(Ft|=4,y_(d.current),m_(d,d.current,_,a),Ft=S,vl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(qn,d)}catch{}return!0}finally{lt.p=h,Y.T=l,P_(e,i)}}function U_(e,i,a){i=On(a,i),i=ld(e.stateNode,i,2),e=Dr(e,i,2),e!==null&&(ys(e,2),wi(e))}function Yt(e,i,a){if(e.tag===3)U_(e,e,a);else for(;i!==null;){if(i.tag===3){U_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Pr===null||!Pr.has(l))){e=On(a,e),a=ky(2),l=Dr(i,a,2),l!==null&&(zy(a,l,i,e),ys(l,2),wi(l));break}}i=i.return}}function Vd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new e1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(wd=!0,h.add(a),e=a1.bind(null,e,i,a),i.then(e,e))}function a1(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(Vt&a)===a&&(he===4||he===3&&(Vt&62914560)===Vt&&300>tn()-vc?(Ft&2)===0&&Ba(e,0):Rd|=a,za===Vt&&(za=0)),wi(e)}function k_(e,i){i===0&&(i=Tu()),e=Os(e,i),e!==null&&(ys(e,i),wi(e))}function o1(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),k_(e,a)}function l1(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),k_(e,a)}function u1(e,i){return Me(e,i)}var Rc=null,Ha=null,xd=!1,Cc=!1,Pd=!1,kr=0;function wi(e){e!==Ha&&e.next===null&&(Ha===null?Rc=Ha=e:Ha=Ha.next=e),Cc=!0,xd||(xd=!0,h1())}function vl(e,i){if(!Pd&&Cc){Pd=!0;do for(var a=!1,l=Rc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-pe(42|e)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,q_(l,d))}else d=Vt,d=oi(l,l===te?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Hn(l,d)||(a=!0,q_(l,d));l=l.next}while(a);Pd=!1}}function c1(){z_()}function z_(){Cc=xd=!1;var e=0;kr!==0&&T1()&&(e=kr);for(var i=tn(),a=null,l=Rc;l!==null;){var h=l.next,d=j_(l,i);d===0?(l.next=null,a===null?Rc=h:a.next=h,h===null&&(Ha=a)):(a=l,(e!==0||(d&3)!==0)&&(Cc=!0)),l=h}Ve!==0&&Ve!==5||vl(e),kr!==0&&(kr=0)}function j_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-pe(d),S=1<<_,N=h[_];N===-1?((S&a)===0||(S&l)!==0)&&(h[_]=cf(S,i)):N<=i&&(e.expiredLanes|=S),d&=~S}if(i=te,a=Vt,a=oi(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&fr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Hn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&fr(l),Pi(a)){case 2:case 8:a=Do;break;case 32:a=dr;break;case 268435456:a=gu;break;default:a=dr}return l=B_.bind(null,e),a=Me(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&fr(l),e.callbackPriority=2,e.callbackNode=null,2}function B_(e,i){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(wc()&&e.callbackNode!==a)return null;var l=Vt;return l=oi(e,e===te?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(S_(e,l,i),j_(e,tn()),e.callbackNode!=null&&e.callbackNode===a?B_.bind(null,e):null)}function q_(e,i){if(wc())return null;S_(e,i,!0)}function h1(){A1(function(){(Ft&6)!==0?Me(Io,c1):z_()})}function Ld(){if(kr===0){var e=Ia;e===0&&(e=si,si<<=1,(si&261888)===0&&(si=256)),kr=e}return kr}function H_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:da(""+e)}function F_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function f1(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=H_((h[Pe]||null).action),_=l.submitter;_&&(i=(i=_[Pe]||null)?H_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new _i("action","action",null,l,h);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(kr!==0){var N=_?F_(h,_):new FormData(h);nd(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=_?F_(h,_):new FormData(h),nd(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Ud=0;Ud<vf.length;Ud++){var kd=vf[Ud],d1=kd.toLowerCase(),m1=kd[0].toUpperCase()+kd.slice(1);Jn(d1,"on"+m1)}Jn(Tg,"onAnimationEnd"),Jn(Sg,"onAnimationIteration"),Jn(Ag,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(NA,"onTransitionRun"),Jn(OA,"onTransitionStart"),Jn(MA,"onTransitionCancel"),Jn(bg,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function G_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],N=S.instance,z=S.currentTarget;if(S=S.listener,N!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=z;try{d(h)}catch(X){qu(X)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(S=l[_],N=S.instance,z=S.currentTarget,S=S.listener,N!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=z;try{d(h)}catch(X){qu(X)}h.currentTarget=null,d=N}}}}function Ot(e,i){var a=i[la];a===void 0&&(a=i[la]=new Set);var l=e+"__bubble";a.has(l)||(Q_(i,e,2,!1),a.add(l))}function zd(e,i,a){var l=0;i&&(l|=4),Q_(a,e,l,i)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function jd(e){if(!e[Ic]){e[Ic]=!0,Mo.forEach(function(a){a!=="selectionchange"&&(p1.has(a)||zd(a,!1,e),zd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ic]||(i[Ic]=!0,zd("selectionchange",!1,i))}}function Q_(e,i,a,l){switch(Tv(i)){case 2:var h=H1;break;case 8:h=F1;break;default:h=em}a=h.bind(null,i,a,e),h=void 0,!As||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Bd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=hi(S),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue t}S=S.parentNode}}l=l.return}vr(function(){var z=d,X=Cn(a),W=[];t:{var j=wg.get(e);if(j!==void 0){var H=_i,ht=e;switch(e){case"keypress":if(ws(a)===0)break t;case"keydown":case"keyup":H=zu;break;case"focusin":ht="focus",H=Cs;break;case"focusout":ht="blur",H=Cs;break;case"beforeblur":case"afterblur":H=Cs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=g;break;case Tg:case Sg:case Ag:H=Mu;break;case bg:H=A;break;case"scroll":case"scrollend":H=Fo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ki;break;case"toggle":case"beforetoggle":H=Ct}var yt=(i&4)!==0,Zt=!yt&&(e==="scroll"||e==="scrollend"),P=yt?j!==null?j+"Capture":null:j;yt=[];for(var O=z,k;O!==null;){var $=O;if(k=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||k===null||P===null||($=Kn(O,P),$!=null&&yt.push(Tl(O,$,k))),Zt)break;O=O.return}0<yt.length&&(j=new H(j,ht,null,a,X),W.push({event:j,listeners:yt}))}}if((i&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&a!==Bo&&(ht=a.relatedTarget||a.fromElement)&&(hi(ht)||ht[ui]))break t;if((H||j)&&(j=X.window===X?X:(j=X.ownerDocument)?j.defaultView||j.parentWindow:window,H?(ht=a.relatedTarget||a.toElement,H=z,ht=ht?hi(ht):null,ht!==null&&(Zt=u(ht),yt=ht.tag,ht!==Zt||yt!==5&&yt!==27&&yt!==6)&&(ht=null)):(H=null,ht=z),H!==ht)){if(yt=Go,$="onMouseLeave",P="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(yt=ki,$="onPointerLeave",P="onPointerEnter",O="pointer"),Zt=H==null?j:mn(H),k=ht==null?j:mn(ht),j=new yt($,O+"leave",H,a,X),j.target=Zt,j.relatedTarget=k,$=null,hi(X)===z&&(yt=new yt(P,O+"enter",ht,a,X),yt.target=k,yt.relatedTarget=Zt,$=yt),Zt=$,H&&ht)e:{for(yt=g1,P=H,O=ht,k=0,$=P;$;$=yt($))k++;$=0;for(var mt=O;mt;mt=yt(mt))$++;for(;0<k-$;)P=yt(P),k--;for(;0<$-k;)O=yt(O),$--;for(;k--;){if(P===O||O!==null&&P===O.alternate){yt=P;break e}P=yt(P),O=yt(O)}yt=null}else yt=null;H!==null&&K_(W,j,H,yt,!1),ht!==null&&Zt!==null&&K_(W,Zt,ht,yt,!0)}}t:{if(j=z?mn(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Bt=cg;else if(lg(j))if(hg)Bt=CA;else{Bt=wA;var ft=bA}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&fa(z.elementType)&&(Bt=cg):Bt=RA;if(Bt&&(Bt=Bt(e,z))){ug(W,Bt,a,X);break t}ft&&ft(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&ko(j,"number",j.value)}switch(ft=z?mn(z):window,e){case"focusin":(lg(ft)||ft.contentEditable==="true")&&(Ea=ft,gf=z,$o=null);break;case"focusout":$o=gf=Ea=null;break;case"mousedown":yf=!0;break;case"contextmenu":case"mouseup":case"dragend":yf=!1,vg(W,a,X);break;case"selectionchange":if(DA)break;case"keydown":case"keyup":vg(W,a,X)}var Dt;if(Ht)t:{switch(e){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else va?Is(e,a)&&(xt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(xt="onCompositionStart");xt&&(Ti&&a.locale!=="ko"&&(va||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&va&&(Dt=Ho()):(yi=X,qo="value"in yi?yi.value:yi.textContent,va=!0)),ft=Dc(z,xt),0<ft.length&&(xt=new Ei(xt,e,null,a,X),W.push({event:xt,listeners:ft}),Dt?xt.data=Dt:(Dt=_a(a),Dt!==null&&(xt.data=Dt)))),(Dt=Dn?EA(e,a):TA(e,a))&&(xt=Dc(z,"onBeforeInput"),0<xt.length&&(ft=new Ei("onBeforeInput","beforeinput",null,a,X),W.push({event:ft,listeners:xt}),ft.data=Dt)),f1(W,e,z,a,X)}G_(W,i)})}function Tl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Dc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Kn(e,a),h!=null&&l.unshift(Tl(e,h,d)),h=Kn(e,i),h!=null&&l.push(Tl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function g1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function K_(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,N=S.alternate,z=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||z===null||(N=z,h?(z=Kn(a,d),z!=null&&_.unshift(Tl(a,z,N))):h||(z=Kn(a,d),z!=null&&_.push(Tl(a,z,N)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var y1=/\r\n?/g,_1=/\u0000|\uFFFD/g;function Y_(e){return(typeof e=="string"?e:""+e).replace(y1,`
`).replace(_1,"")}function X_(e,i){return i=Y_(i),Y_(e)===i}function Jt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||sn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&sn(e,""+l);break;case"className":pn(e,"class",l);break;case"tabIndex":pn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(e,a,l);break;case"style":jo(e,l,d);break;case"data":if(i!=="object"){pn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=da(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Jt(e,i,"name",h.name,h,null),Jt(e,i,"formEncType",h.formEncType,h,null),Jt(e,i,"formMethod",h.formMethod,h,null),Jt(e,i,"formTarget",h.formTarget,h,null)):(Jt(e,i,"encType",h.encType,h,null),Jt(e,i,"method",h.method,h,null),Jt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=da(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Qn);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=da(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),ca(e,"popover",l);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ca(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Du.get(a)||a,ca(e,a,l))}}function qd(e,i,a,l,h,d){switch(a){case"style":jo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?sn(e,l):(typeof l=="number"||typeof l=="bigint")&&sn(e,""+l);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Pe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ca(e,a,l)}}}function Ge(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Jt(e,i,d,_,a,null)}}h&&Jt(e,i,"srcSet",a.srcSet,a,null),l&&Jt(e,i,"src",a.src,a,null);return;case"input":Ot("invalid",e);var S=d=_=h=null,N=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":N=X;break;case"defaultChecked":z=X;break;case"value":d=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Jt(e,i,l,X,a,null)}}Ru(e,d,S,N,z,_,h,!1);return;case"select":Ot("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Jt(e,i,h,S,a,null)}i=d,a=_,e.multiple=!!l,i!=null?pr(e,!!l,i,!1):a!=null&&pr(e,!!l,a,!0);return;case"textarea":Ot("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Jt(e,i,_,S,a,null)}gr(e,l,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Jt(e,i,N,l,a,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(l=0;l<El.length;l++)Ot(El[l],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Jt(e,i,z,l,a,null)}return;default:if(fa(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&qd(e,i,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Jt(e,i,S,l,a,null))}function v1(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,N=null,z=null,X=null;for(H in a){var W=a[H];if(a.hasOwnProperty(H)&&W!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=W;default:l.hasOwnProperty(H)||Jt(e,i,H,null,l,W)}}for(var j in l){var H=l[j];if(W=a[j],l.hasOwnProperty(j)&&(H!=null||W!=null))switch(j){case"type":d=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":X=H;break;case"value":_=H;break;case"defaultValue":S=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==W&&Jt(e,i,j,H,l,W)}}ha(e,_,S,N,z,X,d,h);return;case"select":H=_=S=j=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":H=N;default:l.hasOwnProperty(d)||Jt(e,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":j=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==N&&Jt(e,i,h,d,l,N)}i=S,a=_,l=H,j!=null?pr(e,!!a,j,!1):!!l!=!!a&&(i!=null?pr(e,!!a,i,!0):pr(e,!!a,a?[]:"",!1));return;case"textarea":H=j=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Jt(e,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Jt(e,i,_,h,l,d)}Cu(e,j,H);return;case"option":for(var ht in a)if(j=a[ht],a.hasOwnProperty(ht)&&j!=null&&!l.hasOwnProperty(ht))switch(ht){case"selected":e.selected=!1;break;default:Jt(e,i,ht,null,l,j)}for(N in l)if(j=l[N],H=a[N],l.hasOwnProperty(N)&&j!==H&&(j!=null||H!=null))switch(N){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Jt(e,i,N,j,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)j=a[yt],a.hasOwnProperty(yt)&&j!=null&&!l.hasOwnProperty(yt)&&Jt(e,i,yt,null,l,j);for(z in l)if(j=l[z],H=a[z],l.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Jt(e,i,z,j,l,H)}return;default:if(fa(i)){for(var Zt in a)j=a[Zt],a.hasOwnProperty(Zt)&&j!==void 0&&!l.hasOwnProperty(Zt)&&qd(e,i,Zt,void 0,l,j);for(X in l)j=l[X],H=a[X],!l.hasOwnProperty(X)||j===H||j===void 0&&H===void 0||qd(e,i,X,j,l,H);return}}for(var P in a)j=a[P],a.hasOwnProperty(P)&&j!=null&&!l.hasOwnProperty(P)&&Jt(e,i,P,null,l,j);for(W in l)j=l[W],H=a[W],!l.hasOwnProperty(W)||j===H||j==null&&H==null||Jt(e,i,W,j,l,H)}function $_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function E1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&$_(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],z=N.startTime;if(z>S)break;var X=N.transferSize,W=N.initiatorType;X&&$_(W)&&(N=N.responseEnd,_+=X*(N<S?1:(S-z)/(N-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Hd=null,Fd=null;function Nc(e){return e.nodeType===9?e:e.ownerDocument}function J_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Gd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Qd=null;function T1(){var e=window.event;return e&&e.type==="popstate"?e===Qd?!1:(Qd=e,!0):(Qd=null,!1)}var W_=typeof setTimeout=="function"?setTimeout:void 0,S1=typeof clearTimeout=="function"?clearTimeout:void 0,tv=typeof Promise=="function"?Promise:void 0,A1=typeof queueMicrotask=="function"?queueMicrotask:typeof tv<"u"?function(e){return tv.resolve(null).then(e).catch(b1)}:W_;function b1(e){setTimeout(function(){throw e})}function zr(e){return e==="head"}function ev(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),Ka(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Sl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Sl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[ci]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Sl(e.ownerDocument.body);a=h}while(a);Ka(i)}function nv(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Kd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kd(a),ua(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function w1(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ci])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function R1(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ln(e.nextSibling),e===null))return null;return e}function iv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Ln(e.nextSibling),e===null))return null;return e}function Yd(e){return e.data==="$?"||e.data==="$~"}function Xd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function C1(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Ln(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var $d=null;function rv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Ln(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function sv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function av(e,i,a){switch(i=Nc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Sl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ua(e)}var Un=new Map,ov=new Set;function Oc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Wi=lt.d;lt.d={f:I1,r:D1,D:N1,C:O1,L:M1,m:V1,X:P1,S:x1,M:L1};function I1(){var e=Wi.f(),i=Sc();return e||i}function D1(e){var i=Rn(e);i!==null&&i.tag===5&&i.type==="form"?by(i):Wi.r(e)}var Fa=typeof document>"u"?null:document;function lv(e,i,a){var l=Fa;if(l&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),ov.has(h)||(ov.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ge(i,"link",e),Ae(i),l.head.appendChild(i)))}}function N1(e){Wi.D(e),lv("dns-prefetch",e,null)}function O1(e,i){Wi.C(e,i),lv("preconnect",e,i)}function M1(e,i,a){Wi.L(e,i,a);var l=Fa;if(l&&e&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var d=h;switch(i){case"style":d=Ga(e);break;case"script":d=Qa(e)}Un.has(d)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Un.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Al(d))||i==="script"&&l.querySelector(bl(d))||(i=l.createElement("link"),Ge(i,"link",e),Ae(i),l.head.appendChild(i)))}}function V1(e,i){Wi.m(e,i);var a=Fa;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Qa(e)}if(!Un.has(d)&&(e=T({rel:"modulepreload",href:e},i),Un.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(d)))return}l=a.createElement("link"),Ge(l,"link",e),Ae(l),a.head.appendChild(l)}}}function x1(e,i,a){Wi.S(e,i,a);var l=Fa;if(l&&e){var h=fi(l).hoistableStyles,d=Ga(e);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Al(d)))S.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Un.get(d))&&Jd(e,a);var N=_=l.createElement("link");Ae(N),Ge(N,"link",e),N._p=new Promise(function(z,X){N.onload=z,N.onerror=X}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Mc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function P1(e,i){Wi.X(e,i);var a=Fa;if(a&&e){var l=fi(a).hoistableScripts,h=Qa(e),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(e=T({src:e,async:!0},i),(i=Un.get(h))&&Zd(e,i),d=a.createElement("script"),Ae(d),Ge(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function L1(e,i){Wi.M(e,i);var a=Fa;if(a&&e){var l=fi(a).hoistableScripts,h=Qa(e),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(e=T({src:e,async:!0,type:"module"},i),(i=Un.get(h))&&Zd(e,i),d=a.createElement("script"),Ae(d),Ge(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function uv(e,i,a,l){var h=(h=St.current)?Oc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ga(a.href),a=fi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ga(a.href);var d=fi(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(Al(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Un.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(e,a),d||U1(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Qa(a),a=fi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ga(e){return'href="'+rn(e)+'"'}function Al(e){return'link[rel="stylesheet"]['+e+"]"}function cv(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function U1(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ge(i,"link",a),Ae(i),e.head.appendChild(i))}function Qa(e){return'[src="'+rn(e)+'"]'}function bl(e){return"script[async]"+e}function hv(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+rn(a.href)+'"]');if(l)return i.instance=l,Ae(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ae(l),Ge(l,"style",h),Mc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Ga(a.href);var d=e.querySelector(Al(h));if(d)return i.state.loading|=4,i.instance=d,Ae(d),d;l=cv(a),(h=Un.get(h))&&Jd(l,h),d=(e.ownerDocument||e).createElement("link"),Ae(d);var _=d;return _._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Ge(d,"link",l),i.state.loading|=4,Mc(d,a.precedence,e),i.instance=d;case"script":return d=Qa(a.src),(h=e.querySelector(bl(d)))?(i.instance=h,Ae(h),h):(l=a,(h=Un.get(d))&&(l=T({},a),Zd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ae(h),Ge(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Mc(l,a.precedence,e));return i.instance}function Mc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Jd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Zd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Vc=null;function fv(e,i,a){if(Vc===null){var l=new Map,h=Vc=new Map;h.set(a,l)}else h=Vc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ci]||d[Se]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function dv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function k1(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function mv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function z1(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ga(l.href),d=i.querySelector(Al(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=xc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Ae(d);return}d=i.ownerDocument||i,l=cv(l),(h=Un.get(h))&&Jd(l,h),d=d.createElement("link"),Ae(d);var _=d;_._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Ge(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=xc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Wd=0;function j1(e,i){return e.stylesheets&&e.count===0&&Lc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Lc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&Wd===0&&(Wd=62500*E1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Lc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Wd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Pc=null;function Lc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Pc=new Map,i.forEach(B1,e),Pc=null,xc.call(e))}function B1(e,i){if(!(i.state.loading&4)){var a=Pc.get(e);if(a)var l=a.get(null);else{a=new Map,Pc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=xc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var wl={$$typeof:ot,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function q1(e,i,a,l,h,d,_,S,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function pv(e,i,a,l,h,d,_,S,N,z,X,W){return e=new q1(e,i,a,_,N,z,X,W,S),i=1,d===!0&&(i|=24),d=yn(3,null,null,i),e.current=d,d.stateNode=e,i=Mf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Lf(d),e}function gv(e){return e?(e=Aa,e):Aa}function yv(e,i,a,l,h,d){h=gv(h),l.context===null?l.context=h:l.pendingContext=h,l=Ir(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Dr(e,l,i),a!==null&&(cn(a,e,i),il(a,e,i))}function _v(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function tm(e,i){_v(e,i),(e=e.alternate)&&_v(e,i)}function vv(e){if(e.tag===13||e.tag===31){var i=Os(e,67108864);i!==null&&cn(i,e,67108864),tm(e,67108864)}}function Ev(e){if(e.tag===13||e.tag===31){var i=Sn();i=vs(i);var a=Os(e,i);a!==null&&cn(a,e,i),tm(e,i)}}var Uc=!0;function H1(e,i,a,l){var h=Y.T;Y.T=null;var d=lt.p;try{lt.p=2,em(e,i,a,l)}finally{lt.p=d,Y.T=h}}function F1(e,i,a,l){var h=Y.T;Y.T=null;var d=lt.p;try{lt.p=8,em(e,i,a,l)}finally{lt.p=d,Y.T=h}}function em(e,i,a,l){if(Uc){var h=nm(l);if(h===null)Bd(e,i,l,kc,a),Sv(e,l);else if(Q1(h,e,i,a,l))l.stopPropagation();else if(Sv(e,l),i&4&&-1<G1.indexOf(e)){for(;h!==null;){var d=Rn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ai(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var N=1<<31-pe(_);S.entanglements[1]|=N,_&=~N}wi(d),(Ft&6)===0&&(Ec=tn()+500,vl(0))}}break;case 31:case 13:S=Os(d,2),S!==null&&cn(S,d,2),Sc(),tm(d,2)}if(d=nm(l),d===null&&Bd(e,i,l,kc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Bd(e,i,l,null,a)}}function nm(e){return e=Cn(e),im(e)}var kc=null;function im(e){if(kc=null,e=hi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return kc=e,null}function Tv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ps()){case Io:return 2;case Do:return 8;case dr:case uf:return 32;case gu:return 268435456;default:return 32}default:return 32}}var rm=!1,jr=null,Br=null,qr=null,Rl=new Map,Cl=new Map,Hr=[],G1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sv(e,i){switch(e){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":Rl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(i.pointerId)}}function Il(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Rn(i),i!==null&&vv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function Q1(e,i,a,l,h){switch(i){case"focusin":return jr=Il(jr,e,i,a,l,h),!0;case"dragenter":return Br=Il(Br,e,i,a,l,h),!0;case"mouseover":return qr=Il(qr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Rl.set(d,Il(Rl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Cl.set(d,Il(Cl.get(d)||null,e,i,a,l,h)),!0}return!1}function Av(e){var i=hi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Fn(e.priority,function(){Ev(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,Fn(e.priority,function(){Ev(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=nm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Bo=l,a.target.dispatchEvent(l),Bo=null}else return i=Rn(a),i!==null&&vv(i),e.blockedOn=a,!1;i.shift()}return!0}function bv(e,i,a){zc(e)&&a.delete(i)}function K1(){rm=!1,jr!==null&&zc(jr)&&(jr=null),Br!==null&&zc(Br)&&(Br=null),qr!==null&&zc(qr)&&(qr=null),Rl.forEach(bv),Cl.forEach(bv)}function jc(e,i){e.blockedOn===i&&(e.blockedOn=null,rm||(rm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,K1)))}var Bc=null;function wv(e){Bc!==e&&(Bc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Bc===e&&(Bc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(im(l||a)===null)continue;break}var d=Rn(a);d!==null&&(e.splice(i,3),i-=3,nd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ka(e){function i(N){return jc(N,e)}jr!==null&&jc(jr,e),Br!==null&&jc(Br,e),qr!==null&&jc(qr,e),Rl.forEach(i),Cl.forEach(i);for(var a=0;a<Hr.length;a++){var l=Hr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Hr.length&&(a=Hr[0],a.blockedOn===null);)Av(a),a.blockedOn===null&&Hr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Pe]||null;if(typeof d=="function")_||wv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Pe]||null)S=_.formAction;else if(im(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),wv(a)}}}function Rv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function sm(e){this._internalRoot=e}qc.prototype.render=sm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Sn();yv(a,l,e,i,null,null)},qc.prototype.unmount=sm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;yv(e.current,2,null,e,null,null),Sc(),i[ui]=null}};function qc(e){this._internalRoot=e}qc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Su();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Hr.length&&i!==0&&i<Hr[a].priority;a++);Hr.splice(a,0,e),a===0&&Av(e)}};var Cv=t.version;if(Cv!=="19.2.2")throw Error(s(527,Cv,"19.2.2"));lt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var Y1={bundleType:0,version:"19.2.2",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.2"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{qn=Hc.inject(Y1),je=Hc}catch{}}return Nl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=xy,d=Py,_=Ly;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=pv(e,1,!1,null,null,a,l,null,h,d,_,Rv),e[ui]=i.current,jd(e),new sm(i)},Nl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=xy,_=Py,S=Ly,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=pv(e,1,!0,i,a??null,l,h,N,d,_,S,Rv),i.context=gv(null),a=i.current,l=Sn(),l=vs(l),h=Ir(l),h.callback=null,Dr(a,h,l),a=l,i.current.lanes=a,ys(i,a),wi(i),e[ui]=i.current,jd(e),new qc(i)},Nl.version="19.2.2",Nl}var Uv;function sb(){if(Uv)return lm.exports;Uv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),lm.exports=rb(),lm.exports}var ab=sb();var kv="popstate";function ob(r={}){function t(s,o){let{pathname:u,search:f,hash:m}=s.location;return Cm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Fl(o)}return ub(t,n,null,r)}function le(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Bn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lb(){return Math.random().toString(36).substring(2,10)}function zv(r,t){return{usr:r.state,key:r.key,idx:t}}function Cm(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?fo(t):t,state:n,key:t&&t.key||s||lb()}}function Fl({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function fo(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function ub(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let G=E(),et=G==null?null:G-y;y=G,p&&p({action:m,location:Z.location,delta:et})}function w(G,et){m="PUSH";let nt=Cm(Z.location,G,et);y=E()+1;let ot=zv(nt,y),Rt=Z.createHref(nt);try{f.pushState(ot,"",Rt)}catch(_t){if(_t instanceof DOMException&&_t.name==="DataCloneError")throw _t;o.location.assign(Rt)}u&&p&&p({action:m,location:Z.location,delta:1})}function x(G,et){m="REPLACE";let nt=Cm(Z.location,G,et);y=E();let ot=zv(nt,y),Rt=Z.createHref(nt);f.replaceState(ot,"",Rt),u&&p&&p({action:m,location:Z.location,delta:0})}function F(G){return cb(G)}let Z={get action(){return m},get location(){return r(o,f)},listen(G){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(kv,T),p=G,()=>{o.removeEventListener(kv,T),p=null}},createHref(G){return t(o,G)},createURL:F,encodeLocation(G){let et=F(G);return{pathname:et.pathname,search:et.search,hash:et.hash}},push:w,replace:x,go(G){return f.go(G)}};return Z}function cb(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),le(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Fl(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function RT(r,t,n="/"){return hb(r,t,n,!1)}function hb(r,t,n,s){let o=typeof t=="string"?fo(t):t,u=rr(o.pathname||"/",n);if(u==null)return null;let f=CT(r);fb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=Ab(u);m=Tb(f[p],y,s)}return m}function CT(r,t=[],n=[],s="",o=!1){let u=(f,m,p=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;le(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=nr([s,E.relativePath]),w=n.concat(E);f.children&&f.children.length>0&&(le(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),CT(f.children,t,w,T,p)),!(f.path==null&&!f.index)&&t.push({path:T,score:vb(T,f.index),routesMeta:w})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of IT(f.path))u(f,m,!0,p)}),t}function IT(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=IT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function fb(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:Eb(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var db=/^:[\w-]+$/,mb=3,pb=2,gb=1,yb=10,_b=-2,jv=r=>r==="*";function vb(r,t){let n=r.split("/"),s=n.length;return n.some(jv)&&(s+=_b),t&&(s+=pb),n.filter(o=>!jv(o)).reduce((o,u)=>o+(db.test(u)?mb:u===""?gb:yb),s)}function Eb(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function Tb(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",T=ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),w=p.route;if(!T&&y&&n&&!s[s.length-1].route.index&&(T=ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:nr([u,T.pathname]),pathnameBase:Cb(nr([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=nr([u,T.pathnameBase]))}return f}function ch(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Sb(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:T},w)=>{if(E==="*"){let F=m[w]||"";f=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const x=m[w];return T&&!x?y[E]=void 0:y[E]=(x||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function Sb(r,t=!1,n=!0){Bn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function Ab(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Bn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function rr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var DT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bb=r=>DT.test(r);function wb(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?fo(r):r,u;if(n)if(bb(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Bn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=Bv(n.substring(1),"/"):u=Bv(n,t)}else u=t;return{pathname:u,search:Ib(s),hash:Db(o)}}function Bv(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function fm(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Rb(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ip(r){let t=Rb(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function rp(r,t,n,s=!1){let o;typeof r=="string"?o=fo(r):(o={...r},le(!o.pathname||!o.pathname.includes("?"),fm("?","pathname","search",o)),le(!o.pathname||!o.pathname.includes("#"),fm("#","pathname","hash",o)),le(!o.search||!o.search.includes("#"),fm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=t.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?t[T]:"/"}let p=wb(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var nr=r=>r.join("/").replace(/\/\/+/g,"/"),Cb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Ib=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Db=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Nb=class{constructor(r,t,n,s=!1){this.status=r,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Ob(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Mb(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var NT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function OT(r,t){let n=r;if(typeof n!="string"||!DT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(NT)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=rr(f.pathname,t);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{Bn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var MT=["POST","PUT","PATCH","DELETE"];new Set(MT);var Vb=["GET",...MT];new Set(Vb);var mo=B.createContext(null);mo.displayName="DataRouter";var xh=B.createContext(null);xh.displayName="DataRouterState";var xb=B.createContext(!1),VT=B.createContext({isTransitioning:!1});VT.displayName="ViewTransition";var Pb=B.createContext(new Map);Pb.displayName="Fetchers";var Lb=B.createContext(null);Lb.displayName="Await";var bn=B.createContext(null);bn.displayName="Navigation";var nu=B.createContext(null);nu.displayName="Location";var xi=B.createContext({outlet:null,matches:[],isDataRoute:!1});xi.displayName="Route";var sp=B.createContext(null);sp.displayName="RouteError";var xT="REACT_ROUTER_ERROR",Ub="REDIRECT",kb="ROUTE_ERROR_RESPONSE";function zb(r){if(r.startsWith(`${xT}:${Ub}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function jb(r){if(r.startsWith(`${xT}:${kb}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Nb(t.status,t.statusText,t.data)}catch{}}function Bb(r,{relative:t}={}){le(po(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=B.useContext(bn),{hash:o,pathname:u,search:f}=iu(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:nr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function po(){return B.useContext(nu)!=null}function cr(){return le(po(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(nu).location}var PT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LT(r){B.useContext(bn).static||B.useLayoutEffect(r)}function Ph(){let{isDataRoute:r}=B.useContext(xi);return r?tw():qb()}function qb(){le(po(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(mo),{basename:t,navigator:n}=B.useContext(bn),{matches:s}=B.useContext(xi),{pathname:o}=cr(),u=JSON.stringify(ip(s)),f=B.useRef(!1);return LT(()=>{f.current=!0}),B.useCallback((p,y={})=>{if(Bn(f.current,PT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=rp(p,JSON.parse(u),o,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:nr([t,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[t,n,u,o,r])}B.createContext(null);function iu(r,{relative:t}={}){let{matches:n}=B.useContext(xi),{pathname:s}=cr(),o=JSON.stringify(ip(n));return B.useMemo(()=>rp(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function Hb(r,t){return UT(r,t)}function UT(r,t,n,s,o){le(po(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=B.useContext(bn),{matches:f}=B.useContext(xi),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let nt=T&&T.path||"";zT(y,!T||nt.endsWith("*")||nt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${nt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${nt}"> to <Route path="${nt==="/"?"*":`${nt}/*`}">.`)}let w=cr(),x;if(t){let nt=typeof t=="string"?fo(t):t;le(E==="/"||nt.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${nt.pathname}" was given in the \`location\` prop.`),x=nt}else x=w;let F=x.pathname||"/",Z=F;if(E!=="/"){let nt=E.replace(/^\//,"").split("/");Z="/"+F.replace(/^\//,"").split("/").slice(nt.length).join("/")}let G=RT(r,{pathname:Z});Bn(T||G!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Bn(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let et=Yb(G&&G.map(nt=>Object.assign({},nt,{params:Object.assign({},p,nt.params),pathname:nr([E,u.encodeLocation?u.encodeLocation(nt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:nt.pathname]),pathnameBase:nt.pathnameBase==="/"?E:nr([E,u.encodeLocation?u.encodeLocation(nt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:nt.pathnameBase])})),f,n,s,o);return t&&et?B.createElement(nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},et):et}function Fb(){let r=Wb(),t=Ob(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),n?B.createElement("pre",{style:o},n):null,f)}var Gb=B.createElement(Fb,null),kT=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=jb(r.digest);n&&(r=n)}let t=r!==void 0?B.createElement(xi.Provider,{value:this.props.routeContext},B.createElement(sp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?B.createElement(Qb,{error:r},t):t}};kT.contextType=xb;var dm=new WeakMap;function Qb({children:r,error:t}){let{basename:n}=B.useContext(bn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=zb(t.digest);if(s){let o=dm.get(t);if(o)throw o;let u=OT(s.location,n);if(NT&&!dm.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw dm.set(t,f),f}return B.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function Kb({routeContext:r,match:t,children:n}){let s=B.useContext(mo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),B.createElement(xi.Provider,{value:r},n)}function Yb(r,t=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);le(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:w,errors:x}=n,F=T.route.loader&&!w.hasOwnProperty(T.route.id)&&(!x||x[T.route.id]===void 0);if(T.route.lazy||F){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let y=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Mb(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,w)=>{let x,F=!1,Z=null,G=null;n&&(x=f&&T.route.id?f[T.route.id]:void 0,Z=T.route.errorElement||Gb,m&&(p<0&&w===0?(zT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),F=!0,G=null):p===w&&(F=!0,G=T.route.hydrateFallbackElement||null)));let et=t.concat(u.slice(0,w+1)),nt=()=>{let ot;return x?ot=Z:F?ot=G:T.route.Component?ot=B.createElement(T.route.Component,null):T.route.element?ot=T.route.element:ot=E,B.createElement(Kb,{match:T,routeContext:{outlet:E,matches:et,isDataRoute:n!=null},children:ot})};return n&&(T.route.ErrorBoundary||T.route.errorElement||w===0)?B.createElement(kT,{location:n.location,revalidation:n.revalidation,component:Z,error:x,children:nt(),routeContext:{outlet:null,matches:et,isDataRoute:!0},onError:y}):nt()},null)}function ap(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xb(r){let t=B.useContext(mo);return le(t,ap(r)),t}function $b(r){let t=B.useContext(xh);return le(t,ap(r)),t}function Jb(r){let t=B.useContext(xi);return le(t,ap(r)),t}function op(r){let t=Jb(r),n=t.matches[t.matches.length-1];return le(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Zb(){return op("useRouteId")}function Wb(){let r=B.useContext(sp),t=$b("useRouteError"),n=op("useRouteError");return r!==void 0?r:t.errors?.[n]}function tw(){let{router:r}=Xb("useNavigate"),t=op("useNavigate"),n=B.useRef(!1);return LT(()=>{n.current=!0}),B.useCallback(async(o,u={})=>{Bn(n.current,PT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var qv={};function zT(r,t,n){!t&&!qv[r]&&(qv[r]=!0,Bn(!1,n))}B.memo(ew);function ew({routes:r,future:t,state:n,onError:s}){return UT(r,void 0,n,s,t)}function nw({to:r,replace:t,state:n,relative:s}){le(po(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(bn);Bn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=B.useContext(xi),{pathname:f}=cr(),m=Ph(),p=rp(r,ip(u),f,s==="path"),y=JSON.stringify(p);return B.useEffect(()=>{m(JSON.parse(y),{replace:t,state:n,relative:s})},[m,y,s,t,n]),null}function Jc(r){le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iw({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){le(!po(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=B.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=fo(n));let{pathname:y="/",search:E="",hash:T="",state:w=null,key:x="default"}=n,F=B.useMemo(()=>{let Z=rr(y,m);return Z==null?null:{location:{pathname:Z,search:E,hash:T,state:w,key:x},navigationType:s}},[m,y,E,T,w,x,s]);return Bn(F!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),F==null?null:B.createElement(bn.Provider,{value:p},B.createElement(nu.Provider,{children:t,value:F}))}function rw({children:r,location:t}){return Hb(Im(r),t)}function Im(r,t=[]){let n=[];return B.Children.forEach(r,(s,o)=>{if(!B.isValidElement(s))return;let u=[...t,o];if(s.type===B.Fragment){n.push.apply(n,Im(s.props.children,u));return}le(s.type===Jc,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),le(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Im(s.props.children,u)),n.push(f)}),n}var Zc="get",Wc="application/x-www-form-urlencoded";function Lh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function sw(r){return Lh(r)&&r.tagName.toLowerCase()==="button"}function aw(r){return Lh(r)&&r.tagName.toLowerCase()==="form"}function ow(r){return Lh(r)&&r.tagName.toLowerCase()==="input"}function lw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function uw(r,t){return r.button===0&&(!t||t==="_self")&&!lw(r)}var Fc=null;function cw(){if(Fc===null)try{new FormData(document.createElement("form"),0),Fc=!1}catch{Fc=!0}return Fc}var hw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mm(r){return r!=null&&!hw.has(r)?(Bn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wc}"`),null):r}function fw(r,t){let n,s,o,u,f;if(aw(r)){let m=r.getAttribute("action");s=m?rr(m,t):null,n=r.getAttribute("method")||Zc,o=mm(r.getAttribute("enctype"))||Wc,u=new FormData(r)}else if(sw(r)||ow(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?rr(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Zc,o=mm(r.getAttribute("formenctype"))||mm(m.getAttribute("enctype"))||Wc,u=new FormData(m,r),!cw()){let{name:y,type:E,value:T}=r;if(E==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,T)}}else{if(Lh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zc,s=null,o=Wc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lp(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function dw(r,t,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&rr(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function mw(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function gw(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await mw(u,n);return f.links?f.links():[]}return[]}));return Ew(s.flat(1).filter(pw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Hv(r,t,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return u==="assets"?t.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?t.filter((p,y)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function yw(r,t,{includeHydrateFallback:n}={}){return _w(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function _w(r){return[...new Set(r)]}function vw(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function Ew(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(vw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function jT(){let r=B.useContext(mo);return lp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Tw(){let r=B.useContext(xh);return lp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var up=B.createContext(void 0);up.displayName="FrameworkContext";function BT(){let r=B.useContext(up);return lp(r,"You must render this element inside a <HydratedRouter> element"),r}function Sw(r,t){let n=B.useContext(up),[s,o]=B.useState(!1),[u,f]=B.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=t,w=B.useRef(null);B.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Z=et=>{et.forEach(nt=>{f(nt.isIntersecting)})},G=new IntersectionObserver(Z,{threshold:.5});return w.current&&G.observe(w.current),()=>{G.disconnect()}}},[r]),B.useEffect(()=>{if(s){let Z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Z)}}},[s]);let x=()=>{o(!0)},F=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Ol(m,x),onBlur:Ol(p,F),onMouseEnter:Ol(y,x),onMouseLeave:Ol(E,F),onTouchStart:Ol(T,x)}]:[!1,w,{}]}function Ol(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function Aw({page:r,...t}){let{router:n}=jT(),s=B.useMemo(()=>RT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?B.createElement(ww,{page:r,matches:s,...t}):null}function bw(r){let{manifest:t,routeModules:n}=BT(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return gw(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function ww({page:r,matches:t,...n}){let s=cr(),{manifest:o,routeModules:u}=BT(),{basename:f}=jT(),{loaderData:m,matches:p}=Tw(),y=B.useMemo(()=>Hv(r,t,p,o,s,"data"),[r,t,p,o,s]),E=B.useMemo(()=>Hv(r,t,p,o,s,"assets"),[r,t,p,o,s]),T=B.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let F=new Set,Z=!1;if(t.forEach(et=>{let nt=o.routes[et.route.id];!nt||!nt.hasLoader||(!y.some(ot=>ot.route.id===et.route.id)&&et.route.id in m&&u[et.route.id]?.shouldRevalidate||nt.hasClientLoader?Z=!0:F.add(et.route.id))}),F.size===0)return[];let G=dw(r,f,"data");return Z&&F.size>0&&G.searchParams.set("_routes",t.filter(et=>F.has(et.route.id)).map(et=>et.route.id).join(",")),[G.pathname+G.search]},[f,m,s,o,y,t,r,u]),w=B.useMemo(()=>yw(E,o),[E,o]),x=bw(E);return B.createElement(B.Fragment,null,T.map(F=>B.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),w.map(F=>B.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),x.map(({key:F,link:Z})=>B.createElement("link",{key:F,nonce:n.nonce,...Z})))}function Rw(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Cw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Cw&&(window.__reactRouterVersion="7.11.0")}catch{}function Iw({basename:r,children:t,unstable_useTransitions:n,window:s}){let o=B.useRef();o.current==null&&(o.current=ob({window:s,v5Compat:!0}));let u=o.current,[f,m]=B.useState({action:u.action,location:u.location}),p=B.useCallback(y=>{n===!1?m(y):B.startTransition(()=>m(y))},[n]);return B.useLayoutEffect(()=>u.listen(p),[u,p]),B.createElement(iw,{basename:r,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var qT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cp=B.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:w,...x},F){let{basename:Z,unstable_useTransitions:G}=B.useContext(bn),et=typeof y=="string"&&qT.test(y),nt=OT(y,Z);y=nt.to;let ot=Bb(y,{relative:o}),[Rt,_t,Tt]=Sw(s,x),R=Mw(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:w,unstable_useTransitions:G});function b(V){t&&t(V),V.defaultPrevented||R(V)}let C=B.createElement("a",{...x,...Tt,href:nt.absoluteURL||ot,onClick:nt.isExternal||u?t:b,ref:Rw(F,_t),target:p,"data-discover":!et&&n==="render"?"true":void 0});return Rt&&!et?B.createElement(B.Fragment,null,C,B.createElement(Aw,{page:ot})):C});cp.displayName="Link";var Dw=B.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let T=iu(f,{relative:y.relative}),w=cr(),x=B.useContext(xh),{navigator:F,basename:Z}=B.useContext(bn),G=x!=null&&Uw(T)&&m===!0,et=F.encodeLocation?F.encodeLocation(T).pathname:T.pathname,nt=w.pathname,ot=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(nt=nt.toLowerCase(),ot=ot?ot.toLowerCase():null,et=et.toLowerCase()),ot&&Z&&(ot=rr(ot,Z)||ot);const Rt=et!=="/"&&et.endsWith("/")?et.length-1:et.length;let _t=nt===et||!o&&nt.startsWith(et)&&nt.charAt(Rt)==="/",Tt=ot!=null&&(ot===et||!o&&ot.startsWith(et)&&ot.charAt(et.length)==="/"),R={isActive:_t,isPending:Tt,isTransitioning:G},b=_t?t:void 0,C;typeof s=="function"?C=s(R):C=[s,_t?"active":null,Tt?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(R):u;return B.createElement(cp,{...y,"aria-current":b,className:C,ref:E,style:V,to:f,viewTransition:m},typeof p=="function"?p(R):p)});Dw.displayName="NavLink";var Nw=B.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Zc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:w,...x},F)=>{let{unstable_useTransitions:Z}=B.useContext(bn),G=Pw(),et=Lw(m,{relative:y}),nt=f.toLowerCase()==="get"?"get":"post",ot=typeof m=="string"&&qT.test(m),Rt=_t=>{if(p&&p(_t),_t.defaultPrevented)return;_t.preventDefault();let Tt=_t.nativeEvent.submitter,R=Tt?.getAttribute("formmethod")||f,b=()=>G(Tt||_t.currentTarget,{fetcherKey:t,method:R,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:w});Z&&n!==!1?B.startTransition(()=>b()):b()};return B.createElement("form",{ref:F,method:nt,action:et,onSubmit:s?p:Rt,...x,"data-discover":!ot&&r==="render"?"true":void 0})});Nw.displayName="Form";function Ow(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HT(r){let t=B.useContext(mo);return le(t,Ow(r)),t}function Mw(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let y=Ph(),E=cr(),T=iu(r,{relative:u});return B.useCallback(w=>{if(uw(w,t)){w.preventDefault();let x=n!==void 0?n:Fl(E)===Fl(T),F=()=>y(r,{replace:x,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?B.startTransition(()=>F()):F()}},[E,y,T,n,s,t,r,o,u,f,m,p])}var Vw=0,xw=()=>`__${String(++Vw)}__`;function Pw(){let{router:r}=HT("useSubmit"),{basename:t}=B.useContext(bn),n=Zb(),s=r.fetch,o=r.navigate;return B.useCallback(async(u,f={})=>{let{action:m,method:p,encType:y,formData:E,body:T}=fw(u,t);if(f.navigate===!1){let w=f.fetcherKey||xw();await s(w,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,t,n])}function Lw(r,{relative:t}={}){let{basename:n}=B.useContext(bn),s=B.useContext(xi);le(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...iu(r||".",{relative:t})},f=cr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:nr([n,u.pathname])),Fl(u)}function Uw(r,{relative:t}={}){let n=B.useContext(VT);le(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=HT("useViewTransitionState"),o=iu(r,{relative:t});if(!n.isTransitioning)return!1;let u=rr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=rr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ch(o.pathname,f)!=null||ch(o.pathname,u)!=null}const kw=()=>{};var Fv={};const FT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},zw=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},GT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,x=y&63;p||(x=64,f||(w=64)),s.push(n[E],n[T],n[w],n[x])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(FT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):zw(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new jw;const w=u<<2|m>>4;if(s.push(w),y!==64){const x=m<<4&240|y>>2;if(s.push(x),T!==64){const F=y<<6&192|T;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class jw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bw=function(r){const t=FT(r);return GT.encodeByteArray(t,!0)},hh=function(r){return Bw(r).replace(/\./g,"")},QT=function(r){try{return GT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function qw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Hw=()=>qw().__FIREBASE_DEFAULTS__,Fw=()=>{if(typeof process>"u"||typeof Fv>"u")return;const r=Fv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Gw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&QT(r[1]);return t&&JSON.parse(t)},Uh=()=>{try{return kw()||Hw()||Fw()||Gw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},KT=r=>Uh()?.emulatorHosts?.[r],Qw=r=>{const t=KT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},YT=()=>Uh()?.config,XT=r=>Uh()?.[`_${r}`];class Kw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function go(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $T(r){return(await fetch(r,{credentials:"include"})).ok}function Yw(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[hh(JSON.stringify(n)),hh(JSON.stringify(f)),""].join(".")}const kl={};function Xw(){const r={prod:[],emulator:[]};for(const t of Object.keys(kl))kl[t]?r.emulator.push(t):r.prod.push(t);return r}function $w(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let Gv=!1;function JT(r,t){if(typeof window>"u"||typeof document>"u"||!go(window.location.host)||kl[r]===t||kl[r]||Gv)return;kl[r]=t;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=Xw().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,x){w.setAttribute("width","24"),w.setAttribute("id",x),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Gv=!0,f()},w}function E(w,x){w.setAttribute("id",x),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=$w(s),x=n("text"),F=document.getElementById(x)||document.createElement("span"),Z=n("learnmore"),G=document.getElementById(Z)||document.createElement("a"),et=n("preprendIcon"),nt=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ot=w.element;m(ot),E(G,Z);const Rt=y();p(nt,et),ot.append(nt,F,G,Rt),document.body.appendChild(ot)}u?(F.innerText="Preview backend disconnected.",nt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Jw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function Zw(){const r=Uh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ww(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function eR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nR(){const r=We();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function iR(){return!Zw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rR(){try{return typeof indexedDB=="object"}catch{return!1}}function sR(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const aR="FirebaseError";class hr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=aR,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ru.prototype.create)}}class ru{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?oR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new hr(o,m,s)}}function oR(r,t){return r.replace(lR,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const lR=/\{\$([^}]+)}/g;function uR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function $s(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(Qv(u)&&Qv(f)){if(!$s(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Qv(r){return r!==null&&typeof r=="object"}function su(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Ml(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Vl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function cR(r,t){const n=new hR(r,t);return n.subscribe.bind(n)}class hR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");fR(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=pm),o.error===void 0&&(o.error=pm),o.complete===void 0&&(o.complete=pm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fR(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function pm(){}function ze(r){return r&&r._delegate?r._delegate:r}class Js{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Fs="[DEFAULT]";class dR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Kw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(pR(t))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Fs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fs){return this.instances.has(t)}getOptions(t=Fs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:mR(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Fs){return this.component?this.component.multipleInstances?t:Fs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mR(r){return r===Fs?void 0:r}function pR(r){return r.instantiationMode==="EAGER"}class gR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new dR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const yR={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},_R=Pt.INFO,vR={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},ER=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=vR[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class hp{constructor(t){this.name=t,this._logLevel=_R,this._logHandler=ER,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?yR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const TR=(r,t)=>t.some(n=>r instanceof n);let Kv,Yv;function SR(){return Kv||(Kv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AR(){return Yv||(Yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZT=new WeakMap,Dm=new WeakMap,WT=new WeakMap,gm=new WeakMap,fp=new WeakMap;function bR(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Jr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&ZT.set(n,r)}).catch(()=>{}),fp.set(t,r),t}function wR(r){if(Dm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Dm.set(r,t)}let Nm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Dm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||WT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function RR(r){Nm=r(Nm)}function CR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(ym(this),t,...n);return WT.set(s,t.sort?t.sort():[t]),Jr(s)}:AR().includes(r)?function(...t){return r.apply(ym(this),t),Jr(ZT.get(this))}:function(...t){return Jr(r.apply(ym(this),t))}}function IR(r){return typeof r=="function"?CR(r):(r instanceof IDBTransaction&&wR(r),TR(r,SR())?new Proxy(r,Nm):r)}function Jr(r){if(r instanceof IDBRequest)return bR(r);if(gm.has(r))return gm.get(r);const t=IR(r);return t!==r&&(gm.set(r,t),fp.set(t,r)),t}const ym=r=>fp.get(r);function DR(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=Jr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Jr(f.result),p.oldVersion,p.newVersion,Jr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const NR=["get","getKey","getAll","getAllKeys","count"],OR=["put","add","delete","clear"],_m=new Map;function Xv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(_m.get(t))return _m.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=OR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||NR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return _m.set(t,u),u}RR(r=>({...r,get:(t,n,s)=>Xv(t,n)||r.get(t,n,s),has:(t,n)=>!!Xv(t,n)||r.has(t,n)}));class MR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function VR(r){return r.getComponent()?.type==="VERSION"}const Om="@firebase/app",$v="0.14.6";const sr=new hp("@firebase/app"),xR="@firebase/app-compat",PR="@firebase/analytics-compat",LR="@firebase/analytics",UR="@firebase/app-check-compat",kR="@firebase/app-check",zR="@firebase/auth",jR="@firebase/auth-compat",BR="@firebase/database",qR="@firebase/data-connect",HR="@firebase/database-compat",FR="@firebase/functions",GR="@firebase/functions-compat",QR="@firebase/installations",KR="@firebase/installations-compat",YR="@firebase/messaging",XR="@firebase/messaging-compat",$R="@firebase/performance",JR="@firebase/performance-compat",ZR="@firebase/remote-config",WR="@firebase/remote-config-compat",tC="@firebase/storage",eC="@firebase/storage-compat",nC="@firebase/firestore",iC="@firebase/ai",rC="@firebase/firestore-compat",sC="firebase",aC="12.6.0";const Mm="[DEFAULT]",oC={[Om]:"fire-core",[xR]:"fire-core-compat",[LR]:"fire-analytics",[PR]:"fire-analytics-compat",[kR]:"fire-app-check",[UR]:"fire-app-check-compat",[zR]:"fire-auth",[jR]:"fire-auth-compat",[BR]:"fire-rtdb",[qR]:"fire-data-connect",[HR]:"fire-rtdb-compat",[FR]:"fire-fn",[GR]:"fire-fn-compat",[QR]:"fire-iid",[KR]:"fire-iid-compat",[YR]:"fire-fcm",[XR]:"fire-fcm-compat",[$R]:"fire-perf",[JR]:"fire-perf-compat",[ZR]:"fire-rc",[WR]:"fire-rc-compat",[tC]:"fire-gcs",[eC]:"fire-gcs-compat",[nC]:"fire-fst",[rC]:"fire-fst-compat",[iC]:"fire-vertex","fire-js":"fire-js",[sC]:"fire-js-all"};const fh=new Map,lC=new Map,Vm=new Map;function Jv(r,t){try{r.container.addComponent(t)}catch(n){sr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function ro(r){const t=r.name;if(Vm.has(t))return sr.debug(`There were multiple attempts to register component ${t}.`),!1;Vm.set(t,r);for(const n of fh.values())Jv(n,r);for(const n of lC.values())Jv(n,r);return!0}function dp(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function ti(r){return r==null?!1:r.settings!==void 0}const uC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new ru("app","Firebase",uC);class cC{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}const yo=aC;function t0(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Mm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Zr.create("bad-app-name",{appName:String(o)});if(n||(n=YT()),!n)throw Zr.create("no-options");const u=fh.get(o);if(u){if($s(n,u.options)&&$s(s,u.config))return u;throw Zr.create("duplicate-app",{appName:o})}const f=new gR(o);for(const p of Vm.values())f.addComponent(p);const m=new cC(n,s,f);return fh.set(o,m),m}function e0(r=Mm){const t=fh.get(r);if(!t&&r===Mm&&YT())return t0();if(!t)throw Zr.create("no-app",{appName:r});return t}function Wr(r,t,n){let s=oC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),sr.warn(f.join(" "));return}ro(new Js(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const hC="firebase-heartbeat-database",fC=1,Gl="firebase-heartbeat-store";let vm=null;function n0(){return vm||(vm=DR(hC,fC,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Gl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Zr.create("idb-open",{originalErrorMessage:r.message})})),vm}async function dC(r){try{const n=(await n0()).transaction(Gl),s=await n.objectStore(Gl).get(i0(r));return await n.done,s}catch(t){if(t instanceof hr)sr.warn(t.message);else{const n=Zr.create("idb-get",{originalErrorMessage:t?.message});sr.warn(n.message)}}}async function Zv(r,t){try{const s=(await n0()).transaction(Gl,"readwrite");await s.objectStore(Gl).put(t,i0(r)),await s.done}catch(n){if(n instanceof hr)sr.warn(n.message);else{const s=Zr.create("idb-set",{originalErrorMessage:n?.message});sr.warn(s.message)}}}function i0(r){return`${r.name}!${r.options.appId}`}const mC=1024,pC=30;class gC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _C(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Wv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>pC){const o=vC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){sr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Wv(),{heartbeatsToSend:n,unsentEntries:s}=yC(this._heartbeatsCache.heartbeats),o=hh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return sr.warn(t),""}}}function Wv(){return new Date().toISOString().substring(0,10)}function yC(r,t=mC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),tE(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),tE(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class _C{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rR()?sR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Zv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Zv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function tE(r){return hh(JSON.stringify({version:2,heartbeats:r})).length}function vC(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function EC(r){ro(new Js("platform-logger",t=>new MR(t),"PRIVATE")),ro(new Js("heartbeat",t=>new gC(t),"PRIVATE")),Wr(Om,$v,r),Wr(Om,$v,"esm2020"),Wr("fire-js","")}EC("");var eE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ts,r0;(function(){var r;function t(R,b){function C(){}C.prototype=b.prototype,R.F=b.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(V,M,L){for(var D=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)D[Wt-2]=arguments[Wt];return b.prototype[M].apply(V,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,b,C){C||(C=0);const V=Array(16);if(typeof b=="string")for(var M=0;M<16;++M)V[M]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(M=0;M<16;++M)V[M]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=R.g[0],C=R.g[1],M=R.g[2];let L=R.g[3],D;D=b+(L^C&(M^L))+V[0]+3614090360&4294967295,b=C+(D<<7&4294967295|D>>>25),D=L+(M^b&(C^M))+V[1]+3905402710&4294967295,L=b+(D<<12&4294967295|D>>>20),D=M+(C^L&(b^C))+V[2]+606105819&4294967295,M=L+(D<<17&4294967295|D>>>15),D=C+(b^M&(L^b))+V[3]+3250441966&4294967295,C=M+(D<<22&4294967295|D>>>10),D=b+(L^C&(M^L))+V[4]+4118548399&4294967295,b=C+(D<<7&4294967295|D>>>25),D=L+(M^b&(C^M))+V[5]+1200080426&4294967295,L=b+(D<<12&4294967295|D>>>20),D=M+(C^L&(b^C))+V[6]+2821735955&4294967295,M=L+(D<<17&4294967295|D>>>15),D=C+(b^M&(L^b))+V[7]+4249261313&4294967295,C=M+(D<<22&4294967295|D>>>10),D=b+(L^C&(M^L))+V[8]+1770035416&4294967295,b=C+(D<<7&4294967295|D>>>25),D=L+(M^b&(C^M))+V[9]+2336552879&4294967295,L=b+(D<<12&4294967295|D>>>20),D=M+(C^L&(b^C))+V[10]+4294925233&4294967295,M=L+(D<<17&4294967295|D>>>15),D=C+(b^M&(L^b))+V[11]+2304563134&4294967295,C=M+(D<<22&4294967295|D>>>10),D=b+(L^C&(M^L))+V[12]+1804603682&4294967295,b=C+(D<<7&4294967295|D>>>25),D=L+(M^b&(C^M))+V[13]+4254626195&4294967295,L=b+(D<<12&4294967295|D>>>20),D=M+(C^L&(b^C))+V[14]+2792965006&4294967295,M=L+(D<<17&4294967295|D>>>15),D=C+(b^M&(L^b))+V[15]+1236535329&4294967295,C=M+(D<<22&4294967295|D>>>10),D=b+(M^L&(C^M))+V[1]+4129170786&4294967295,b=C+(D<<5&4294967295|D>>>27),D=L+(C^M&(b^C))+V[6]+3225465664&4294967295,L=b+(D<<9&4294967295|D>>>23),D=M+(b^C&(L^b))+V[11]+643717713&4294967295,M=L+(D<<14&4294967295|D>>>18),D=C+(L^b&(M^L))+V[0]+3921069994&4294967295,C=M+(D<<20&4294967295|D>>>12),D=b+(M^L&(C^M))+V[5]+3593408605&4294967295,b=C+(D<<5&4294967295|D>>>27),D=L+(C^M&(b^C))+V[10]+38016083&4294967295,L=b+(D<<9&4294967295|D>>>23),D=M+(b^C&(L^b))+V[15]+3634488961&4294967295,M=L+(D<<14&4294967295|D>>>18),D=C+(L^b&(M^L))+V[4]+3889429448&4294967295,C=M+(D<<20&4294967295|D>>>12),D=b+(M^L&(C^M))+V[9]+568446438&4294967295,b=C+(D<<5&4294967295|D>>>27),D=L+(C^M&(b^C))+V[14]+3275163606&4294967295,L=b+(D<<9&4294967295|D>>>23),D=M+(b^C&(L^b))+V[3]+4107603335&4294967295,M=L+(D<<14&4294967295|D>>>18),D=C+(L^b&(M^L))+V[8]+1163531501&4294967295,C=M+(D<<20&4294967295|D>>>12),D=b+(M^L&(C^M))+V[13]+2850285829&4294967295,b=C+(D<<5&4294967295|D>>>27),D=L+(C^M&(b^C))+V[2]+4243563512&4294967295,L=b+(D<<9&4294967295|D>>>23),D=M+(b^C&(L^b))+V[7]+1735328473&4294967295,M=L+(D<<14&4294967295|D>>>18),D=C+(L^b&(M^L))+V[12]+2368359562&4294967295,C=M+(D<<20&4294967295|D>>>12),D=b+(C^M^L)+V[5]+4294588738&4294967295,b=C+(D<<4&4294967295|D>>>28),D=L+(b^C^M)+V[8]+2272392833&4294967295,L=b+(D<<11&4294967295|D>>>21),D=M+(L^b^C)+V[11]+1839030562&4294967295,M=L+(D<<16&4294967295|D>>>16),D=C+(M^L^b)+V[14]+4259657740&4294967295,C=M+(D<<23&4294967295|D>>>9),D=b+(C^M^L)+V[1]+2763975236&4294967295,b=C+(D<<4&4294967295|D>>>28),D=L+(b^C^M)+V[4]+1272893353&4294967295,L=b+(D<<11&4294967295|D>>>21),D=M+(L^b^C)+V[7]+4139469664&4294967295,M=L+(D<<16&4294967295|D>>>16),D=C+(M^L^b)+V[10]+3200236656&4294967295,C=M+(D<<23&4294967295|D>>>9),D=b+(C^M^L)+V[13]+681279174&4294967295,b=C+(D<<4&4294967295|D>>>28),D=L+(b^C^M)+V[0]+3936430074&4294967295,L=b+(D<<11&4294967295|D>>>21),D=M+(L^b^C)+V[3]+3572445317&4294967295,M=L+(D<<16&4294967295|D>>>16),D=C+(M^L^b)+V[6]+76029189&4294967295,C=M+(D<<23&4294967295|D>>>9),D=b+(C^M^L)+V[9]+3654602809&4294967295,b=C+(D<<4&4294967295|D>>>28),D=L+(b^C^M)+V[12]+3873151461&4294967295,L=b+(D<<11&4294967295|D>>>21),D=M+(L^b^C)+V[15]+530742520&4294967295,M=L+(D<<16&4294967295|D>>>16),D=C+(M^L^b)+V[2]+3299628645&4294967295,C=M+(D<<23&4294967295|D>>>9),D=b+(M^(C|~L))+V[0]+4096336452&4294967295,b=C+(D<<6&4294967295|D>>>26),D=L+(C^(b|~M))+V[7]+1126891415&4294967295,L=b+(D<<10&4294967295|D>>>22),D=M+(b^(L|~C))+V[14]+2878612391&4294967295,M=L+(D<<15&4294967295|D>>>17),D=C+(L^(M|~b))+V[5]+4237533241&4294967295,C=M+(D<<21&4294967295|D>>>11),D=b+(M^(C|~L))+V[12]+1700485571&4294967295,b=C+(D<<6&4294967295|D>>>26),D=L+(C^(b|~M))+V[3]+2399980690&4294967295,L=b+(D<<10&4294967295|D>>>22),D=M+(b^(L|~C))+V[10]+4293915773&4294967295,M=L+(D<<15&4294967295|D>>>17),D=C+(L^(M|~b))+V[1]+2240044497&4294967295,C=M+(D<<21&4294967295|D>>>11),D=b+(M^(C|~L))+V[8]+1873313359&4294967295,b=C+(D<<6&4294967295|D>>>26),D=L+(C^(b|~M))+V[15]+4264355552&4294967295,L=b+(D<<10&4294967295|D>>>22),D=M+(b^(L|~C))+V[6]+2734768916&4294967295,M=L+(D<<15&4294967295|D>>>17),D=C+(L^(M|~b))+V[13]+1309151649&4294967295,C=M+(D<<21&4294967295|D>>>11),D=b+(M^(C|~L))+V[4]+4149444226&4294967295,b=C+(D<<6&4294967295|D>>>26),D=L+(C^(b|~M))+V[11]+3174756917&4294967295,L=b+(D<<10&4294967295|D>>>22),D=M+(b^(L|~C))+V[2]+718787259&4294967295,M=L+(D<<15&4294967295|D>>>17),D=C+(L^(M|~b))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+b&4294967295,R.g[1]=R.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+M&4294967295,R.g[3]=R.g[3]+L&4294967295}s.prototype.v=function(R,b){b===void 0&&(b=R.length);const C=b-this.blockSize,V=this.C;let M=this.h,L=0;for(;L<b;){if(M==0)for(;L<=C;)o(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<b;)if(V[M++]=R.charCodeAt(L++),M==this.blockSize){o(this,V),M=0;break}}else for(;L<b;)if(V[M++]=R[L++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=b},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var b=1;b<R.length-8;++b)R[b]=0;b=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=b&255,b/=256;for(this.v(R),R=Array(16),b=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)R[b++]=this.g[C]>>>V&255;return R};function u(R,b){var C=m;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=b(R)}function f(R,b){this.h=b;const C=[];let V=!0;for(let M=R.length-1;M>=0;M--){const L=R[M]|0;V&&L==b||(C[M]=L,V=!1)}this.g=C}var m={};function p(R){return-128<=R&&R<128?u(R,function(b){return new f([b|0],b<0?-1:0)}):new f([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return T;if(R<0)return G(y(-R));const b=[];let C=1;for(let V=0;R>=C;V++)b[V]=R/C|0,C*=4294967296;return new f(b,0)}function E(R,b){if(R.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(R.charAt(0)=="-")return G(E(R.substring(1),b));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(b,8));let V=T;for(let L=0;L<R.length;L+=8){var M=Math.min(8,R.length-L);const D=parseInt(R.substring(L,L+M),b);M<8?(M=y(Math.pow(b,M)),V=V.j(M).add(y(D))):(V=V.j(C),V=V.add(y(D)))}return V}var T=p(0),w=p(1),x=p(16777216);r=f.prototype,r.m=function(){if(Z(this))return-G(this).m();let R=0,b=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);R+=(V>=0?V:4294967296+V)*b,b*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(F(this))return"0";if(Z(this))return"-"+G(this).toString(R);const b=y(Math.pow(R,6));var C=this;let V="";for(;;){const M=Rt(C,b).g;C=et(C,M.j(b));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=M,F(C))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function F(R){if(R.h!=0)return!1;for(let b=0;b<R.g.length;b++)if(R.g[b]!=0)return!1;return!0}function Z(R){return R.h==-1}r.l=function(R){return R=et(this,R),Z(R)?-1:F(R)?0:1};function G(R){const b=R.g.length,C=[];for(let V=0;V<b;V++)C[V]=~R.g[V];return new f(C,~R.h).add(w)}r.abs=function(){return Z(this)?G(this):this},r.add=function(R){const b=Math.max(this.g.length,R.g.length),C=[];let V=0;for(let M=0;M<=b;M++){let L=V+(this.i(M)&65535)+(R.i(M)&65535),D=(L>>>16)+(this.i(M)>>>16)+(R.i(M)>>>16);V=D>>>16,L&=65535,D&=65535,C[M]=D<<16|L}return new f(C,C[C.length-1]&-2147483648?-1:0)};function et(R,b){return R.add(G(b))}r.j=function(R){if(F(this)||F(R))return T;if(Z(this))return Z(R)?G(this).j(G(R)):G(G(this).j(R));if(Z(R))return G(this.j(G(R)));if(this.l(x)<0&&R.l(x)<0)return y(this.m()*R.m());const b=this.g.length+R.g.length,C=[];for(var V=0;V<2*b;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<R.g.length;M++){const L=this.i(V)>>>16,D=this.i(V)&65535,Wt=R.i(M)>>>16,de=R.i(M)&65535;C[2*V+2*M]+=D*de,nt(C,2*V+2*M),C[2*V+2*M+1]+=L*de,nt(C,2*V+2*M+1),C[2*V+2*M+1]+=D*Wt,nt(C,2*V+2*M+1),C[2*V+2*M+2]+=L*Wt,nt(C,2*V+2*M+2)}for(R=0;R<b;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=b;R<2*b;R++)C[R]=0;return new f(C,0)};function nt(R,b){for(;(R[b]&65535)!=R[b];)R[b+1]+=R[b]>>>16,R[b]&=65535,b++}function ot(R,b){this.g=R,this.h=b}function Rt(R,b){if(F(b))throw Error("division by zero");if(F(R))return new ot(T,T);if(Z(R))return b=Rt(G(R),b),new ot(G(b.g),G(b.h));if(Z(b))return b=Rt(R,G(b)),new ot(G(b.g),b.h);if(R.g.length>30){if(Z(R)||Z(b))throw Error("slowDivide_ only works with positive integers.");for(var C=w,V=b;V.l(R)<=0;)C=_t(C),V=_t(V);var M=Tt(C,1),L=Tt(V,1);for(V=Tt(V,2),C=Tt(C,2);!F(V);){var D=L.add(V);D.l(R)<=0&&(M=M.add(C),L=D),V=Tt(V,1),C=Tt(C,1)}return b=et(R,M.j(b)),new ot(M,b)}for(M=T;R.l(b)>=0;){for(C=Math.max(1,Math.floor(R.m()/b.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(C),D=L.j(b);Z(D)||D.l(R)>0;)C-=V,L=y(C),D=L.j(b);F(L)&&(L=w),M=M.add(L),R=et(R,D)}return new ot(M,R)}r.B=function(R){return Rt(this,R).h},r.and=function(R){const b=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)&R.i(V);return new f(C,this.h&R.h)},r.or=function(R){const b=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)|R.i(V);return new f(C,this.h|R.h)},r.xor=function(R){const b=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)^R.i(V);return new f(C,this.h^R.h)};function _t(R){const b=R.g.length+1,C=[];for(let V=0;V<b;V++)C[V]=R.i(V)<<1|R.i(V-1)>>>31;return new f(C,R.h)}function Tt(R,b){const C=b>>5;b%=32;const V=R.g.length-C,M=[];for(let L=0;L<V;L++)M[L]=b>0?R.i(L+C)>>>b|R.i(L+C+1)<<32-b:R.i(L+C);return new f(M,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,r0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,ts=f}).apply(typeof eE<"u"?eE:typeof self<"u"?self:typeof window<"u"?window:{});var Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var s0,xl,a0,th,xm,o0,l0,u0;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gc=="object"&&Gc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in v))break t;v=v[U]}c=c[c.length-1],A=v[c],g=g(A),g!=A&&g!=null&&t(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&v.push([A,g[A]]);return v}});var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,v){return c.call.apply(c.bind,arguments)}function y(c,g,v){return y=p,y.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,U,q){for(var at=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)at[Ct-2]=arguments[Ct];return g.prototype[U].apply(A,at)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function x(c){const g=c.length;if(g>0){const v=Array(g);for(let A=0;A<g;A++)v[A]=c[A];return v}return[]}function F(c,g){for(let A=1;A<arguments.length;A++){const U=arguments[A];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const q=U.length||0;c.length=v+q;for(let at=0;at<q;at++)c[v+at]=U[at]}else c.push(U)}}class Z{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function G(c){f.setTimeout(()=>{throw c},0)}function et(){var c=R;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class nt{constructor(){this.h=this.g=null}add(g,v){const A=ot.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ot=new Z(()=>new Rt,c=>c.reset());class Rt{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,Tt=!1,R=new nt,b=()=>{const c=Promise.resolve(void 0);_t=()=>{c.then(C)}};function C(){for(var c;c=et();){try{c.h.call(c.g)}catch(v){G(v)}var g=ot;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}Tt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function D(c){return/^[\s\xa0]*$/.test(c)}function Wt(c,g){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}T(Wt,M),Wt.prototype.init=function(c,g){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Wt.Z.h.call(this)},Wt.prototype.h=function(){Wt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),Y=0;function lt(c,g,v,A,U){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=U,this.key=++Y,this.da=this.fa=!1}function dt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function kt(c,g,v){for(const A in c)g.call(v,c[A],A,c)}function st(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function I(c){const g={};for(const v in c)g[v]=c[v];return g}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(c,g){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)c[v]=A[v];for(let q=0;q<Q.length;q++)v=Q[q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function it(c){this.src=c,this.g={},this.h=0}it.prototype.add=function(c,g,v,A,U){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const at=St(c,g,A,U);return at>-1?(g=c[at],v||(g.fa=!1)):(g=new lt(g,this.src,q,!!A,U),g.fa=v,c.push(g)),g};function gt(c,g){const v=g.type;if(v in c.g){var A=c.g[v],U=Array.prototype.indexOf.call(A,g,void 0),q;(q=U>=0)&&Array.prototype.splice.call(A,U,1),q&&(dt(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function St(c,g,v,A){for(let U=0;U<c.length;++U){const q=c[U];if(!q.da&&q.listener==g&&q.capture==!!v&&q.ha==A)return U}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),me={};function se(c,g,v,A,U){if(Array.isArray(g)){for(let q=0;q<g.length;q++)se(c,g[q],v,A,U);return null}return v=Co(v),c&&c[de]?c.J(g,v,m(A)?!!A.capture:!1,U):ds(c,g,v,!1,A,U)}function ds(c,g,v,A,U,q){if(!g)throw Error("Invalid event type");const at=m(U)?!!U.capture:!!U;let Ct=ms(c);if(Ct||(c[Mt]=Ct=new it(c)),v=Ct.add(g,v,A,at,q),v.proxy)return v;if(A=ra(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)L||(U=at),U===void 0&&(U=!1),c.addEventListener(g.toString(),A,U);else if(c.attachEvent)c.attachEvent(ri(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ra(){function c(v){return g.call(c.src,c.listener,v)}const g=wo;return c}function sa(c,g,v,A,U){if(Array.isArray(g))for(var q=0;q<g.length;q++)sa(c,g[q],v,A,U);else A=m(A)?!!A.capture:!!A,v=Co(v),c&&c[de]?(c=c.i,q=String(g).toString(),q in c.g&&(g=c.g[q],v=St(g,v,A,U),v>-1&&(dt(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[q],c.h--)))):c&&(c=ms(c))&&(g=c.g[g.toString()],c=-1,g&&(c=St(g,v,A,U)),(v=c>-1?g[c]:null)&&aa(v))}function aa(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[de])gt(g.i,c);else{var v=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(v,A,c.capture):g.detachEvent?g.detachEvent(ri(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=ms(g))?(gt(v,c),v.h==0&&(v.src=null,g[Mt]=null)):dt(c)}}}function ri(c){return c in me?me[c]:me[c]="on"+c}function wo(c,g){if(c.da)c=!0;else{g=new Wt(g,this);const v=c.listener,A=c.ha||c.src;c.fa&&aa(c),c=v.call(A,g)}return c}function ms(c){return c=c[Mt],c instanceof it?c:null}var Ro="__closure_events_fn_"+(Math.random()*1e9>>>0);function Co(c){return typeof c=="function"?c:(c[Ro]||(c[Ro]=function(g){return c.handleEvent(g)}),c[Ro])}function Ee(){V.call(this),this.i=new it(this),this.M=this,this.G=null}T(Ee,V),Ee.prototype[de]=!0,Ee.prototype.removeEventListener=function(c,g,v,A){sa(this,c,g,v,A)};function Me(c,g){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new M(g,c);else if(g instanceof M)g.target=g.target||c;else{var U=g;g=new M(A,c),rt(g,U)}U=!0;let q,at;if(v)for(at=v.length-1;at>=0;at--)q=g.g=v[at],U=fr(q,A,!0,g)&&U;if(q=g.g=c,U=fr(q,A,!0,g)&&U,U=fr(q,A,!1,g)&&U,v)for(at=0;at<v.length;at++)q=g.g=v[at],U=fr(q,A,!1,g)&&U}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let A=0;A<v.length;A++)dt(v[A]);delete c.g[g],c.h--}}this.G=null},Ee.prototype.J=function(c,g,v,A){return this.i.add(String(c),g,!1,v,A)},Ee.prototype.K=function(c,g,v,A){return this.i.add(String(c),g,!0,v,A)};function fr(c,g,v,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let U=!0;for(let q=0;q<g.length;++q){const at=g[q];if(at&&!at.da&&at.capture==v){const Ct=at.listener,ge=at.ha||at.src;at.fa&&gt(c.i,at),U=Ct.call(ge,A)!==!1&&U}}return U&&!A.defaultPrevented}function lf(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function pu(c){c.g=lf(()=>{c.g=null,c.i&&(c.i=!1,pu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class tn extends V{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:pu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(c){V.call(this),this.h=c,this.g={}}T(ps,V);var Io=[];function Do(c){kt(c.g,function(g,v){this.g.hasOwnProperty(v)&&aa(g)},c),c.g={}}ps.prototype.N=function(){ps.Z.N.call(this),Do(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dr=f.JSON.stringify,uf=f.JSON.parse,gu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function yu(){}function _u(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){M.call(this,"d")}T(je,M);function wn(){M.call(this,"c")}T(wn,M);var pe={},vu=null;function oa(){return vu=vu||new Ee}pe.Ia="serverreachability";function Eu(c){M.call(this,pe.Ia,c)}T(Eu,M);function si(c){const g=oa();Me(g,new Eu(g))}pe.STAT_EVENT="statevent";function gs(c,g){M.call(this,pe.STAT_EVENT,c),this.stat=g}T(gs,M);function Te(c){const g=oa();Me(g,new gs(g,c))}pe.Ja="timingevent";function ai(c,g){M.call(this,pe.Ja,c),this.size=g}T(ai,M);function oi(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function cf(c,g,v,A,U,q){c.info(function(){if(c.g)if(q){var at="",Ct=q.split("&");for(let Ht=0;Ht<Ct.length;Ht++){var ge=Ct[Ht].split("=");if(ge.length>1){const ae=ge[0];ge=ge[1];const Dn=ae.split("_");at=Dn.length>=2&&Dn[1]=="type"?at+(ae+"="+ge+"&"):at+(ae+"=redacted&")}}}else at=null;else at=q;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+g+`
`+v+`
`+at})}function Tu(c,g,v,A,U,q,at){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+g+`
`+v+`
`+q+" "+at})}function li(c,g,v,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+hf(c,v)+(A?" "+A:"")})}function ys(c,g){c.info(function(){return"TIMEOUT: "+g})}Hn.prototype.info=function(){};function hf(c,g){if(!c.g)return g;if(!g)return null;try{const q=JSON.parse(g);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let at=1;at<A.length;at++)A[at]=""}}}}return dr(q)}catch{return g}}var _s={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},No={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oo;function vs(){}T(vs,yu),vs.prototype.g=function(){return new XMLHttpRequest},Oo=new vs;function Pi(c){return encodeURIComponent(String(c))}function Su(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function Fn(c,g,v,A){this.j=c,this.i=g,this.l=v,this.S=A||1,this.V=new ps(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Se={},Pe={};function ui(c,g,v){c.M=1,c.A=Es(be(g)),c.u=v,c.R=!0,la(c,null)}function la(c,g){c.F=Date.now(),ci(c),c.B=be(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),fa(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Gn,c.g=Uu(c.j,v?g:null,!c.u),c.P>0&&(c.O=new tn(y(c.Y,c,c.g),c.P)),g=c.V,v=c.g,A=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(Io[0]=U.toString()),U=Io);for(let q=0;q<U.length;q++){const at=se(v,U[q],A||g.handleEvent,!1,g.h||g);if(!at)break;g.g[at.key]=at}g=c.J?I(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),si(),cf(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Yn(c)==3?g.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)t:{const Ct=Yn(this.g),ge=this.g.ya(),Ht=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||Ct!=4||ge==7||(ge==8||Ht<=0?si(3):si(2)),hi(this);var g=this.g.ca();this.X=g;var v=ff(this);if(this.o=g==200,Tu(this.i,this.v,this.B,this.l,this.S,Ct,g),this.o){if(this.U&&!this.L){e:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var q=A;break e}}q=null}if(c=q)li(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,c);else{this.o=!1,this.m=3,Te(12),mn(this),Rn(this);break t}}if(this.R){c=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=bu(this,v),ae==Pe){Ct==4&&(this.m=4,Te(14),c=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==Se){this.m=4,Te(15),li(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else li(this.i,this.l,ae,null),fi(this,ae);if(Au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||v.length!=0||this.h.h||(this.m=1,Te(16),c=!1),this.o=this.o&&c,!c)li(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.aa&&!at.P&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Qo(at),at.P=!0,Te(11))}}else li(this.i,this.l,v,null),fi(this,v);Ct==4&&mn(this),this.o&&!this.K&&(Ct==4?Vu(this.j,this):(this.o=!1,ci(this)))}else Ui(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),mn(this),Rn(this)}}}catch{}finally{}};function ff(c){if(!Au(c))return c.g.la();const g=Be(c.g);if(g==="")return"";let v="";const A=g.length,U=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return mn(c),Rn(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<A;q++)c.h.h=!0,v+=c.h.i.decode(g[q],{stream:!(U&&q==A-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function Au(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function bu(c,g){var v=c.C,A=g.indexOf(`
`,v);return A==-1?Pe:(v=Number(g.substring(v,A)),isNaN(v)?Se:(A+=1,A+v>g.length?Pe:(g=g.slice(A,A+v),c.C=A+v,g)))}Fn.prototype.cancel=function(){this.K=!0,mn(this)};function ci(c){c.T=Date.now()+c.H,ua(c,c.H)}function ua(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=oi(y(c.aa,c),g)}function hi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ys(this.i,this.B),this.M!=2&&(si(),Te(17)),mn(this),this.m=2,Rn(this)):ua(this,this.T-c)};function Rn(c){c.j.I==0||c.K||Vu(c.j,c)}function mn(c){hi(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Do(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function fi(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||mi(v.h,c))){if(!c.L&&mi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ya(v),Tr(v);else break t;Cs(v),Te(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=oi(y(v.Va,v),6e3));di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ei(v,11)}else if((c.L||v.g==c)&&ya(v),!D(g))for(U=v.Ba.g.parse(g),g=0;g<U.length;g++){let Ht=U[g];const ae=Ht[0];if(!(ae<=v.K))if(v.K=ae,Ht=Ht[1],v.I==2)if(Ht[0]=="c"){v.M=Ht[1],v.ba=Ht[2];const Dn=Ht[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const Ti=Ht[4];Ti!=null&&(v.za=Ti,v.j.info("SVER="+v.za));const Xn=Ht[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(A=1.5*Xn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const $n=c.g;if($n){const Is=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Is){var q=A.h;q.g||Is.indexOf("spdy")==-1&&Is.indexOf("quic")==-1&&Is.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(xo(q,q.h),q.h=null))}if(A.G){const _a=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;_a&&(A.wa=_a,Qt(A.J,A.G,_a))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var at=c;if(A.na=Lu(A,A.L?A.ba:null,A.W),at.L){Po(A.h,at);var Ct=at,ge=A.O;ge&&(Ct.H=ge),Ct.D&&(hi(Ct),ci(Ct)),A.g=at}else Ou(A);v.i.length>0&&vi(v)}else Ht[0]!="stop"&&Ht[0]!="close"||Ei(v,7);else v.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?Ei(v,7):Fo(v):Ht[0]!="noop"&&v.l&&v.l.qa(Ht),v.A=0)}}si(4)}catch{}}var Ae=class{constructor(c,g){this.g=c,this.map=g}};function Mo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function di(c){return c.h?1:c.g?c.g.size:0}function mi(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function xo(c,g){c.g?c.g.add(g):c.h=g}function Po(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Mo.prototype.cancel=function(){if(this.i=Lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Lo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return x(c.i)}var wu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ca(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let U,q=null;A>=0?(U=c[v].substring(0,A),q=c[v].substring(A+1)):U=c[v],g(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function pn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof pn?(this.l=c.l,Le(this,c.j),this.o=c.o,this.g=c.g,mr(this,c.u),this.h=c.h,Uo(this,Du(c.i)),this.m=c.m):c&&(g=String(c).match(wu))?(this.l=!1,Le(this,g[1]||"",!0),this.o=pi(g[2]||""),this.g=pi(g[3]||"",!0),mr(this,g[4]),this.h=pi(g[5]||"",!0),Uo(this,g[6]||"",!0),this.m=pi(g[7]||"")):(this.l=!1,this.i=new gr(null,this.l))}pn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Ts(g,ha,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Ts(g,ha,!0),"@"),c.push(Pi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ts(v,v.charAt(0)=="/"?ko:Ru,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ts(v,Cu)),c.join("")},pn.prototype.resolve=function(c){const g=be(this);let v=!!c.j;v?Le(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var A=c.h;if(v)mr(g,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=g.h.lastIndexOf("/");U!=-1&&(A=g.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let at=0;at<U.length;){const Ct=U[at++];Ct=="."?A&&at==U.length&&q.push(""):Ct==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&at==U.length&&q.push("")):(q.push(Ct),A=!0)}A=q.join("/")}else A=U}return v?g.h=A:v=c.i.toString()!=="",v?Uo(g,Du(c.i)):v=!!c.m,v&&(g.m=c.m),g};function be(c){return new pn(c)}function Le(c,g,v){c.j=v?pi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function mr(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Uo(c,g,v){g instanceof gr?(c.i=g,da(c.i,c.l)):(v||(g=Ts(g,pr)),c.i=new gr(g,c.l))}function Qt(c,g,v){c.i.set(g,v)}function Es(c){return Qt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function pi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ts(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,rn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ha=/[#\/\?@]/g,Ru=/[#\?:]/g,ko=/[#\?]/g,pr=/[#\?@]/g,Cu=/#/g;function gr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&ca(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=gr.prototype,r.add=function(c,g){sn(this),this.i=null,c=yr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Iu(c,g){sn(c),g=yr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function zo(c,g){return sn(c),g=yr(c,g),c.g.has(g)}r.forEach=function(c,g){sn(this),this.g.forEach(function(v,A){v.forEach(function(U){c.call(g,U,A,this)},this)},this)};function jo(c,g){sn(c);let v=[];if(typeof g=="string")zo(c,g)&&(v=v.concat(c.g.get(yr(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}r.set=function(c,g){return sn(this),this.i=null,c=yr(this,c),zo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=jo(this,c),c.length>0?String(c[0]):g):g};function fa(c,g,v){Iu(c,g),v.length>0&&(c.i=null,c.g.set(yr(c,g),x(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var v=g[A];const U=Pi(v);v=jo(this,v);for(let q=0;q<v.length;q++){let at=U;v[q]!==""&&(at+="="+Pi(v[q])),c.push(at)}}return this.i=c.join("&")};function Du(c){const g=new gr;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function yr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function da(c,g){g&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(v,A){const U=A.toLowerCase();A!=U&&(Iu(this,A),fa(this,U,v))},c)),c.j=g}function Qn(c,g){const v=new Hn;if(f.Image){const A=new Image;A.onload=E(Cn,v,"TestLoadImage: loaded",!0,g,A),A.onerror=E(Cn,v,"TestLoadImage: error",!1,g,A),A.onabort=E(Cn,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=E(Cn,v,"TestLoadImage: timeout",!1,g,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function Bo(c,g){const v=new Hn,A=new AbortController,U=setTimeout(()=>{A.abort(),Cn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(q=>{clearTimeout(U),q.ok?Cn(v,"TestPingServer: ok",!0,g):Cn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),Cn(v,"TestPingServer: error",!1,g)})}function Cn(c,g,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function _r(){this.g=new gu}function gi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(gi,yu),gi.prototype.g=function(){return new Ss(this.i,this.h)};function Ss(c,g){Ee.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ss,Ee),r=Ss.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Kn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ma(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ma(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?vr(this):Kn(this),this.readyState==3&&ma(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,vr(this))},r.Na=function(c){this.g&&(this.response=c,vr(this))},r.ga=function(){this.g&&vr(this)};function vr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Kn(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Kn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let g="";return kt(c,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function As(c,g,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=In(v),typeof c=="string"?v!=null&&Pi(v):Qt(c,g,v))}function Xt(c){Ee.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Xt,Ee);var yi=/^https?$/i,qo=["POST","PUT"];r=Xt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oo.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(q){bs(this,q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(qo,g,void 0)>=0)||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,at]of v)this.g.setRequestHeader(q,at);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){bs(this,q)}};function bs(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Ho(c),Li(c)}function Ho(c){c.A||(c.A=!0,Me(c,"complete"),Me(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Me(this,"complete"),Me(this,"abort"),Li(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),Xt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ws(this):this.Xa())},r.Xa=function(){ws(this)};function ws(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Me(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const q=c.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var v;if(!(v=g)){var A;if(A=q===0){let at=String(c.D).match(wu)[1]||null;!at&&f.self&&f.self.location&&(at=f.self.location.protocol.slice(0,-1)),A=!yi.test(at?at.toLowerCase():"")}v=A}if(v)Me(c,"complete"),Me(c,"success");else{c.o=6;try{var U=Yn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",Ho(c)}}finally{Li(c)}}}}function Li(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||Me(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),uf(g)}};function Be(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(c){const g={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(D(c[A]))continue;var v=Su(c[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=g[U]||[];g[U]=q,q.push(v)}st(g,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Er(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,c),this.Za=_i("retryDelaySeedMs",1e4,c),this.Ta=_i("forwardChannelMaxRetries",2,c),this.va=_i("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Mo(c&&c.concurrentRequestLimit),this.Ba=new _r,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Er.prototype,r.ka=8,r.I=1,r.connect=function(c,g,v,A){Te(0),this.W=c,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Lu(this,null,this.W),vi(this)};function Fo(c){if(pa(c),c.I==3){var g=c.V++,v=be(c.J);if(Qt(v,"SID",c.M),Qt(v,"RID",g),Qt(v,"TYPE","terminate"),Rs(c,v),g=new Fn(c,c.j,g),g.M=2,g.A=Es(be(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=Uu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),ci(g)}Pu(c)}function Tr(c){c.g&&(Qo(c),c.g.cancel(),c.g=null)}function pa(c){Tr(c),c.v&&(f.clearTimeout(c.v),c.v=null),ya(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function vi(c){if(!Vo(c.h)&&!c.m){c.m=!0;var g=c.Ea;_t||b(),Tt||(_t(),Tt=!0),R.add(g,c),c.D=0}}function ga(c,g){return di(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=oi(y(c.Ea,c,g),xu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new Fn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=I(q),rt(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var g=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=v;break t}if(g===4096||v===this.i.length-1){g=v+1;break t}}g=1e3}else g=1e3;g=Nu(this,U,g),v=be(this.J),Qt(v,"RID",c),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),Rs(this,v),q&&(this.R?g="headers="+Pi(In(q))+"&"+g:this.u&&As(v,this.u,q)),xo(this.h,U),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",g),Qt(v,"SID","null"),U.U=!0,ui(U,v,null)):ui(U,v,g),this.I=2}}else this.I==3&&(c?Go(this,c):this.i.length==0||Vo(this.h)||Go(this))};function Go(c,g){var v;g?v=g.l:v=c.V++;const A=be(c.J);Qt(A,"SID",c.M),Qt(A,"RID",v),Qt(A,"AID",c.K),Rs(c,A),c.u&&c.o&&As(A,c.u,c.o),v=new Fn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Nu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),xo(c.h,v),ui(v,A,g)}function Rs(c,g){c.H&&kt(c.H,function(v,A){Qt(g,A,v)}),c.l&&kt({},function(v,A){Qt(g,A,v)})}function Nu(c,g,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;t:{var U=c.i;let Ct=-1;for(;;){const ge=["count="+v];Ct==-1?v>0?(Ct=U[0].g,ge.push("ofs="+Ct)):Ct=0:ge.push("ofs="+Ct);let Ht=!0;for(let ae=0;ae<v;ae++){var q=U[ae].g;const Dn=U[ae].map;if(q-=Ct,q<0)Ct=Math.max(0,U[ae].g-100),Ht=!1;else try{q="req"+q+"_"||"";try{var at=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Ti,Xn]of at){let $n=Xn;m(Xn)&&($n=dr(Xn)),ge.push(q+Ti+"="+encodeURIComponent($n))}}catch(Ti){throw ge.push(q+"type="+encodeURIComponent("_badmap")),Ti}}catch{A&&A(Dn)}}if(Ht){at=ge.join("&");break t}}at=void 0}return c=c.i.splice(0,v),g.G=c,at}function Ou(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;_t||b(),Tt||(_t(),Tt=!0),R.add(g,c),c.A=0}}function Cs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=oi(y(c.Da,c),xu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=oi(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),Tr(this),Mu(this))};function Qo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Mu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=be(c.na);Qt(g,"RID","rpc"),Qt(g,"SID",c.M),Qt(g,"AID",c.K),Qt(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qt(g,"TO",c.ia),Qt(g,"TYPE","xmlhttp"),Rs(c,g),c.u&&c.o&&As(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Es(be(g)),v.u=null,v.R=!0,la(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Tr(this),Cs(this),Te(19))};function ya(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Vu(c,g){var v=null;if(c.g==g){ya(c),Qo(c),c.g=null;var A=2}else if(mi(c.h,g))v=g.G,Po(c.h,g),A=1;else return;if(c.I!=0){if(g.o)if(A==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var U=c.D;A=oa(),Me(A,new ai(A,v)),vi(c)}else Ou(c);else if(U=g.m,U==3||U==0&&g.X>0||!(A==1&&ga(c,g)||A==2&&Cs(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),U){case 1:Ei(c,5);break;case 4:Ei(c,10);break;case 3:Ei(c,6);break;default:Ei(c,2)}}}function xu(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function Ei(c,g){if(c.j.info("Error code "+g),g==2){var v=y(c.bb,c),A=c.Ua;const U=!A;A=new pn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Le(A,"https"),Es(A),U?Qn(A.toString(),v):Bo(A.toString(),v)}else Te(2);c.I=0,c.l&&c.l.pa(g),Pu(c),pa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function Pu(c){if(c.I=0,c.ja=[],c.l){const g=Lo(c.h);(g.length!=0||c.i.length!=0)&&(F(c.ja,g),F(c.ja,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.oa()}}function Lu(c,g,v){var A=v instanceof pn?be(v):new pn(v);if(A.g!="")g&&(A.g=g+"."+A.g),mr(A,A.u);else{var U=f.location;A=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;const q=new pn(null);A&&Le(q,A),g&&(q.g=g),U&&mr(q,U),v&&(q.h=v),A=q}return v=c.G,g=c.wa,v&&g&&Qt(A,v,g),Qt(A,"VER",c.ka),Rs(c,A),A}function Uu(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Xt(new gi({ab:v})):new Xt(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ku(){}r=ku.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Sr(){}Sr.prototype.g=function(c,g){return new en(c,g)};function en(c,g){Ee.call(this),this.g=new Er(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!D(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!D(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ki(this)}T(en,Ee),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Fo(this.g)},en.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=dr(c),c=v);g.i.push(new Ae(g.Ya++,c)),g.I==3&&vi(g)},en.prototype.N=function(){this.g.l=null,delete this.j,Fo(this.g),delete this.g,en.Z.N.call(this)};function zu(c){je.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const v in g){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}T(zu,je);function ju(){wn.call(this),this.status=1}T(ju,wn);function ki(c){this.g=c}T(ki,ku),ki.prototype.ra=function(){Me(this.g,"a")},ki.prototype.qa=function(c){Me(this.g,new zu(c))},ki.prototype.pa=function(c){Me(this.g,new ju)},ki.prototype.oa=function(){Me(this.g,"b")},Sr.prototype.createWebChannel=Sr.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,u0=function(){return new Sr},l0=function(){return oa()},o0=pe,xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_s.NO_ERROR=0,_s.TIMEOUT=8,_s.HTTP_ERROR=6,th=_s,No.COMPLETE="complete",a0=No,_u.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,xl=_u,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,s0=Xt}).apply(typeof Gc<"u"?Gc:typeof self<"u"?self:typeof window<"u"?window:{});const nE="@firebase/firestore",iE="4.9.3";class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let _o="12.7.0";const Zs=new hp("@firebase/firestore");function Ya(){return Zs.logLevel}function ct(r,...t){if(Zs.logLevel<=Pt.DEBUG){const n=t.map(mp);Zs.debug(`Firestore (${_o}): ${r}`,...n)}}function ar(r,...t){if(Zs.logLevel<=Pt.ERROR){const n=t.map(mp);Zs.error(`Firestore (${_o}): ${r}`,...n)}}function so(r,...t){if(Zs.logLevel<=Pt.WARN){const n=t.map(mp);Zs.warn(`Firestore (${_o}): ${r}`,...n)}}function mp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Et(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,c0(r,s,n)}function c0(r,t,n){let s=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ar(s),new Error(s)}function Gt(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||c0(t,o,s)}function wt(r,t){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends hr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ir{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class h0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class TC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Je.UNAUTHENTICATED)))}shutdown(){}}class SC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class AC{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Gt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ir,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ir)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string",31837,{l:s}),new h0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class bC{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wC{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new bC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class rE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Gt(this.o===void 0,3512);const s=u=>{u.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ct("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new rE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Gt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function CC(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class pp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=CC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Lt(r,t){return r<t?-1:r>t?1:0}function Pm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return Em(o)===Em(u)?Lt(o,u):Em(o)?1:-1}return Lt(r.length,t.length)}const IC=55296,DC=57343;function Em(r){const t=r.charCodeAt(0);return t>=IC&&t<=DC}function ao(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}const sE="__name__";class Ri{constructor(t,n,s){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Et(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ri.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ri?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Ri.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Lt(t.length,n.length)}static compareSegments(t,n){const s=Ri.isNumericId(t),o=Ri.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ri.extractNumericId(t).compare(Ri.extractNumericId(n)):Pm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ts.fromString(t.substring(4,t.length-2))}}class ee extends Ri{construct(t,n,s){return new ee(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ut(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ee(n)}static emptyPath(){return new ee([])}}const NC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends Ri{construct(t,n,s){return new Ke(t,n,s)}static isValidIdentifier(t){return NC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sE}static keyField(){return new Ke([sE])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ut(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ut(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ut(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(n)}static emptyPath(){return new Ke([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(ee.fromString(t))}static fromName(t){return new pt(ee.fromString(t).popFirst(5))}static empty(){return new pt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new ee(t.slice()))}}function f0(r,t,n){if(!n)throw new ut(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function OC(r,t,n,s){if(t===!0&&s===!0)throw new ut(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function aE(r){if(!pt.isDocumentKey(r))throw new ut(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function oE(r){if(pt.isDocumentKey(r))throw new ut(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function d0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function kh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function dn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ut(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kh(r);throw new ut(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function Oe(r,t){const n={typeString:r};return t&&(n.value=t),n}function au(r,t){if(!d0(r))throw new ut(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ut(J.INVALID_ARGUMENT,n);return!0}const lE=-62135596800,uE=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*uE);return new re(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<lE)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uE}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(au(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-lE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Oe("string",re._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new re(0,0))}static max(){return new At(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ql=-1;function MC(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new re(n+1,0):new re(n,s));return new is(o,pt.empty(),t)}function VC(r){return new is(r.readTime,r.key,Ql)}class is{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new is(At.min(),pt.empty(),Ql)}static max(){return new is(At.max(),pt.empty(),Ql)}}function xC(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=pt.comparator(r.documentKey,t.documentKey),n!==0?n:Lt(r.largestBatchId,t.largestBatchId))}const PC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function vo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==PC)throw r;ct("LocalStore","Unexpectedly lost primary lease")}class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new tt(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof tt?n:tt.resolve(n)}catch(n){return tt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):tt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):tt.reject(n)}static resolve(t){return new tt(((n,s)=>{n(t)}))}static reject(t){return new tt(((n,s)=>{s(t)}))}static waitFor(t){return new tt(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(t){let n=tt.resolve(!1);for(const s of t)n=n.next((o=>o?tt.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new tt(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(t[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new tt(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function UC(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eo(r){return r.name==="IndexedDbTransactionError"}class zh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}zh.ce=-1;const gp=-1;function jh(r){return r==null}function dh(r){return r===0&&1/r==-1/0}function kC(r){return typeof r=="number"&&Number.isInteger(r)&&!dh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const m0="";function zC(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=cE(t)),t=jC(r.get(n),t);return cE(t)}function jC(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case m0:n+="";break;default:n+=u}}return n}function cE(r){return r+m0+""}function hE(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function us(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function p0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ue{constructor(t,n){this.comparator=t,this.root=n||Qe.EMPTY}insert(t,n){return new ue(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Qc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Qc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Qc(this.root,t,this.comparator,!0)}}class Qc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Qe.RED,this.left=o??Qe.EMPTY,this.right=u??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Qe(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Qe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xe{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new fE(this.data.getIterator())}getIteratorFrom(t){return new fE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new xe(this.comparator);return n.data=t,n}}class fE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new An([])}unionWith(t){let n=new xe(Ke.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new An(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ao(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class g0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new g0("Invalid base64 string: "+u):u}})(t);return new Ye(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Ye(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const BC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(r){if(Gt(!!r,39018),typeof r=="string"){let t=0;const n=BC.exec(r);if(Gt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ve(r.seconds),nanos:ve(r.nanos)}}function ve(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ss(r){return typeof r=="string"?Ye.fromBase64String(r):Ye.fromUint8Array(r)}const y0="server_timestamp",_0="__type__",v0="__previous_value__",E0="__local_write_time__";function yp(r){return(r?.mapValue?.fields||{})[_0]?.stringValue===y0}function Bh(r){const t=r.mapValue.fields[v0];return yp(t)?Bh(t):t}function Kl(r){const t=rs(r.mapValue.fields[E0].timestampValue);return new re(t.seconds,t.nanos)}class qC{constructor(t,n,s,o,u,f,m,p,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const mh="(default)";class Yl{constructor(t,n){this.projectId=t,this.database=n||mh}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database===mh}isEqual(t){return t instanceof Yl&&t.projectId===this.projectId&&t.database===this.database}}const T0="__type__",HC="__max__",Kc={mapValue:{}},S0="__vector__",ph="value";function as(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?yp(r)?4:GC(r)?9007199254740991:FC(r)?10:11:Et(28295,{value:r})}function Vi(r,t){if(r===t)return!0;const n=as(r);if(n!==as(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Kl(r).isEqual(Kl(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=rs(o.timestampValue),m=rs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return ss(o.bytesValue).isEqual(ss(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return ve(o.geoPointValue.latitude)===ve(u.geoPointValue.latitude)&&ve(o.geoPointValue.longitude)===ve(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ve(o.integerValue)===ve(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ve(o.doubleValue),m=ve(u.doubleValue);return f===m?dh(f)===dh(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return ao(r.arrayValue.values||[],t.arrayValue.values||[],Vi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(hE(f)!==hE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Vi(f[p],m[p])))return!1;return!0})(r,t);default:return Et(52216,{left:r})}}function Xl(r,t){return(r.values||[]).find((n=>Vi(n,t)))!==void 0}function oo(r,t){if(r===t)return 0;const n=as(r),s=as(t);if(n!==s)return Lt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Lt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=ve(u.integerValue||u.doubleValue),p=ve(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,t);case 3:return dE(r.timestampValue,t.timestampValue);case 4:return dE(Kl(r),Kl(t));case 5:return Pm(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=ss(u),p=ss(f);return m.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Lt(m[y],p[y]);if(E!==0)return E}return Lt(m.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Lt(ve(u.latitude),ve(f.latitude));return m!==0?m:Lt(ve(u.longitude),ve(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return mE(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},y=m[ph]?.arrayValue,E=p[ph]?.arrayValue,T=Lt(y?.values?.length||0,E?.values?.length||0);return T!==0?T:mE(y,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Kc.mapValue&&f===Kc.mapValue)return 0;if(u===Kc.mapValue)return 1;if(f===Kc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const w=Pm(p[T],E[T]);if(w!==0)return w;const x=oo(m[p[T]],y[E[T]]);if(x!==0)return x}return Lt(p.length,E.length)})(r.mapValue,t.mapValue);default:throw Et(23264,{he:n})}}function dE(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Lt(r,t);const n=rs(r),s=rs(t),o=Lt(n.seconds,s.seconds);return o!==0?o:Lt(n.nanos,s.nanos)}function mE(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=oo(n[o],s[o]);if(u)return u}return Lt(n.length,s.length)}function lo(r){return Lm(r)}function Lm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=rs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ss(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return pt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Lm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Lm(n.fields[f])}`;return o+"}"})(r.mapValue):Et(61005,{value:r})}function eh(r){switch(as(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Bh(r);return t?16+eh(t):16;case 5:return 2*r.stringValue.length;case 6:return ss(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+eh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return us(s.fields,((u,f)=>{o+=u.length+eh(f)})),o})(r.mapValue);default:throw Et(13486,{value:r})}}function pE(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Um(r){return!!r&&"integerValue"in r}function _p(r){return!!r&&"arrayValue"in r}function gE(r){return!!r&&"nullValue"in r}function yE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function nh(r){return!!r&&"mapValue"in r}function FC(r){return(r?.mapValue?.fields||{})[T0]?.stringValue===S0}function zl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return us(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=zl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=zl(r.arrayValue.values[n]);return t}return{...r}}function GC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===HC}class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!nh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=zl(n)}setAll(t){let n=Ke.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=zl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Vi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){us(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new fn(zl(this.value))}}function A0(r){const t=[];return us(r.fields,((n,s)=>{const o=new Ke([n]);if(nh(s)){const u=A0(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new An(t)}class Ze{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Ze(t,0,At.min(),At.min(),At.min(),fn.empty(),0)}static newFoundDocument(t,n,s,o){return new Ze(t,1,n,At.min(),s,o,0)}static newNoDocument(t,n){return new Ze(t,2,n,At.min(),At.min(),fn.empty(),0)}static newUnknownDocument(t,n){return new Ze(t,3,n,At.min(),At.min(),fn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gh{constructor(t,n){this.position=t,this.inclusive=n}}function _E(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=pt.comparator(pt.fromName(f.referenceValue),n.key):s=oo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function vE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Vi(r.position[n],t.position[n]))return!1;return!0}class $l{constructor(t,n="asc"){this.field=t,this.dir=n}}function QC(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class b0{}class Ne extends b0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new YC(t,n,s):n==="array-contains"?new JC(t,s):n==="in"?new ZC(t,s):n==="not-in"?new WC(t,s):n==="array-contains-any"?new t2(t,s):new Ne(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new XC(t,s):new $C(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(oo(n,this.value)):n!==null&&as(this.value)===as(n)&&this.matchesComparison(oo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends b0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ni(t,n)}matches(t){return w0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function w0(r){return r.op==="and"}function R0(r){return KC(r)&&w0(r)}function KC(r){for(const t of r.filters)if(t instanceof ni)return!1;return!0}function km(r){if(r instanceof Ne)return r.field.canonicalString()+r.op.toString()+lo(r.value);if(R0(r))return r.filters.map((t=>km(t))).join(",");{const t=r.filters.map((n=>km(n))).join(",");return`${r.op}(${t})`}}function C0(r,t){return r instanceof Ne?(function(s,o){return o instanceof Ne&&s.op===o.op&&s.field.isEqual(o.field)&&Vi(s.value,o.value)})(r,t):r instanceof ni?(function(s,o){return o instanceof ni&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&C0(f,o.filters[m])),!0):!1})(r,t):void Et(19439)}function I0(r){return r instanceof Ne?(function(n){return`${n.field.canonicalString()} ${n.op} ${lo(n.value)}`})(r):r instanceof ni?(function(n){return n.op.toString()+" {"+n.getFilters().map(I0).join(" ,")+"}"})(r):"Filter"}class YC extends Ne{constructor(t,n,s){super(t,n,s),this.key=pt.fromName(s.referenceValue)}matches(t){const n=pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class XC extends Ne{constructor(t,n){super(t,"in",n),this.keys=D0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class $C extends Ne{constructor(t,n){super(t,"not-in",n),this.keys=D0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function D0(r,t){return(t.arrayValue?.values||[]).map((n=>pt.fromName(n.referenceValue)))}class JC extends Ne{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return _p(n)&&Xl(n.arrayValue,this.value)}}class ZC extends Ne{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class WC extends Ne{constructor(t,n){super(t,"not-in",n)}matches(t){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xl(this.value.arrayValue,n)}}class t2 extends Ne{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!_p(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Xl(this.value.arrayValue,s)))}}class e2{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function EE(r,t=null,n=[],s=[],o=null,u=null,f=null){return new e2(r,t,n,s,o,u,f)}function vp(r){const t=wt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>km(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),jh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>lo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>lo(s))).join(",")),t.Te=n}return t.Te}function Ep(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!QC(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!C0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!vE(r.startAt,t.startAt)&&vE(r.endAt,t.endAt)}function zm(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class To{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function n2(r,t,n,s,o,u,f,m){return new To(r,t,n,s,o,u,f,m)}function qh(r){return new To(r)}function TE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function N0(r){return r.collectionGroup!==null}function jl(r){const t=wt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new xe(Ke.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new $l(u,s))})),n.has(Ke.keyField().canonicalString())||t.Ie.push(new $l(Ke.keyField(),s))}return t.Ie}function Ci(r){const t=wt(r);return t.Ee||(t.Ee=i2(t,jl(r))),t.Ee}function i2(r,t){if(r.limitType==="F")return EE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new $l(o.field,u)}));const n=r.endAt?new gh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new gh(r.startAt.position,r.startAt.inclusive):null;return EE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function jm(r,t){const n=r.filters.concat([t]);return new To(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Bm(r,t,n){return new To(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Hh(r,t){return Ep(Ci(r),Ci(t))&&r.limitType===t.limitType}function O0(r){return`${vp(Ci(r))}|lt:${r.limitType}`}function Xa(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>I0(o))).join(", ")}]`),jh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>lo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>lo(o))).join(",")),`Target(${s})`})(Ci(r))}; limitType=${r.limitType})`}function Fh(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of jl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const y=_E(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,jl(s),o)||s.endAt&&!(function(f,m,p){const y=_E(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,jl(s),o))})(r,t)}function r2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function M0(r){return(t,n)=>{let s=!1;for(const o of jl(r)){const u=s2(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function s2(r,t,n){const s=r.field.isKeyField()?pt.comparator(t.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?oo(p,y):Et(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:r.dir})}}class ea{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){us(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return p0(this.inner)}size(){return this.innerSize}}const a2=new ue(pt.comparator);function or(){return a2}const V0=new ue(pt.comparator);function Pl(...r){let t=V0;for(const n of r)t=t.insert(n.key,n);return t}function x0(r){let t=V0;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Qs(){return Bl()}function P0(){return Bl()}function Bl(){return new ea((r=>r.toString()),((r,t)=>r.isEqual(t)))}const o2=new ue(pt.comparator),l2=new xe(pt.comparator);function Ut(...r){let t=l2;for(const n of r)t=t.add(n);return t}const u2=new xe(Lt);function c2(){return u2}function Tp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(t)?"-0":t}}function L0(r){return{integerValue:""+r}}function h2(r,t){return kC(t)?L0(t):Tp(r,t)}class Gh{constructor(){this._=void 0}}function f2(r,t,n){return r instanceof yh?(function(o,u){const f={fields:{[_0]:{stringValue:y0},[E0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&yp(u)&&(u=Bh(u)),u&&(f.fields[v0]=u),{mapValue:f}})(n,t):r instanceof Jl?k0(r,t):r instanceof Zl?z0(r,t):(function(o,u){const f=U0(o,u),m=SE(f)+SE(o.Ae);return Um(f)&&Um(o.Ae)?L0(m):Tp(o.serializer,m)})(r,t)}function d2(r,t,n){return r instanceof Jl?k0(r,t):r instanceof Zl?z0(r,t):n}function U0(r,t){return r instanceof _h?(function(s){return Um(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class yh extends Gh{}class Jl extends Gh{constructor(t){super(),this.elements=t}}function k0(r,t){const n=j0(t);for(const s of r.elements)n.some((o=>Vi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Zl extends Gh{constructor(t){super(),this.elements=t}}function z0(r,t){let n=j0(t);for(const s of r.elements)n=n.filter((o=>!Vi(o,s)));return{arrayValue:{values:n}}}class _h extends Gh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function SE(r){return ve(r.integerValue||r.doubleValue)}function j0(r){return _p(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function m2(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof Jl&&o instanceof Jl||s instanceof Zl&&o instanceof Zl?ao(s.elements,o.elements,Vi):s instanceof _h&&o instanceof _h?Vi(s.Ae,o.Ae):s instanceof yh&&o instanceof yh})(r.transform,t.transform)}class p2{constructor(t,n){this.version=t,this.transformResults=n}}class jn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new jn}static exists(t){return new jn(void 0,t)}static updateTime(t){return new jn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ih(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Qh{}function B0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Sp(r.key,jn.none()):new ou(r.key,r.data,jn.none());{const n=r.data,s=fn.empty();let o=new xe(Ke.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new cs(r.key,s,new An(o.toArray()),jn.none())}}function g2(r,t,n){r instanceof ou?(function(o,u,f){const m=o.value.clone(),p=bE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof cs?(function(o,u,f){if(!ih(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=bE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(q0(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function ql(r,t,n,s){return r instanceof ou?(function(u,f,m,p){if(!ih(u.precondition,f))return m;const y=u.value.clone(),E=wE(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof cs?(function(u,f,m,p){if(!ih(u.precondition,f))return m;const y=wE(u.fieldTransforms,p,f),E=f.data;return E.setAll(q0(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,t,n,s):(function(u,f,m){return ih(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function y2(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=U0(s.transform,o||null);u!=null&&(n===null&&(n=fn.empty()),n.set(s.field,u))}return n||null}function AE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ao(s,o,((u,f)=>m2(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class ou extends Qh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cs extends Qh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function q0(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function bE(r,t,n){const s=new Map;Gt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,d2(f,m,n[o]))}return s}function wE(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,f2(u,f,t))}return s}class Sp extends Qh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _2 extends Qh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class v2{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&g2(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=ql(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=ql(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=P0();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=B0(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(At.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&ao(this.mutations,t.mutations,((n,s)=>AE(n,s)))&&ao(this.baseMutations,t.baseMutations,((n,s)=>AE(n,s)))}}class Ap{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Gt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return o2})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Ap(t,n,s,o)}}class E2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class T2{constructor(t,n){this.count=t,this.unchangedNames=n}}var De,jt;function S2(r){switch(r){case J.OK:return Et(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function H0(r){if(r===void 0)return ar("GRPC error has no .code"),J.UNKNOWN;switch(r){case De.OK:return J.OK;case De.CANCELLED:return J.CANCELLED;case De.UNKNOWN:return J.UNKNOWN;case De.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case De.INTERNAL:return J.INTERNAL;case De.UNAVAILABLE:return J.UNAVAILABLE;case De.UNAUTHENTICATED:return J.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case De.NOT_FOUND:return J.NOT_FOUND;case De.ALREADY_EXISTS:return J.ALREADY_EXISTS;case De.PERMISSION_DENIED:return J.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case De.ABORTED:return J.ABORTED;case De.OUT_OF_RANGE:return J.OUT_OF_RANGE;case De.UNIMPLEMENTED:return J.UNIMPLEMENTED;case De.DATA_LOSS:return J.DATA_LOSS;default:return Et(39323,{code:r})}}(jt=De||(De={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function A2(){return new TextEncoder}const b2=new ts([4294967295,4294967295],0);function RE(r){const t=A2().encode(r),n=new r0;return n.update(t),new Uint8Array(n.digest())}function CE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ts([n,s],0),new ts([o,u],0)]}class bp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ll(`Invalid padding: ${n}`);if(s<0)throw new Ll(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ts.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(ts.fromNumber(s)));return o.compare(b2)===1&&(o=new ts([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=RE(t),[s,o]=CE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new bp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=RE(t),[s,o]=CE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Kh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,lu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Kh(At.min(),o,new ue(Lt),or(),Ut())}}class lu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new lu(s,n,Ut(),Ut(),Ut())}}class rh{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class F0{constructor(t,n){this.targetId=t,this.Ce=n}}class G0{constructor(t,n,s=Ye.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class IE{constructor(){this.ve=0,this.Fe=DE(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),n=Ut(),s=Ut();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Et(38017,{changeType:u})}})),new lu(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=DE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class w2{constructor(t){this.Ge=t,this.ze=new Map,this.je=or(),this.Je=Yc(),this.He=Yc(),this.Ye=new ue(Lt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(zm(u))if(s===0){const f=new pt(u.path);this.et(n,f,Ze.newNoDocument(f,At.min()))}else Gt(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),p=m?this.ct(m,t,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ss(s).toUint8Array()}catch(p){if(p instanceof g0)return so("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new bp(f,o,u)}catch(p){return so(p instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&zm(m.target)){const p=new pt(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Ze.newNoDocument(p,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Ut();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new Kh(t,n,this.Ye,this.je,s);return this.je=or(),this.Je=Yc(),this.He=Yc(),this.Ye=new ue(Lt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new IE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new xe(Lt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new xe(Lt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ct("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new IE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Yc(){return new ue(pt.comparator)}function DE(){return new ue(pt.comparator)}const R2={asc:"ASCENDING",desc:"DESCENDING"},C2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},I2={and:"AND",or:"OR"};class D2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function qm(r,t){return r.useProto3Json||jh(t)?t:{value:t}}function vh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Q0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function N2(r,t){return vh(r,t.toTimestamp())}function Ii(r){return Gt(!!r,49232),At.fromTimestamp((function(n){const s=rs(n);return new re(s.seconds,s.nanos)})(r))}function wp(r,t){return Hm(r,t).canonicalString()}function Hm(r,t){const n=(function(o){return new ee(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function K0(r){const t=ee.fromString(r);return Gt(Z0(t),10190,{key:t.toString()}),t}function Fm(r,t){return wp(r.databaseId,t.path)}function Tm(r,t){const n=K0(t);if(n.get(1)!==r.databaseId.projectId)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pt(X0(n))}function Y0(r,t){return wp(r.databaseId,t)}function O2(r){const t=K0(r);return t.length===4?ee.emptyPath():X0(t)}function Gm(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function X0(r){return Gt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function NE(r,t,n){return{name:Fm(r,t),fields:n.value.mapValue.fields}}function M2(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Gt(E===void 0||typeof E=="string",58123),Ye.fromBase64String(E||"")):(Gt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ye.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?J.UNKNOWN:H0(y.code);return new ut(E,y.message||"")})(f);n=new G0(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Tm(r,s.document.name),u=Ii(s.document.updateTime),f=s.document.createTime?Ii(s.document.createTime):At.min(),m=new fn({mapValue:{fields:s.document.fields}}),p=Ze.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new rh(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Tm(r,s.document),u=s.readTime?Ii(s.readTime):At.min(),f=Ze.newNoDocument(o,u),m=s.removedTargetIds||[];n=new rh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Tm(r,s.document),u=s.removedTargetIds||[];n=new rh([],u,o,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new T2(o,u),m=s.targetId;n=new F0(m,f)}}return n}function V2(r,t){let n;if(t instanceof ou)n={update:NE(r,t.key,t.value)};else if(t instanceof Sp)n={delete:Fm(r,t.key)};else if(t instanceof cs)n={update:NE(r,t.key,t.data),updateMask:q2(t.fieldMask)};else{if(!(t instanceof _2))return Et(16599,{Vt:t.type});n={verify:Fm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof yh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Jl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Zl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof _h)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Et(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:N2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et(27497)})(r,t.precondition)),n}function x2(r,t){return r&&r.length>0?(Gt(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Ii(o.updateTime):Ii(u);return f.isEqual(At.min())&&(f=Ii(u)),new p2(f,o.transformResults||[])})(n,t)))):[]}function P2(r,t){return{documents:[Y0(r,t.path)]}}function L2(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Y0(r,o);const u=(function(y){if(y.length!==0)return J0(ni.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:$a(w.field),direction:z2(w.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=qm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function U2(r){let t=O2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Gt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const w=$0(T);return w instanceof ni&&R0(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((w=>(function(F){return new $l(Ja(F.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,jh(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(T){const w=!!T.before,x=T.values||[];return new gh(x,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const w=!T.before,x=T.values||[];return new gh(x,w)})(n.endAt)),n2(t,o,f,u,m,"F",p,y)}function k2(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function $0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ja(n.unaryFilter.field);return Ne.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ja(n.unaryFilter.field);return Ne.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ja(n.unaryFilter.field);return Ne.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ja(n.unaryFilter.field);return Ne.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ne.create(Ja(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ni.create(n.compositeFilter.filters.map((s=>$0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(n.compositeFilter.op))})(r):Et(30097,{filter:r})}function z2(r){return R2[r]}function j2(r){return C2[r]}function B2(r){return I2[r]}function $a(r){return{fieldPath:r.canonicalString()}}function Ja(r){return Ke.fromServerFormat(r.fieldPath)}function J0(r){return r instanceof Ne?(function(n){if(n.op==="=="){if(yE(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NAN"}};if(gE(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yE(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NOT_NAN"}};if(gE(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$a(n.field),op:j2(n.op),value:n.value}}})(r):r instanceof ni?(function(n){const s=n.getFilters().map((o=>J0(o)));return s.length===1?s[0]:{compositeFilter:{op:B2(n.op),filters:s}}})(r):Et(54877,{filter:r})}function q2(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function Z0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class $r{constructor(t,n,s,o,u=At.min(),f=At.min(),m=Ye.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new $r(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class H2{constructor(t){this.yt=t}}function F2(r){const t=U2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Bm(t,t.limit,"L"):t}class G2{constructor(){this.Cn=new Q2}addToCollectionParentIndex(t,n){return this.Cn.add(n),tt.resolve()}getCollectionParents(t,n){return tt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return tt.resolve()}deleteFieldIndex(t,n){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,n){return tt.resolve()}getDocumentsMatchingTarget(t,n){return tt.resolve(null)}getIndexType(t,n){return tt.resolve(0)}getFieldIndexes(t,n){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,n){return tt.resolve(is.min())}getMinOffsetFromCollectionGroup(t,n){return tt.resolve(is.min())}updateCollectionGroup(t,n,s){return tt.resolve()}updateIndexEntries(t,n){return tt.resolve()}}class Q2{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new xe(ee.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new xe(ee.comparator)).toArray()}}const OE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},W0=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(W0,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class uo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new uo(0)}static cr(){return new uo(-1)}}const ME="LruGarbageCollector",K2=1048576;function VE([r,t],[n,s]){const o=Lt(r,n);return o===0?Lt(t,s):o}class Y2{constructor(t){this.Ir=t,this.buffer=new xe(VE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();VE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class X2{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ct(ME,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Eo(n)?ct(ME,"Ignoring IndexedDB error during garbage collection: ",n):await vo(n)}await this.Vr(3e5)}))}}class $2{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return tt.resolve(zh.ce);const s=new Y2(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(OE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(t,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(y=Date.now(),Ya()<=Pt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function J2(r,t){return new $2(r,t)}class Z2{constructor(){this.changes=new ea((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?tt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class W2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class tI{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&ql(s.mutation,o,An.empty(),re.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Ut()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Ut()){const o=Qs();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=Pl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=Qs();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Ut())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=or();const f=Bl(),m=(function(){return Bl()})();return n.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof cs)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),ql(E.mutation,y,E.mutation.getFieldMask(),re.now())):f.set(y.key,An.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new W2(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=Bl();let o=new ue(((f,m)=>f-m)),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||An.empty();E=m.applyToLocalView(y,E),s.set(p,E);const T=(o.get(m.batchId)||Ut()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,T=P0();E.forEach((w=>{if(!u.has(w)){const x=B0(n.get(w),s.get(w));x!==null&&T.set(w,x),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,T))}return tt.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return pt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):N0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):tt.resolve(Qs());let m=Ql,p=u;return f.next((y=>tt.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?tt.resolve():this.remoteDocumentCache.getEntry(t,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,p,y,Ut()))).next((E=>({batchId:m,changes:x0(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new pt(n)).next((s=>{let o=Pl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Pl();return this.indexManager.getCollectionParents(t,u).next((m=>tt.forEach(m,(p=>{const y=(function(T,w){return new To(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((E=>{E.forEach(((T,w)=>{f=f.insert(T,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Ze.newInvalidDocument(E)))}));let m=Pl();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&ql(E.mutation,y,An.empty(),re.now()),Fh(n,y)&&(m=m.insert(p,y))})),m}))}}class eI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return tt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ii(o.createTime)}})(n)),tt.resolve()}getNamedQuery(t,n){return tt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:F2(o.bundledQuery),readTime:Ii(o.readTime)}})(n)),tt.resolve()}}class nI{constructor(){this.overlays=new ue(pt.comparator),this.qr=new Map}getOverlay(t,n){return tt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Qs();return tt.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),tt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),tt.resolve()}getOverlaysForCollection(t,n,s){const o=Qs(),u=n.length+1,f=new pt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return tt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ue(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Qs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Qs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return tt.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new E2(n,s));let u=this.qr.get(n);u===void 0&&(u=Ut(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class iI{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,tt.resolve()}}class Rp{constructor(){this.Qr=new xe(ke.$r),this.Ur=new xe(ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new ke(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new ke(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new pt(new ee([])),s=new ke(n,t),o=new ke(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new pt(new ee([])),s=new ke(n,t),o=new ke(n,t+1);let u=Ut();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new ke(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class ke{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return pt.comparator(t.key,n.key)||Lt(t.Yr,n.Yr)}static Kr(t,n){return Lt(t.Yr,n.Yr)||pt.comparator(t.key,n.key)}}class rI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new xe(ke.$r)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new v2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new ke(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return tt.resolve(f)}lookupMutationBatch(t,n){return tt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return tt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?gp:this.tr-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new ke(n,0),o=new ke(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),tt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new xe(Lt);return n.forEach((o=>{const u=new ke(o,0),f=new ke(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),tt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;pt.isDocumentKey(u)||(u=u.child(""));const f=new ke(new pt(u),0);let m=new xe(Lt);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),f),tt.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Gt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return tt.forEach(n.mutations,(o=>{const u=new ke(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new ke(n,0),o=this.Zr.firstAfterOrEqual(s);return tt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class sI{constructor(t){this.ri=t,this.docs=(function(){return new ue(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return tt.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(n))}getEntries(t,n){let s=or();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ze.newInvalidDocument(o))})),tt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=or();const f=n.path,m=new pt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||xC(VC(E),s)<=0||(o.has(E.key)||Fh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return tt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Et(9500)}ii(t,n){return tt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new aI(this)}getSize(t){return tt.resolve(this.size)}}class aI extends Z2{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),tt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class oI{constructor(t){this.persistence=t,this.si=new ea((n=>vp(n)),Ep),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new Rp,this.targetCount=0,this.ai=uo.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),tt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new uo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,tt.resolve()}updateTargetData(t,n){return this.Pr(n),tt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),tt.waitFor(u).next((()=>o))}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return tt.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),tt.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),tt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),tt.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return tt.resolve(s)}containsKey(t,n){return tt.resolve(this._i.containsKey(n))}}class tS{constructor(t,n){this.ui={},this.overlays={},this.ci=new zh(0),this.li=!1,this.li=!0,this.hi=new iI,this.referenceDelegate=t(this),this.Pi=new oI(this),this.indexManager=new G2,this.remoteDocumentCache=(function(o){return new sI(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new H2(n),this.Ii=new eI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new nI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new rI(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ct("MemoryPersistence","Starting transaction:",t);const o=new lI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return tt.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class lI extends LC{constructor(t){super(),this.currentSequenceNumber=t}}class Cp{constructor(t){this.persistence=t,this.Ri=new Rp,this.Vi=null}static mi(t){return new Cp(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),tt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),tt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.fi,(s=>{const o=pt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,At.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return tt.or([()=>tt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Eh{constructor(t,n){this.persistence=t,this.pi=new ea((s=>zC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=J2(this,n)}static mi(t,n){return new Eh(t,n)}Ei(){}di(t){return tt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return tt.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?tt.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((m=>{m||(s++,u.removeEntry(f,At.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),tt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),tt.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),tt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=eh(t.data.value)),n}br(t,n,s){return tt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return tt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Ip{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Ut(),o=Ut();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ip(t,n.fromCache,s,o)}}class uI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class cI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return iR()?8:UC(We())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new uI;return this.Ss(t,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(Ya()<=Pt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",Xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),tt.resolve()):(Ya()<=Pt.DEBUG&&ct("QueryEngine","Query:",Xa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ya()<=Pt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",Xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ci(n))):tt.resolve())}ys(t,n){if(TE(n))return tt.resolve(null);let s=Ci(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Bm(n,null,"F"),s=Ci(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Ut(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const y=this.Ds(n,m);return this.Cs(n,y,f,p.readTime)?this.ys(t,Bm(n,null,"F")):this.vs(t,y,n,p)}))))})))))}ws(t,n,s,o){return TE(n)||o.isEqual(At.min())?tt.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?tt.resolve(null):(Ya()<=Pt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xa(n)),this.vs(t,f,n,MC(o,Ql)).next((m=>m)))}))}Ds(t,n){let s=new xe(M0(t));return n.forEach(((o,u)=>{Fh(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return Ya()<=Pt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",Xa(n)),this.ps.getDocumentsMatchingQuery(t,n,is.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Dp="LocalStore",hI=3e8;class fI{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new ue(Lt),this.xs=new ea((u=>vp(u)),Ep),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new tI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function dI(r,t,n,s){return new fI(r,t,n,s)}async function eS(r,t){const n=wt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Ut();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function mI(r,t){const n=wt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const T=y.batch,w=T.keys();let x=tt.resolve();return w.forEach((F=>{x=x.next((()=>E.getEntry(p,F))).next((Z=>{const G=y.docVersions.get(F);Gt(G!==null,48541),Z.version.compareTo(G)<0&&(T.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),E.addEntry(Z)))}))})),x.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ut();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function nS(r){const t=wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function pI(r,t){const n=wt(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,T)=>{const w=o.get(T);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let x=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?x=x.withResumeToken(Ye.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(E.resumeToken,s)),o=o.insert(T,x),(function(Z,G,et){return Z.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=hI?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0})(w,x,E)&&m.push(n.Pi.updateTargetData(u,x))}));let p=or(),y=Ut();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(gI(u,f,t.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!s.isEqual(At.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return tt.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function gI(r,t,n){let s=Ut(),o=Ut();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=or();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ct(Dp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function yI(r,t){const n=wt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=gp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function _I(r,t){const n=wt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,tt.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new $r(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function Qm(r,t,n){const s=wt(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Eo(f))throw f;ct(Dp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function xE(r,t,n){const s=wt(r);let o=At.min(),u=Ut();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const T=wt(p),w=T.xs.get(E);return w!==void 0?tt.resolve(T.Ms.get(w)):T.Pi.getTargetData(y,E)})(s,f,Ci(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:At.min(),n?u:Ut()))).next((m=>(vI(s,r2(t),m),{documents:m,Qs:u})))))}function vI(r,t,n){let s=r.Os.get(t)||At.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class PE{constructor(){this.activeTargetIds=c2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class EI{constructor(){this.Mo=new PE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new PE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class TI{Oo(t){}shutdown(){}}const LE="ConnectivityMonitor";class UE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(LE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ct(LE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Xc=null;function Km(){return Xc===null?Xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xc++,"0x"+Xc.toString(16)}const Sm="RestConnection",SI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===mh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=Km(),m=this.zo(t,n.toUriEncodedString());ct(Sm,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),E=go(y);return this.Jo(t,m,p,s,E).then((T=>(ct(Sm,`Received RPC '${t}' ${f}: `,T),T)),(T=>{throw so(Sm,`RPC '${t}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_o})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=SI[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class bI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const $e="WebChannelConnection";class wI extends AI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=Km();return new Promise(((m,p)=>{const y=new s0;y.setWithCredentials(!0),y.listenOnce(a0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case th.NO_ERROR:const T=y.getResponseJson();ct($e,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(T)),m(T);break;case th.TIMEOUT:ct($e,`RPC '${t}' ${f} timed out`),p(new ut(J.DEADLINE_EXCEEDED,"Request time out"));break;case th.HTTP_ERROR:const w=y.getStatus();if(ct($e,`RPC '${t}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let x=y.getResponseJson();Array.isArray(x)&&(x=x[0]);const F=x?.error;if(F&&F.status&&F.message){const Z=(function(et){const nt=et.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(nt)>=0?nt:J.UNKNOWN})(F.status);p(new ut(Z,F.message))}else p(new ut(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ut(J.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ct($e,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);ct($e,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=Km(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=u0(),m=l0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ct($e,`Creating RPC '${t}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.I_(T);let w=!1,x=!1;const F=new bI({Yo:G=>{x?ct($e,`Not sending because RPC '${t}' stream ${o} is closed:`,G):(w||(ct($e,`Opening RPC '${t}' stream ${o} transport.`),T.open(),w=!0),ct($e,`RPC '${t}' stream ${o} sending:`,G),T.send(G))},Zo:()=>T.close()}),Z=(G,et,nt)=>{G.listen(et,(ot=>{try{nt(ot)}catch(Rt){setTimeout((()=>{throw Rt}),0)}}))};return Z(T,xl.EventType.OPEN,(()=>{x||(ct($e,`RPC '${t}' stream ${o} transport opened.`),F.o_())})),Z(T,xl.EventType.CLOSE,(()=>{x||(x=!0,ct($e,`RPC '${t}' stream ${o} transport closed`),F.a_(),this.E_(T))})),Z(T,xl.EventType.ERROR,(G=>{x||(x=!0,so($e,`RPC '${t}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),F.a_(new ut(J.UNAVAILABLE,"The operation could not be completed")))})),Z(T,xl.EventType.MESSAGE,(G=>{if(!x){const et=G.data[0];Gt(!!et,16349);const nt=et,ot=nt?.error||nt[0]?.error;if(ot){ct($e,`RPC '${t}' stream ${o} received error:`,ot);const Rt=ot.status;let _t=(function(b){const C=De[b];if(C!==void 0)return H0(C)})(Rt),Tt=ot.message;_t===void 0&&(_t=J.INTERNAL,Tt="Unknown error status: "+Rt+" with message "+ot.message),x=!0,F.a_(new ut(_t,Tt)),T.close()}else ct($e,`RPC '${t}' stream ${o} received:`,et),F.u_(et)}})),Z(m,o0.STAT_EVENT,(G=>{G.stat===xm.PROXY?ct($e,`RPC '${t}' stream ${o} detected buffering proxy`):G.stat===xm.NOPROXY&&ct($e,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Am(){return typeof document<"u"?document:null}function Yh(r){return new D2(r,!0)}class iS{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const kE="PersistentStream";class rS{constructor(t,n,s,o,u,f,m,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iS(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(ar(n.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new ut(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ct(kE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ct(kE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class RI extends rS{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=M2(this.serializer,t),s=(function(u){if(!("targetChange"in u))return At.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?At.min():f.readTime?Ii(f.readTime):At.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Gm(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=zm(p)?{documents:P2(u,p)}:{query:L2(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Q0(u,f.resumeToken);const y=qm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(At.min())>0){m.readTime=vh(u,f.snapshotVersion.toTimestamp());const y=qm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const s=k2(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Gm(this.serializer),n.removeTarget=t,this.q_(n)}}class CI extends rS{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=x2(t.writeResults,t.commitTime),s=Ii(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Gm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>V2(this.serializer,s)))};this.q_(n)}}class II{}class DI extends II{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,Hm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ut(J.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,Hm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ut(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class NI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ar(n),this.aa=!1):ct("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ws="RemoteStore";class OI{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{na(this)&&(ct(Ws,"Restarting streams for network reachability change."),await(async function(p){const y=wt(p);y.Ea.add(4),await uu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Xh(y)})(this))}))})),this.Ra=new NI(s,o)}}async function Xh(r){if(na(r))for(const t of r.da)await t(!0)}async function uu(r){for(const t of r.da)await t(!1)}function sS(r,t){const n=wt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Vp(n)?Mp(n):So(n).O_()&&Op(n,t))}function Np(r,t){const n=wt(r),s=So(n);n.Ia.delete(t),s.O_()&&aS(n,t),n.Ia.size===0&&(s.O_()?s.L_():na(n)&&n.Ra.set("Unknown"))}function Op(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}So(r).Y_(t)}function aS(r,t){r.Va.Ue(t),So(r).Z_(t)}function Mp(r){r.Va=new w2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),So(r).start(),r.Ra.ua()}function Vp(r){return na(r)&&!So(r).x_()&&r.Ia.size>0}function na(r){return wt(r).Ea.size===0}function oS(r){r.Va=void 0}async function MI(r){r.Ra.set("Online")}async function VI(r){r.Ia.forEach(((t,n)=>{Op(r,t)}))}async function xI(r,t){oS(r),Vp(r)?(r.Ra.ha(t),Mp(r)):r.Ra.set("Unknown")}async function PI(r,t,n){if(r.Ra.set("Online"),t instanceof G0&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,t)}catch(s){ct(Ws,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Th(r,s)}else if(t instanceof rh?r.Va.Ze(t):t instanceof F0?r.Va.st(t):r.Va.tt(t),!n.isEqual(At.min()))try{const s=await nS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Ye.EMPTY_BYTE_STRING,E.snapshotVersion)),aS(u,p);const T=new $r(E.target,p,y,E.sequenceNumber);Op(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ct(Ws,"Failed to raise snapshot:",s),await Th(r,s)}}async function Th(r,t,n){if(!Eo(t))throw t;r.Ea.add(1),await uu(r),r.Ra.set("Offline"),n||(n=()=>nS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ct(Ws,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Xh(r)}))}function lS(r,t){return t().catch((n=>Th(r,n,t)))}async function $h(r){const t=wt(r),n=os(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:gp;for(;LI(t);)try{const o=await yI(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,UI(t,o)}catch(o){await Th(t,o)}uS(t)&&cS(t)}function LI(r){return na(r)&&r.Ta.length<10}function UI(r,t){r.Ta.push(t);const n=os(r);n.O_()&&n.X_&&n.ea(t.mutations)}function uS(r){return na(r)&&!os(r).x_()&&r.Ta.length>0}function cS(r){os(r).start()}async function kI(r){os(r).ra()}async function zI(r){const t=os(r);for(const n of r.Ta)t.ea(n.mutations)}async function jI(r,t,n){const s=r.Ta.shift(),o=Ap.from(s,t,n);await lS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await $h(r)}async function BI(r,t){t&&os(r).X_&&await(async function(s,o){if((function(f){return S2(f)&&f!==J.ABORTED})(o.code)){const u=s.Ta.shift();os(s).B_(),await lS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await $h(s)}})(r,t),uS(r)&&cS(r)}async function zE(r,t){const n=wt(r);n.asyncQueue.verifyOperationInProgress(),ct(Ws,"RemoteStore received new credentials");const s=na(n);n.Ea.add(3),await uu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Xh(n)}async function qI(r,t){const n=wt(r);t?(n.Ea.delete(2),await Xh(n)):t||(n.Ea.add(2),await uu(n),n.Ra.set("Unknown"))}function So(r){return r.ma||(r.ma=(function(n,s,o){const u=wt(n);return u.sa(),new RI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:MI.bind(null,r),t_:VI.bind(null,r),r_:xI.bind(null,r),H_:PI.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Vp(r)?Mp(r):r.Ra.set("Unknown")):(await r.ma.stop(),oS(r))}))),r.ma}function os(r){return r.fa||(r.fa=(function(n,s,o){const u=wt(n);return u.sa(),new CI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:kI.bind(null,r),r_:BI.bind(null,r),ta:zI.bind(null,r),na:jI.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await $h(r)):(await r.fa.stop(),r.Ta.length>0&&(ct(Ws,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class xp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new xp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pp(r,t){if(ar("AsyncQueue",`${t}: ${r}`),Eo(r))return new ut(J.UNAVAILABLE,`${t}: ${r}`);throw r}class to{static emptySet(t){return new to(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||pt.comparator(n.key,s.key):(n,s)=>pt.comparator(n.key,s.key),this.keyedMap=Pl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof to)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new to;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class jE{constructor(){this.ga=new ue(pt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class co{constructor(t,n,s,o,u,f,m,p,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new co(t,n,to.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class HI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class FI{constructor(){this.queries=BE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=wt(n),u=o.queries;o.queries=BE(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ut(J.ABORTED,"Firestore shutting down"))}}function BE(){return new ea((r=>O0(r)),Hh)}async function Lp(r,t){const n=wt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new HI,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Pp(f,`Initialization of query '${Xa(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&kp(n)}async function Up(r,t){const n=wt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function GI(r,t){const n=wt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&kp(n)}function QI(r,t,n){const s=wt(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function kp(r){r.Ca.forEach((t=>{t.next()}))}var Ym,qE;(qE=Ym||(Ym={})).Ma="default",qE.Cache="cache";class zp{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new co(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=co.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Ym.Cache}}class hS{constructor(t){this.key=t}}class fS{constructor(t){this.key=t}}class KI{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=M0(t),this.tu=new to(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new jE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,T)=>{const w=o.get(E),x=Fh(this.query,T)?T:null,F=!!w&&this.mutatedKeys.has(w.key),Z=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let G=!1;w&&x?w.data.isEqual(x.data)?F!==Z&&(s.track({type:3,doc:x}),G=!0):this.su(w,x)||(s.track({type:2,doc:x}),G=!0,(p&&this.eu(x,p)>0||y&&this.eu(x,y)<0)&&(m=!0)):!w&&x?(s.track({type:0,doc:x}),G=!0):w&&!x&&(s.track({type:1,doc:w}),G=!0,(p||y)&&(m=!0)),G&&(x?(f=f.add(x),u=Z?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,T)=>(function(x,F){const Z=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:G})}};return Z(x)-Z(F)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new co(this.query,t.tu,u,f,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new fS(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new hS(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Ut();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jp="SyncEngine";class YI{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class XI{constructor(t){this.key=t,this.hu=!1}}class $I{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ea((m=>O0(m)),Hh),this.Iu=new Map,this.Eu=new Set,this.du=new ue(pt.comparator),this.Au=new Map,this.Ru=new Rp,this.Vu={},this.mu=new Map,this.fu=uo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JI(r,t,n=!0){const s=_S(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await dS(s,t,n,!0),o}async function ZI(r,t){const n=_S(r);await dS(n,t,!0,!1)}async function dS(r,t,n,s){const o=await _I(r.localStore,Ci(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await WI(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&sS(r.remoteStore,o),m}async function WI(r,t,n,s,o){r.pu=(T,w,x)=>(async function(Z,G,et,nt){let ot=G.view.ru(et);ot.Cs&&(ot=await xE(Z.localStore,G.query,!1).then((({documents:R})=>G.view.ru(R,ot))));const Rt=nt&&nt.targetChanges.get(G.targetId),_t=nt&&nt.targetMismatches.get(G.targetId)!=null,Tt=G.view.applyChanges(ot,Z.isPrimaryClient,Rt,_t);return FE(Z,G.targetId,Tt.au),Tt.snapshot})(r,T,w,x);const u=await xE(r.localStore,t,!0),f=new KI(t,u.Qs),m=f.ru(u.documents),p=lu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);FE(r,n,y.au);const E=new YI(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function tD(r,t,n){const s=wt(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Hh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Qm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Np(s.remoteStore,o.targetId),Xm(s,o.targetId)})).catch(vo)):(Xm(s,o.targetId),await Qm(s.localStore,o.targetId,!0))}async function eD(r,t){const n=wt(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Np(n.remoteStore,s.targetId))}async function nD(r,t,n){const s=uD(r);try{const o=await(function(f,m){const p=wt(f),y=re.now(),E=m.reduce(((x,F)=>x.add(F.key)),Ut());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let F=or(),Z=Ut();return p.Ns.getEntries(x,E).next((G=>{F=G,F.forEach(((et,nt)=>{nt.isValidDocument()||(Z=Z.add(et))}))})).next((()=>p.localDocuments.getOverlayedDocuments(x,F))).next((G=>{T=G;const et=[];for(const nt of m){const ot=y2(nt,T.get(nt.key).overlayedDocument);ot!=null&&et.push(new cs(nt.key,ot,A0(ot.value.mapValue),jn.exists(!0)))}return p.mutationQueue.addMutationBatch(x,y,et,m)})).next((G=>{w=G;const et=G.applyToLocalDocumentSet(T,Z);return p.documentOverlayCache.saveOverlays(x,G.batchId,et)}))})).then((()=>({batchId:w.batchId,changes:x0(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new ue(Lt)),y=y.insert(m,p),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await cu(s,o.changes),await $h(s.remoteStore)}catch(o){const u=Pp(o,"Failed to persist write");n.reject(u)}}async function mS(r,t){const n=wt(r);try{const s=await pI(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Gt(f.hu,14607):o.removedDocuments.size>0&&(Gt(f.hu,42227),f.hu=!1))})),await cu(n,s,t)}catch(s){await vo(s)}}function HE(r,t,n){const s=wt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=wt(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,T)=>{for(const w of T.Sa)w.va(m)&&(y=!0)})),y&&kp(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function iD(r,t,n){const s=wt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new ue(pt.comparator);f=f.insert(u,Ze.newNoDocument(u,At.min()));const m=Ut().add(u),p=new Kh(At.min(),new Map,new ue(Lt),f,m);await mS(s,p),s.du=s.du.remove(u),s.Au.delete(t),Bp(s)}else await Qm(s.localStore,t,!1).then((()=>Xm(s,t,n))).catch(vo)}async function rD(r,t){const n=wt(r),s=t.batch.batchId;try{const o=await mI(n.localStore,t);gS(n,s,null),pS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await cu(n,o)}catch(o){await vo(o)}}async function sD(r,t,n){const s=wt(r);try{const o=await(function(f,m){const p=wt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((T=>(Gt(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);gS(s,t,n),pS(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await cu(s,o)}catch(o){await vo(o)}}function pS(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function gS(r,t,n){const s=wt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Xm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||yS(r,s)}))}function yS(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Np(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),Bp(r))}function FE(r,t,n){for(const s of n)s instanceof hS?(r.Ru.addReference(s.key,t),aD(r,s)):s instanceof fS?(ct(jp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||yS(r,s.key)):Et(19791,{wu:s})}function aD(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ct(jp,"New document in limbo: "+n),r.Eu.add(s),Bp(r))}function Bp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new pt(ee.fromString(t)),s=r.fu.next();r.Au.set(s,new XI(n)),r.du=r.du.insert(n,s),sS(r.remoteStore,new $r(Ci(qh(n.path)),s,"TargetPurposeLimboResolution",zh.ce))}}async function cu(r,t,n){const s=wt(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Ip.As(p.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,y){const E=wt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>tt.forEach(y,(w=>tt.forEach(w.Es,(x=>E.persistence.referenceDelegate.addReference(T,w.targetId,x))).next((()=>tt.forEach(w.ds,(x=>E.persistence.referenceDelegate.removeReference(T,w.targetId,x)))))))))}catch(T){if(!Eo(T))throw T;ct(Dp,"Failed to update sequence numbers: "+T)}for(const T of y){const w=T.targetId;if(!T.fromCache){const x=E.Ms.get(w),F=x.snapshotVersion,Z=x.withLastLimboFreeSnapshotVersion(F);E.Ms=E.Ms.insert(w,Z)}}})(s.localStore,u))}async function oD(r,t){const n=wt(r);if(!n.currentUser.isEqual(t)){ct(jp,"User change. New user:",t.toKey());const s=await eS(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ut(J.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await cu(n,s.Ls)}}function lD(r,t){const n=wt(r),s=n.Au.get(t);if(s&&s.hu)return Ut().add(s.key);{let o=Ut();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function _S(r){const t=wt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=mS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=iD.bind(null,t),t.Pu.H_=GI.bind(null,t.eventManager),t.Pu.yu=QI.bind(null,t.eventManager),t}function uD(r){const t=wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=sD.bind(null,t),t}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Yh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return dI(this.persistence,new cI,t.initialUser,this.serializer)}Cu(t){return new tS(Cp.mi,this.serializer)}Du(t){return new EI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class cD extends Sh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Gt(this.persistence.referenceDelegate instanceof Eh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new X2(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new tS((s=>Eh.mi(s,n)),this.serializer)}}class $m{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>HE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=oD.bind(null,this.syncEngine),await qI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new FI})()}createDatastore(t){const n=Yh(t.databaseInfo.databaseId),s=(function(u){return new wI(u)})(t.databaseInfo);return(function(u,f,m,p){return new DI(u,f,m,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new OI(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>HE(this.syncEngine,n,0)),(function(){return UE.v()?new UE:new TI})())}createSyncEngine(t,n){return(function(o,u,f,m,p,y,E){const T=new $I(o,u,f,m,p,y);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=wt(n);ct(Ws,"RemoteStore shutting down."),s.Ea.add(5),await uu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}$m.provider={build:()=>new $m};class qp{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ar("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const ls="FirestoreClient";class hD{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Je.UNAUTHENTICATED,this.clientId=pp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ct(ls,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ct(ls,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Pp(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function bm(r,t){r.asyncQueue.verifyOperationInProgress(),ct(ls,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await eS(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function GE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await fD(r);ct(ls,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>zE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>zE(t.remoteStore,o))),r._onlineComponents=t}async function fD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ct(ls,"Using user provided OfflineComponentProvider");try{await bm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;so("Error using user provided cache. Falling back to memory cache: "+n),await bm(r,new Sh)}}else ct(ls,"Using default OfflineComponentProvider"),await bm(r,new cD(void 0));return r._offlineComponents}async function vS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ct(ls,"Using user provided OnlineComponentProvider"),await GE(r,r._uninitializedComponentsProvider._online)):(ct(ls,"Using default OnlineComponentProvider"),await GE(r,new $m))),r._onlineComponents}function dD(r){return vS(r).then((t=>t.syncEngine))}async function Ah(r){const t=await vS(r),n=t.eventManager;return n.onListen=JI.bind(null,t.syncEngine),n.onUnlisten=tD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ZI.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=eD.bind(null,t.syncEngine),n}function mD(r,t,n={}){const s=new ir;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new qp({next:w=>{E.Nu(),f.enqueueAndForget((()=>Up(u,T)));const x=w.docs.has(m);!x&&w.fromCache?y.reject(new ut(J.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&w.fromCache&&p&&p.source==="server"?y.reject(new ut(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),T=new zp(qh(m.path),E,{includeMetadataChanges:!0,qa:!0});return Lp(u,T)})(await Ah(r),r.asyncQueue,t,n,s))),s.promise}function pD(r,t,n={}){const s=new ir;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new qp({next:w=>{E.Nu(),f.enqueueAndForget((()=>Up(u,T))),w.fromCache&&p.source==="server"?y.reject(new ut(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),T=new zp(m,E,{includeMetadataChanges:!0,qa:!0});return Lp(u,T)})(await Ah(r),r.asyncQueue,t,n,s))),s.promise}function ES(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const QE=new Map;const TS="firestore.googleapis.com",KE=!0;class YE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TS,this.ssl=KE}else this.host=t.host,this.ssl=t.ssl??KE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=W0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<K2)throw new ut(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}OC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ES(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Jh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new TC;switch(s.type){case"firstParty":return new wC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=QE.get(n);s&&(ct("ComponentProvider","Removing Datastore"),QE.delete(n),s.terminate())})(this),Promise.resolve()}}function gD(r,t,n,s={}){r=dn(r,Jh);const o=go(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&($T(`https://${m}`),JT("Firestore",!0)),u.host!==TS&&u.host!==m&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!$s(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Je.MOCK_USER;else{y=Yw(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ut(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Je(T)}r._authCredentials=new SC(new h0(y,E))}}class hs{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new hs(this.firestore,t,this._query)}}class fe{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fe(this.firestore,t,this._key)}toJSON(){return{type:fe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(au(n,fe._jsonSchema))return new fe(t,s||null,new pt(ee.fromString(n.referencePath)))}}fe._jsonSchemaVersion="firestore/documentReference/1.0",fe._jsonSchema={type:Oe("string",fe._jsonSchemaVersion),referencePath:Oe("string")};class es extends hs{constructor(t,n,s){super(t,n,qh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fe(this.firestore,null,new pt(t))}withConverter(t){return new es(this.firestore,t,this._path)}}function Gs(r,t,...n){if(r=ze(r),f0("collection","path",t),r instanceof Jh){const s=ee.fromString(t,...n);return oE(s),new es(r,null,s)}{if(!(r instanceof fe||r instanceof es))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return oE(s),new es(r.firestore,null,s)}}function Za(r,t,...n){if(r=ze(r),arguments.length===1&&(t=pp.newId()),f0("doc","path",t),r instanceof Jh){const s=ee.fromString(t,...n);return aE(s),new fe(r,null,new pt(s))}{if(!(r instanceof fe||r instanceof es))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return aE(s),new fe(r.firestore,r instanceof es?r.converter:null,new pt(s))}}const XE="AsyncQueue";class $E{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iS(this,"async_queue_retry"),this._c=()=>{const s=Am();s&&ct(XE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Am();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Am();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ir;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Eo(t))throw t;ct(XE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,ar("INTERNAL UNHANDLED ERROR: ",JE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=xp.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Et(47125,{Pc:JE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function JE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function ZE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class lr extends Jh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new $E,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new $E(t),this._firestoreClient=void 0,await t}}}function yD(r,t){const n=typeof r=="object"?r:e0(),s=typeof r=="string"?r:mh,o=dp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Qw("firestore");u&&gD(o,...u)}return o}function Zh(r){if(r._terminated)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||_D(r),r._firestoreClient}function _D(r){const t=r._freezeSettings(),n=(function(o,u,f,m){return new qC(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,ES(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new hD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zn(Ye.fromBase64String(t))}catch(n){throw new ut(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new zn(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(au(t,zn._jsonSchema))return zn.fromBase64String(t.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Oe("string",zn._jsonSchemaVersion),bytes:Oe("string")};class Wh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ut(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Hp{constructor(t){this._methodName=t}}class Di{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ut(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ut(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(t){if(au(t,Di._jsonSchema))return new Di(t.latitude,t.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:Oe("string",Di._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};class Ni{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(au(t,Ni._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Ni(t.vectorValues);throw new ut(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:Oe("string",Ni._jsonSchemaVersion),vectorValues:Oe("object")};const vD=/^__.*__$/;class ED{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new cs(t,this.data,this.fieldMask,n,this.fieldTransforms):new ou(t,this.data,n,this.fieldTransforms)}}class SS{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new cs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function AS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:r})}}class Fp{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Fp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return bh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(AS(this.Ac)&&vD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class TD{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Yh(t)}Cc(t,n,s,o=!1){return new Fp({Ac:t,methodName:n,Dc:s,path:Ke.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tf(r){const t=r._freezeSettings(),n=Yh(r._databaseId);return new TD(r._databaseId,!!t.ignoreUndefinedProperties,n)}function bS(r,t,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,o);Gp("Data must be an object, but it was:",f,s);const m=wS(s,f);let p,y;if(u.merge)p=new An(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const w=Jm(t,T,n);if(!f.contains(w))throw new ut(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);CS(E,w)||E.push(w)}p=new An(E),y=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=f.fieldTransforms;return new ED(new fn(m),p,y)}class ef extends Hp{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ef}}function SD(r,t,n,s){const o=r.Cc(1,t,n);Gp("Data must be an object, but it was:",o,s);const u=[],f=fn.empty();us(s,((p,y)=>{const E=Qp(t,p,n);y=ze(y);const T=o.yc(E);if(y instanceof ef)u.push(E);else{const w=hu(y,T);w!=null&&(u.push(E),f.set(E,w))}}));const m=new An(u);return new SS(f,m,o.fieldTransforms)}function AD(r,t,n,s,o,u){const f=r.Cc(1,t,n),m=[Jm(t,s,n)],p=[o];if(u.length%2!=0)throw new ut(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(Jm(t,u[w])),p.push(u[w+1]);const y=[],E=fn.empty();for(let w=m.length-1;w>=0;--w)if(!CS(y,m[w])){const x=m[w];let F=p[w];F=ze(F);const Z=f.yc(x);if(F instanceof ef)y.push(x);else{const G=hu(F,Z);G!=null&&(y.push(x),E.set(x,G))}}const T=new An(y);return new SS(E,T,f.fieldTransforms)}function bD(r,t,n,s=!1){return hu(n,r.Cc(s?4:3,t))}function hu(r,t){if(RS(r=ze(r)))return Gp("Unsupported field value:",t,r),wS(r,t);if(r instanceof Hp)return(function(s,o){if(!AS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=hu(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=ze(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return h2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=re.fromDate(s);return{timestampValue:vh(o.serializer,u)}}if(s instanceof re){const u=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:vh(o.serializer,u)}}if(s instanceof Di)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:Q0(o.serializer,s._byteString)};if(s instanceof fe){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:wp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ni)return(function(f,m){return{mapValue:{fields:{[T0]:{stringValue:S0},[ph]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Tp(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${kh(s)}`)})(r,t)}function wS(r,t){const n={};return p0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):us(r,((s,o)=>{const u=hu(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function RS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof Di||r instanceof zn||r instanceof fe||r instanceof Hp||r instanceof Ni)}function Gp(r,t,n){if(!RS(n)||!d0(n)){const s=kh(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function Jm(r,t,n){if((t=ze(t))instanceof Wh)return t._internalPath;if(typeof t=="string")return Qp(r,t);throw bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const wD=new RegExp("[~\\*/\\[\\]]");function Qp(r,t,n){if(t.search(wD)>=0)throw bh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Wh(...t.split("."))._internalPath}catch{throw bh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function bh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ut(J.INVALID_ARGUMENT,m+r+p)}function CS(r,t){return r.some((n=>n.isEqual(t)))}class IS{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new RD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Kp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RD extends IS{data(){return super.data()}}function Kp(r,t){return typeof t=="string"?Qp(r,t):t instanceof Wh?t._internalPath:t._delegate._internalPath}function DS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yp{}class NS extends Yp{}function CD(r,t,...n){let s=[];t instanceof Yp&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof $p)).length,m=u.filter((p=>p instanceof Xp)).length;if(f>1||f>0&&m>0)throw new ut(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Xp extends NS{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Xp(t,n,s)}_apply(t){const n=this._parse(t);return OS(t._query,n),new hs(t.firestore,t.converter,jm(t._query,n))}_parse(t){const n=tf(t.firestore);return(function(u,f,m,p,y,E,T){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ut(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){eT(T,E);const F=[];for(const Z of T)F.push(tT(p,u,Z));w={arrayValue:{values:F}}}else w=tT(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||eT(T,E),w=bD(m,f,T,E==="in"||E==="not-in");return Ne.create(y,E,w)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class $p extends Yp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new $p(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ni.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)OS(f,p),f=jm(f,p)})(t._query,n),new hs(t.firestore,t.converter,jm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jp extends NS{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Jp(t,n)}_apply(t){const n=(function(o,u,f){if(o.startAt!==null)throw new ut(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ut(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $l(u,f)})(t._query,this._field,this._direction);return new hs(t.firestore,t.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new To(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,n))}}function WE(r,t="asc"){const n=t,s=Kp("orderBy",r);return Jp._create(s,n)}function tT(r,t,n){if(typeof(n=ze(n))=="string"){if(n==="")throw new ut(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!N0(t)&&n.indexOf("/")!==-1)throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ee.fromString(n));if(!pt.isDocumentKey(s))throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return pE(r,new pt(s))}if(n instanceof fe)return pE(r,n._key);throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kh(n)}.`)}function eT(r,t){if(!Array.isArray(r)||r.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function OS(r,t){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ut(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class ID{convertValue(t,n="none"){switch(as(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ss(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return us(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[ph].arrayValue?.values?.map((s=>ve(s.doubleValue)));return new Ni(n)}convertGeoPoint(t){return new Di(ve(t.latitude),ve(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Bh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Kl(t));default:return null}}convertTimestamp(t){const n=rs(t);return new re(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ee.fromString(t);Gt(Z0(s),9688,{name:t});const o=new Yl(s.get(1),s.get(3)),u=new pt(s.popFirst(5));return o.isEqual(n)||ar(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function MS(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class Ul{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ys extends IS{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Kp("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ys._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ys._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ys._jsonSchema={type:Oe("string",Ys._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class sh extends Ys{data(t={}){return super.data(t)}}class Xs{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ul(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new sh(this._firestore,this._userDataWriter,s.key,s,new Ul(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ut(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ul(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ul(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:DD(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Xs._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=pp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function DD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}function ND(r){r=dn(r,fe);const t=dn(r.firestore,lr);return mD(Zh(t),r._key).then((n=>xS(t,r,n)))}Xs._jsonSchemaVersion="firestore/querySnapshot/1.0",Xs._jsonSchema={type:Oe("string",Xs._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class Zp extends ID{constructor(t){super(),this.firestore=t}convertBytes(t){return new zn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new fe(this.firestore,null,n)}}function nT(r){r=dn(r,hs);const t=dn(r.firestore,lr),n=Zh(t),s=new Zp(t);return DS(r._query),pD(n,r._query).then((o=>new Xs(t,s,r,o)))}function OD(r,t,n){r=dn(r,fe);const s=dn(r.firestore,lr),o=MS(r.converter,t);return nf(s,[bS(tf(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,jn.none())])}function iT(r,t,n,...s){r=dn(r,fe);const o=dn(r.firestore,lr),u=tf(o);let f;return f=typeof(t=ze(t))=="string"||t instanceof Wh?AD(u,"updateDoc",r._key,t,n,s):SD(u,"updateDoc",r._key,t),nf(o,[f.toMutation(r._key,jn.exists(!0))])}function MD(r){return nf(dn(r.firestore,lr),[new Sp(r._key,jn.none())])}function Zm(r,t){const n=dn(r.firestore,lr),s=Za(r),o=MS(r.converter,t);return nf(n,[bS(tf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,jn.exists(!1))]).then((()=>s))}function VS(r,...t){r=ze(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||ZE(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(ZE(t[s])){const p=t[s];t[s]=p.next?.bind(p),t[s+1]=p.error?.bind(p),t[s+2]=p.complete?.bind(p)}let u,f,m;if(r instanceof fe)f=dn(r.firestore,lr),m=qh(r._key.path),u={next:p=>{t[s]&&t[s](xS(f,r,p))},error:t[s+1],complete:t[s+2]};else{const p=dn(r,hs);f=dn(p.firestore,lr),m=p._query;const y=new Zp(f);u={next:E=>{t[s]&&t[s](new Xs(f,y,p,E))},error:t[s+1],complete:t[s+2]},DS(r._query)}return(function(y,E,T,w){const x=new qp(w),F=new zp(E,x,T);return y.asyncQueue.enqueueAndForget((async()=>Lp(await Ah(y),F))),()=>{x.Nu(),y.asyncQueue.enqueueAndForget((async()=>Up(await Ah(y),F)))}})(Zh(f),m,o,u)}function nf(r,t){return(function(s,o){const u=new ir;return s.asyncQueue.enqueueAndForget((async()=>nD(await dD(s),o,u))),u.promise})(Zh(r),t)}function xS(r,t,n){const s=n.docs.get(t._key),o=new Zp(r);return new Ys(r,o,t._key,s,new Ul(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){_o=o})(yo),ro(new Js("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new lr(new AC(s.getProvider("auth-internal")),new RC(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ut(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Wr(nE,iE,t),Wr(nE,iE,"esm2020")})();var VD="firebase",xD="12.7.0";Wr(VD,xD,"app");function PS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PD=PS,LS=new ru("auth","Firebase",PS());const wh=new hp("@firebase/auth");function LD(r,...t){wh.logLevel<=Pt.WARN&&wh.warn(`Auth (${yo}): ${r}`,...t)}function ah(r,...t){wh.logLevel<=Pt.ERROR&&wh.error(`Auth (${yo}): ${r}`,...t)}function ii(r,...t){throw Wp(r,...t)}function Oi(r,...t){return Wp(r,...t)}function US(r,t,n){const s={...PD(),[t]:n};return new ru("auth","Firebase",s).create(t,{appName:r.name})}function ns(r){return US(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wp(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return LS.create(r,...t)}function vt(r,t,...n){if(!r)throw Wp(t,...n)}function tr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw ah(t),new Error(t)}function ur(r,t){r||tr(t)}function Wm(){return typeof self<"u"&&self.location?.href||""}function UD(){return rT()==="http:"||rT()==="https:"}function rT(){return typeof self<"u"&&self.location?.protocol||null}function kD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UD()||tR()||"connection"in navigator)?navigator.onLine:!0}function zD(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class fu{constructor(t,n){this.shortDelay=t,this.longDelay=n,ur(n>t,"Short delay should be less than long delay!"),this.isMobile=Jw()||eR()}get(){return kD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tg(r,t){ur(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class kS{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const BD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qD=new fu(3e4,6e4);function ia(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function fs(r,t,n,s,o={}){return zS(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=su({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:p,...u};return Ww()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&go(r.emulatorConfig.host)&&(y.credentials="include"),kS.fetch()(await jS(r,r.config.apiHost,n,m),y)})}async function zS(r,t,n){r._canInitEmulator=!1;const s={...jD,...t};try{const o=new FD(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw $c(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw $c(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw $c(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw $c(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw US(r,E,y);ii(r,E)}}catch(o){if(o instanceof hr)throw o;ii(r,"network-request-failed",{message:String(o)})}}async function rf(r,t,n,s,o={}){const u=await fs(r,t,n,s,o);return"mfaPendingCredential"in u&&ii(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function jS(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?tg(r.config,o):`${r.config.apiScheme}://${o}`;return BD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function HD(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Oi(this.auth,"network-request-failed")),qD.get())})}}function $c(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Oi(r,t,s);return o.customData._tokenResponse=n,o}function sT(r){return r!==void 0&&r.enterprise!==void 0}class GD{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return HD(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QD(r,t){return fs(r,"GET","/v2/recaptchaConfig",ia(r,t))}async function KD(r,t){return fs(r,"POST","/v1/accounts:delete",t)}async function Rh(r,t){return fs(r,"POST","/v1/accounts:lookup",t)}function Hl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function YD(r,t=!1){const n=ze(r),s=await n.getIdToken(t),o=eg(s);vt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Hl(wm(o.auth_time)),issuedAtTime:Hl(wm(o.iat)),expirationTime:Hl(wm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function wm(r){return Number(r)*1e3}function eg(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=QT(n);return o?JSON.parse(o):(ah("Failed to decode base64 JWT payload"),null)}catch(o){return ah("Caught error parsing JWT payload as JSON",o?.toString()),null}}function aT(r){const t=eg(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Wl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof hr&&XD(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function XD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class $D{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class tp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hl(this.lastLoginAt),this.creationTime=Hl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ch(r){const t=r.auth,n=await r.getIdToken(),s=await Wl(r,Rh(t,{idToken:n}));vt(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?BS(o.providerUserInfo):[],f=ZD(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new tp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function JD(r){const t=ze(r);await Ch(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ZD(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function BS(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function WD(r,t){const n=await zS(r,{},async()=>{const s=su({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await jS(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&go(r.emulatorConfig.host)&&(p.credentials="include"),kS.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tN(r,t){return fs(r,"POST","/v2/accounts:revokeToken",ia(r,t))}class eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):aT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const n=aT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await WD(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new eo;return s&&(vt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(vt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(vt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new eo,this.toJSON())}_performRefresh(){return tr("not implemented")}}function Gr(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ei{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new $D(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new tp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Wl(this,this.stsTokenManager.getToken(this.auth,t));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return YD(this,t)}reload(){return JD(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ei({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(ns(this.auth));const t=await this.getIdToken();return await Wl(this,KD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:x,providerData:F,stsTokenManager:Z}=n;vt(T&&Z,t,"internal-error");const G=eo.fromJSON(this.name,Z);vt(typeof T=="string",t,"internal-error"),Gr(s,t.name),Gr(o,t.name),vt(typeof w=="boolean",t,"internal-error"),vt(typeof x=="boolean",t,"internal-error"),Gr(u,t.name),Gr(f,t.name),Gr(m,t.name),Gr(p,t.name),Gr(y,t.name),Gr(E,t.name);const et=new ei({uid:T,auth:t,email:o,emailVerified:w,displayName:s,isAnonymous:x,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:G,createdAt:y,lastLoginAt:E});return F&&Array.isArray(F)&&(et.providerData=F.map(nt=>({...nt}))),p&&(et._redirectEventId=p),et}static async _fromIdTokenResponse(t,n,s=!1){const o=new eo;o.updateFromServerResponse(n);const u=new ei({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Ch(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];vt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?BS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new eo;m.updateFromIdToken(s);const p=new ei({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new tp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const oT=new Map;function er(r){ur(r instanceof Function,"Expected a class definition");let t=oT.get(r);return t?(ur(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,oT.set(r,t),t)}class qS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}qS.type="NONE";const lT=qS;function oh(r,t,n){return`firebase:${r}:${t}:${n}`}class no{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=oh(this.userKey,o.apiKey,u),this.fullPersistenceKey=oh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Rh(this.auth,{idToken:t}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,t):null}return ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new no(er(lT),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||er(lT);const f=oh(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let T;if(typeof E=="string"){const w=await Rh(t,{idToken:E}).catch(()=>{});if(!w)break;T=await ei._fromGetAccountInfoResponse(t,w,E)}else T=ei._fromJSON(t,E);y!==u&&(m=T),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new no(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new no(u,t,s))}}function uT(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(QS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(HS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(YS(t))return"Blackberry";if(XS(t))return"Webos";if(FS(t))return"Safari";if((t.includes("chrome/")||GS(t))&&!t.includes("edge/"))return"Chrome";if(KS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function HS(r=We()){return/firefox\//i.test(r)}function FS(r=We()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function GS(r=We()){return/crios\//i.test(r)}function QS(r=We()){return/iemobile/i.test(r)}function KS(r=We()){return/android/i.test(r)}function YS(r=We()){return/blackberry/i.test(r)}function XS(r=We()){return/webos/i.test(r)}function ng(r=We()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function eN(r=We()){return ng(r)&&!!window.navigator?.standalone}function nN(){return nR()&&document.documentMode===10}function $S(r=We()){return ng(r)||KS(r)||XS(r)||YS(r)||/windows phone/i.test(r)||QS(r)}function JS(r,t=[]){let n;switch(r){case"Browser":n=uT(We());break;case"Worker":n=`${uT(We())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${yo}/${s}`}class iN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function rN(r,t={}){return fs(r,"GET","/v2/passwordPolicy",ia(r,t))}const sN=6;class aN{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??sN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class oN{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cT(this),this.idTokenSubscription=new cT(this),this.beforeStateQueue=new iN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=er(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await no.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Rh(this,{idToken:t}),s=await ei._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ti(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Ch(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=zD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ti(this.app))return Promise.reject(ns(this));const n=t?ze(t):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ti(this.app)?Promise.reject(ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(er(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await rN(this),n=new aN(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ru("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await tN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&er(t)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[er(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=JS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&LD(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ao(r){return ze(r)}class cT{constructor(t){this.auth=t,this.observer=null,this.addObserver=cR(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let sf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lN(r){sf=r}function ZS(r){return sf.loadJS(r)}function uN(){return sf.recaptchaEnterpriseScript}function cN(){return sf.gapiScript}function hN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class fN{constructor(){this.enterprise=new dN}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class dN{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const mN="recaptcha-enterprise",WS="NO_RECAPTCHA";class pN{constructor(t){this.type=mN,this.auth=Ao(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{QD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new GD(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;sT(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(y=>{f(y)}).catch(()=>{f(WS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fN().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&sT(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=uN();p.length!==0&&(p+=m),ZS(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function hT(r,t,n,s=!1,o=!1){const u=new pN(r);let f;if(o)f=WS;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function fT(r,t,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await hT(r,t,n,n==="getOobCode");return s(r,u)}else return s(r,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await hT(r,t,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function gN(r,t){const n=dp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if($s(u,t??{}))return o;ii(o,"already-initialized")}return n.initialize({options:t})}function yN(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(er);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function _N(r,t,n){const s=Ao(r);vt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=tA(t),{host:f,port:m}=vN(t),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){vt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),vt($s(y,s.config.emulator)&&$s(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,go(f)?($T(`${u}//${f}${p}`),JT("Auth",!0)):EN()}function tA(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function vN(r){const t=tA(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:dT(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:dT(f)}}}function dT(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function EN(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class ig{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return tr("not implemented")}_getIdTokenResponse(t){return tr("not implemented")}_linkToIdToken(t,n){return tr("not implemented")}_getReauthenticationResolver(t){return tr("not implemented")}}async function TN(r,t){return fs(r,"POST","/v1/accounts:signUp",t)}async function SN(r,t){return rf(r,"POST","/v1/accounts:signInWithPassword",ia(r,t))}async function AN(r,t){return rf(r,"POST","/v1/accounts:signInWithEmailLink",ia(r,t))}async function bN(r,t){return rf(r,"POST","/v1/accounts:signInWithEmailLink",ia(r,t))}class tu extends ig{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new tu(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new tu(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fT(t,n,"signInWithPassword",SN);case"emailLink":return AN(t,{email:this._email,oobCode:this._password});default:ii(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fT(t,s,"signUpPassword",TN);case"emailLink":return bN(t,{idToken:n,email:this._email,oobCode:this._password});default:ii(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function io(r,t){return rf(r,"POST","/v1/accounts:signInWithIdp",ia(r,t))}const wN="http://localhost";class ta extends ig{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ta(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ii("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ta(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return io(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,io(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,io(t,n)}buildRequest(){const t={requestUri:wN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=su(n)}return t}}function RN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CN(r){const t=Ml(Vl(r)).link,n=t?Ml(Vl(t)).deep_link_id:null,s=Ml(Vl(r)).deep_link_id;return(s?Ml(Vl(s)).link:null)||s||n||t||r}class rg{constructor(t){const n=Ml(Vl(t)),s=n.apiKey??null,o=n.oobCode??null,u=RN(n.mode??null);vt(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=CN(t);try{return new rg(n)}catch{return null}}}class bo{constructor(){this.providerId=bo.PROVIDER_ID}static credential(t,n){return tu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=rg.parseLink(n);return vt(s,"argument-error"),tu._fromEmailAndCode(t,s.code,s.tenantId)}}bo.PROVIDER_ID="password";bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class eA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class du extends eA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Qr extends du{constructor(){super("facebook.com")}static credential(t){return ta._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qr.credential(t.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";class Kr extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ta._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Kr.credentialFromTaggedObject(t)}static credentialFromError(t){return Kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Kr.credential(n,s)}catch{return null}}}Kr.GOOGLE_SIGN_IN_METHOD="google.com";Kr.PROVIDER_ID="google.com";class Yr extends du{constructor(){super("github.com")}static credential(t){return ta._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Yr.credentialFromTaggedObject(t)}static credentialFromError(t){return Yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Yr.credential(t.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";class Xr extends du{constructor(){super("twitter.com")}static credential(t,n){return ta._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Xr.credentialFromTaggedObject(t)}static credentialFromError(t){return Xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Xr.credential(n,s)}catch{return null}}}Xr.TWITTER_SIGN_IN_METHOD="twitter.com";Xr.PROVIDER_ID="twitter.com";class ho{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await ei._fromIdTokenResponse(t,s,o),f=mT(s);return new ho({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=mT(s);return new ho({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function mT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Ih extends hr{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Ih(t,n,s,o)}}function nA(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(r,u,t,s):u})}async function IN(r,t,n=!1){const s=await Wl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return ho._forOperation(r,"link",s)}async function DN(r,t,n=!1){const{auth:s}=r;if(ti(s.app))return Promise.reject(ns(s));const o="reauthenticate";try{const u=await Wl(r,nA(s,o,t,r),n);vt(u.idToken,s,"internal-error");const f=eg(u.idToken);vt(f,s,"internal-error");const{sub:m}=f;return vt(r.uid===m,s,"user-mismatch"),ho._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ii(s,"user-mismatch"),u}}async function iA(r,t,n=!1){if(ti(r.app))return Promise.reject(ns(r));const s="signIn",o=await nA(r,s,t),u=await ho._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function NN(r,t){return iA(Ao(r),t)}async function ON(r){const t=Ao(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function MN(r,t,n){return ti(r.app)?Promise.reject(ns(r)):NN(ze(r),bo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ON(r),s})}function VN(r,t,n,s){return ze(r).onIdTokenChanged(t,n,s)}function xN(r,t,n){return ze(r).beforeAuthStateChanged(t,n)}function PN(r,t,n,s){return ze(r).onAuthStateChanged(t,n,s)}const Dh="__sak";class rA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const LN=1e3,UN=10;class sA extends rA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$S(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);nN()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,UN):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},LN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}sA.type="LOCAL";const kN=sA;class aA extends rA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}aA.type="SESSION";const oA=aA;function zN(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class af{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new af(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await zN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}af.receivers=[];function sg(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class jN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=sg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Mi(){return window}function BN(r){Mi().location.href=r}function lA(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function qN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HN(){return navigator?.serviceWorker?.controller||null}function FN(){return lA()?self:null}const uA="firebaseLocalStorageDb",GN=1,Nh="firebaseLocalStorage",cA="fbase_key";class mu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function of(r,t){return r.transaction([Nh],t?"readwrite":"readonly").objectStore(Nh)}function QN(){const r=indexedDB.deleteDatabase(uA);return new mu(r).toPromise()}function ep(){const r=indexedDB.open(uA,GN);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Nh,{keyPath:cA})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Nh)?t(s):(s.close(),await QN(),t(await ep()))})})}async function pT(r,t,n){const s=of(r,!0).put({[cA]:t,value:n});return new mu(s).toPromise()}async function KN(r,t){const n=of(r,!1).get(t),s=await new mu(n).toPromise();return s===void 0?null:s.value}function gT(r,t){const n=of(r,!0).delete(t);return new mu(n).toPromise()}const YN=800,XN=3;class hA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ep(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>XN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=af._getInstance(FN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await qN(),!this.activeServiceWorker)return;this.sender=new jN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||HN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ep();return await pT(t,Dh,"1"),await gT(t,Dh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>pT(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>KN(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>gT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=of(o,!1).getAll();return new mu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hA.type="LOCAL";const $N=hA;new fu(3e4,6e4);function JN(r,t){return t?er(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class ag extends ig{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return io(t,this._buildIdpRequest())}_linkToIdToken(t,n){return io(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return io(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function ZN(r){return iA(r.auth,new ag(r),r.bypassAuthState)}function WN(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),DN(n,new ag(r),r.bypassAuthState)}async function tO(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),IN(n,new ag(r),r.bypassAuthState)}class fA{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ZN;case"linkViaPopup":case"linkViaRedirect":return tO;case"reauthViaPopup":case"reauthViaRedirect":return WN;default:ii(this.auth,"internal-error")}}resolve(t){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const eO=new fu(2e3,1e4);class Wa extends fA{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){ur(this.filter.length===1,"Popup operations only handle one event");const t=sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,eO.get())};t()}}Wa.currentPopupAction=null;const nO="pendingRedirect",lh=new Map;class iO extends fA{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=lh.get(this.auth._key());if(!t){try{const s=await rO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}lh.set(this.auth._key(),t)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rO(r,t){const n=oO(t),s=aO(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function sO(r,t){lh.set(r._key(),t)}function aO(r){return er(r._redirectPersistence)}function oO(r){return oh(nO,r.config.apiKey,r.name)}async function lO(r,t,n=!1){if(ti(r.app))return Promise.reject(ns(r));const s=Ao(r),o=JN(s,t),f=await new iO(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}const uO=600*1e3;class cO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!hO(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!dA(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Oi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=uO&&this.cachedEventUids.clear(),this.cachedEventUids.has(yT(t))}saveEventToCache(t){this.cachedEventUids.add(yT(t)),this.lastProcessedEventTime=Date.now()}}function yT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function dA({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function hO(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dA(r);default:return!1}}async function fO(r,t={}){return fs(r,"GET","/v1/projects",t)}const dO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mO=/^https?/;async function pO(r){if(r.config.emulator)return;const{authorizedDomains:t}=await fO(r);for(const n of t)try{if(gO(n))return}catch{}ii(r,"unauthorized-domain")}function gO(r){const t=Wm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!mO.test(n))return!1;if(dO.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const yO=new fu(3e4,6e4);function _T(){const r=Mi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function _O(r){return new Promise((t,n)=>{function s(){_T(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{_T(),n(Oi(r,"network-request-failed"))},timeout:yO.get()})}if(Mi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Mi().gapi?.load)s();else{const o=hN("iframefcb");return Mi()[o]=()=>{gapi.load?s():n(Oi(r,"network-request-failed"))},ZS(`${cN()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw uh=null,t})}let uh=null;function vO(r){return uh=uh||_O(r),uh}const EO=new fu(5e3,15e3),TO="__/auth/iframe",SO="emulator/auth/iframe",AO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wO(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?tg(t,SO):`https://${r.config.authDomain}/${TO}`,s={apiKey:t.apiKey,appName:r.name,v:yo},o=bO.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${su(s).slice(1)}`}async function RO(r){const t=await vO(r),n=Mi().gapi;return vt(n,r,"internal-error"),t.open({where:document.body,url:wO(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Oi(r,"network-request-failed"),m=Mi().setTimeout(()=>{u(f)},EO.get());function p(){Mi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const CO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IO=500,DO=600,NO="_blank",OO="http://localhost";class vT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MO(r,t,n,s=IO,o=DO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...CO,width:s.toString(),height:o.toString(),top:u,left:f},y=We().toLowerCase();n&&(m=GS(y)?NO:n),HS(y)&&(t=t||OO,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[x,F])=>`${w}${x}=${F},`,"");if(eN(y)&&m!=="_self")return VO(t||"",m),new vT(null);const T=window.open(t||"",m,E);vt(T,r,"popup-blocked");try{T.focus()}catch{}return new vT(T)}function VO(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const xO="__/auth/handler",PO="emulator/auth/handler",LO=encodeURIComponent("fac");async function ET(r,t,n,s,o,u){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:yo,eventId:o};if(t instanceof eA){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",uR(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(t instanceof du){const E=t.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${LO}=${encodeURIComponent(p)}`:"";return`${UO(r)}?${su(m).slice(1)}${y}`}function UO({config:r}){return r.emulator?tg(r,PO):`https://${r.authDomain}/${xO}`}const Rm="webStorageSupport";class kO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oA,this._completeRedirectFn=lO,this._overrideRedirectResult=sO}async _openPopup(t,n,s,o){ur(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await ET(t,n,s,Wm(),o);return MO(t,u,sg())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await ET(t,n,s,Wm(),o);return BN(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ur(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await RO(t),s=new cO(t);return n.register("authEvent",o=>(vt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Rm,{type:Rm},o=>{const u=o?.[0]?.[Rm];u!==void 0&&n(!!u),ii(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pO(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return $S()||FS()||ng()}}const zO=kO;var TT="@firebase/auth",ST="1.12.0";class jO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function BO(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qO(r){ro(new Js("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;vt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JS(r)},y=new oN(s,o,u,p);return yN(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),ro(new Js("auth-internal",t=>{const n=Ao(t.getProvider("auth").getImmediate());return(s=>new jO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(TT,ST,BO(r)),Wr(TT,ST,"esm2020")}const HO=300,FO=XT("authIdTokenMaxAge")||HO;let AT=null;const GO=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>FO)return;const o=n?.token;AT!==o&&(AT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function QO(r=e0()){const t=dp(r,"auth");if(t.isInitialized())return t.getImmediate();const n=gN(r,{popupRedirectResolver:zO,persistence:[$N,kN,oA]}),s=XT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=GO(u.toString());xN(n,f,()=>f(n.currentUser)),VN(n,m=>f(m))}}const o=KT("auth");return o&&_N(n,`http://${o}`),n}function KO(){return document.getElementsByTagName("head")?.[0]??document}lN({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Oi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",KO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qO("Browser");const YO={apiKey:"AIzaSyAbUXBuqMXnaTZKBVQ-NO6KvZ0rKFwpBhA",authDomain:"fabim-barber.firebaseapp.com",projectId:"fabim-barber",storageBucket:"fabim-barber.firebasestorage.app",messagingSenderId:"769232328010",appId:"1:769232328010:web:897f7b36deeb0d98001db3"},mA=t0(YO),kn=yD(mA),pA=QO(mA),gA=B.createContext();function yA({children:r}){const[t,n]=B.useState(null),[s,o]=B.useState(!0);return B.useEffect(()=>{const u=PN(pA,f=>{n(f),o(!1)});return()=>u()},[]),K.jsx(gA.Provider,{value:{user:t,loading:s},children:r})}function XO(){return B.useContext(gA)}const eu={cabelo:{nome:"Cabelo",duracao:50,preco:25},barba:{nome:"Barba",duracao:20,preco:15},sobrancelha:{nome:"Sobrancelha",duracao:10,preco:15},peDoCabelo:{nome:"P do Cabelo",duracao:10,preco:10}};function $O({onSubmit:r,gerarHorarios:t}){const[n,s]=B.useState(""),[o,u]=B.useState(""),[f,m]=B.useState(null),[p,y]=B.useState([]),[E,T]=B.useState(""),[w,x]=B.useState(""),[F,Z]=B.useState(!1);function G(R){y(b=>b.includes(R)?b.filter(C=>C!==R):[...b,R])}const et=B.useMemo(()=>p.reduce((R,b)=>R+(eu[b]?.duracao||0),0),[p]),nt=B.useMemo(()=>!o||et===0?[]:t(o,et),[o,et,t]),ot=nt.filter(R=>R.inicioMinutos<720),Rt=nt.filter(R=>R.inicioMinutos>=840);async function _t(R){if(R.preventDefault(),T(""),x(""),!n||!o||!f||p.length===0){T("Preencha todos os campos.");return}Z(!0);const b=await r({nome:n,data:o,servicos:p,inicio:f.inicio,fim:f.fim,inicioMinutos:f.inicioMinutos,fimMinutos:f.fimMinutos,status:"ativo"});if(Z(!1),b===!1){T("Esse horrio no comporta os servios selecionados.");return}s(""),u(""),m(null),y([]),x("Agendamento realizado com sucesso!"),setTimeout(()=>x(""),3e3)}function Tt(R,b){return b.length===0?null:K.jsxs(K.Fragment,{children:[K.jsx("h3",{className:"periodo-titulo",children:R}),K.jsx("div",{className:"horarios-grid",children:b.map(C=>K.jsxs("button",{type:"button",className:`horario-btn ${f?.inicioMinutos===C.inicioMinutos?"ativo":""}`,onClick:()=>m(C),children:[K.jsx("span",{children:C.inicio}),K.jsxs("small",{children:["at ",C.fim]})]},C.inicioMinutos))})]})}return K.jsx("div",{className:"form-container",children:K.jsxs("form",{onSubmit:_t,className:"form-box",children:[K.jsx("h2",{children:"Agendar horrio"}),E&&K.jsx("p",{className:"form-erro",children:E}),w&&K.jsx("p",{className:"form-sucesso",children:w}),K.jsx("input",{type:"text",placeholder:"Nome",value:n,onChange:R=>s(R.target.value),required:!0}),K.jsx("input",{type:"date",value:o,onChange:R=>{u(R.target.value),m(null)},required:!0}),K.jsxs("div",{className:"servicos-box",children:[K.jsx("p",{children:"Selecione os servios:"}),Object.entries(eu).map(([R,b])=>K.jsxs("label",{className:`servico-item ${p.includes(R)?"checked":""}`,children:[K.jsxs("span",{children:[b.nome," (",b.duracao," min)"]}),K.jsx("input",{type:"checkbox",checked:p.includes(R),onChange:()=>G(R)})]},R))]}),K.jsxs("div",{className:"horarios-box",children:[K.jsx("p",{children:"Horrios disponveis:"}),!o||et===0?K.jsx("p",{className:"horario-info",children:"Selecione data e servios"}):nt.length===0?K.jsx("p",{className:"horario-info",children:"Nenhum horrio disponvel"}):K.jsxs(K.Fragment,{children:[Tt("Manh",ot),Tt("Tarde",Rt)]})]}),K.jsx("button",{type:"submit",disabled:F,children:F?"Salvando...":"Agendar"})]})})}function JO({lista:r=[]}){function t(){const u=new Date;return u.setHours(0,0,0,0),[{label:"Hoje",data:u.toISOString().split("T")[0]},{label:"Amanh",data:new Date(u.getTime()+864e5).toISOString().split("T")[0]},{label:"Depois de amanh",data:new Date(u.getTime()+2*864e5).toISOString().split("T")[0]}]}const n=t();function s(u){return r.filter(f=>f.data===u&&(f.status==="ativo"||f.status==="bloqueado")).filter(f=>f.inicioMinutos!==void 0).sort((f,m)=>f.inicioMinutos-m.inicioMinutos)}const o=n.some(u=>s(u.data).length>0);return K.jsxs("div",{className:"banner",children:[K.jsx("p",{children:"Prximos horrios"}),o?n.map(u=>{const f=s(u.data);return K.jsxs("div",{className:"bloco-dia",children:[K.jsx("h3",{className:"titulo-dia",children:u.label}),f.length===0?K.jsx("p",{className:"dia-vazio",children:"Sem horrios"}):K.jsx("ul",{className:"lista",children:f.map(m=>{const p=(m.servicos||[]).map(y=>eu[y]?.nome).filter(Boolean).join("  ");return K.jsxs("li",{className:"item",children:[K.jsxs("div",{className:"info",children:[K.jsx("span",{className:"nome",children:m.nome}),p&&K.jsx("span",{className:"servicos",children:p})]}),K.jsxs("span",{className:"hora",children:[m.inicio," - ",m.fim]})]},m.id)})})]},u.data)}):K.jsx("p",{className:"banner-vazio",children:"Nenhum horrio agendado para os prximos dias."})]})}var _A={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},bT=Ks.createContext&&Ks.createContext(_A),ZO=["attr","size","title"];function WO(r,t){if(r==null)return{};var n=t4(r,t),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)s=u[o],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function t4(r,t){if(r==null)return{};var n={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}function Oh(){return Oh=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Oh.apply(this,arguments)}function wT(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,s)}return n}function Mh(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(n),!0).forEach(function(s){e4(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):wT(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function e4(r,t,n){return t=n4(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function n4(r){var t=i4(r,"string");return typeof t=="symbol"?t:t+""}function i4(r,t){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function vA(r){return r&&r.map((t,n)=>Ks.createElement(t.tag,Mh({key:n},t.attr),vA(t.child)))}function og(r){return t=>Ks.createElement(r4,Oh({attr:Mh({},r.attr)},t),vA(r.child))}function r4(r){var t=n=>{var{attr:s,size:o,title:u}=r,f=WO(r,ZO),m=o||n.size||"1em",p;return n.className&&(p=n.className),r.className&&(p=(p?p+" ":"")+r.className),Ks.createElement("svg",Oh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:p,style:Mh(Mh({color:r.color||n.color},n.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Ks.createElement("title",null,u),r.children)};return bT!==void 0?Ks.createElement(bT.Consumer,null,n=>t(n)):t(_A)}function s4(r){return og({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(r)}function a4(r){return og({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(r)}function o4(r){return og({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(r)}function l4(){return K.jsxs("footer",{className:"footer",children:[K.jsxs("div",{className:"footer-left",children:[" ",new Date().getFullYear()," Fbim Barber"]}),K.jsxs("div",{className:"footer-links",children:[K.jsx("a",{href:"https://wa.me/5584987411833",target:"_blank",rel:"noreferrer","aria-label":"WhatsApp",children:K.jsx(a4,{})}),K.jsx("a",{href:"https://www.instagram.com/fabim_barbearia?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==",target:"_blank",rel:"noreferrer","aria-label":"Instagram",children:K.jsx(s4,{})}),K.jsx(cp,{to:"/admin","aria-label":"Painel Admin",className:"footer-admin",children:K.jsx(o4,{})})]})]})}function u4(){return K.jsx("header",{className:"header-bar",children:K.jsx("h1",{className:"header-title",children:"Fabim Barbearia"})})}function c4(r){const[t,n]=r.split(":").map(Number);return t*60+n}function Vh(r){const t=Math.floor(r/60),n=r%60;return`${String(t).padStart(2,"0")}:${String(n).padStart(2,"0")}`}function h4(){const[r,t]=B.useState([]),[n,s]=B.useState(!1),[o,u]=B.useState(!1),[f,m]=B.useState(""),[p,y]=B.useState(""),[E,T]=B.useState({tipo:"",mensagem:""}),[w,x]=B.useState(!1),[F,Z]=B.useState(""),[G,et]=B.useState(null);function nt(st,I){Z(st),et(()=>I),x(!0)}function ot(){G&&G(),x(!1)}function Rt(){x(!1)}function _t(st,I){T({tipo:st,mensagem:I}),setTimeout(()=>{T({tipo:"",mensagem:""})},2500)}function Tt(st){const I=new Date;return I.setHours(0,0,0,0),new Date(st+"T00:00:00")<I}B.useEffect(()=>{const st=CD(Gs(kn,"agendamentos"),WE("data"),WE("inicioMinutos")),I=VS(st,Q=>{const rt=Q.docs.map(it=>({id:it.id,...it.data()}));t(rt)});return()=>I()},[]),B.useEffect(()=>{async function st(){const I=await ND(Za(kn,"configuracoes","geral"));I.exists()&&u(I.data().segundaOff||!1)}st()},[]);async function R(){const st=!o;u(st),await OD(Za(kn,"configuracoes","geral"),{segundaOff:st,merge:!0}),st?(await b(),_t("info","Segundas bloqueadas automaticamente")):(await C(),_t("info","Segundas reativadas"))}async function b(){const st=new Date;st.setHours(0,0,0,0);for(let I=0;I<180;I++){const Q=new Date(st);if(Q.setDate(st.getDate()+I),Q.getDay()===1){const rt=Q.toISOString().split("T")[0];await Zm(Gs(kn,"agendamentos"),{nome:"SEGUNDA OFF",data:rt,inicio:"00:00",fim:"23:59",inicioMinutos:0,fimMinutos:1440,status:"bloqueado",automatico:!0})}}}async function C(){(await nT(Gs(kn,"agendamentos"))).forEach(async I=>{const Q=I.data();Q.automatico===!0&&Q.nome==="SEGUNDA OFF"&&await MD(Za(kn,"agendamentos",I.id))})}async function V(st,I){await iT(Za(kn,"agendamentos",st),{status:I}),_t("success",`Status alterado para ${I}`)}async function M(){const st=new Date;st.setHours(0,0,0,0),(await nT(Gs(kn,"agendamentos"))).forEach(async Q=>{const rt=Q.data().data,it=Q.data().status;if(!rt||it==="finalizado")return;new Date(rt+"T00:00:00")<st&&await iT(Za(kn,"agendamentos",Q.id),{status:"finalizado"})}),_t("success","Dias passados finalizados")}async function L(){if(!f||!p){_t("error","Selecione data e horrio");return}const st=c4(p),I=st+60;await Zm(Gs(kn,"agendamentos"),{nome:"HORRIO BLOQUEADO",data:f,inicio:p,fim:Vh(I),inicioMinutos:st,fimMinutos:I,status:"bloqueado"}),_t("success",`Horrio bloqueado das ${p} at ${Vh(I)}`),m(""),y("")}const Wt=r.filter(st=>!(!n&&Tt(st.data))).reduce((st,I)=>(st[I.data]||(st[I.data]=[]),st[I.data].push(I),st),{});function de(){const st=new Date,I=st.getMonth(),Q=st.getFullYear();let rt=0;return r.forEach(it=>{if(it.status!=="finalizado")return;const gt=new Date(it.data+"T00:00:00");if(gt.getMonth()===I&&gt.getFullYear()===Q){const St=(it.servicos||[]).reduce((Mt,me)=>Mt+(eu[me]?.preco||0),0);rt+=St}}),rt}const Y=de(),lt=r.filter(st=>{const I=new Date().toISOString().split("T")[0];return st.data===I&&st.status==="ativo"}).length,dt=r.filter(st=>st.status==="ativo").length,kt=r.filter(st=>st.status==="cancelado").length;return K.jsxs("div",{className:"admin-container",children:[E.mensagem&&K.jsx("div",{className:`admin-feedback ${E.tipo}`,children:E.mensagem}),K.jsx("h1",{className:"admin-title",children:"Painel de Administrao"}),K.jsxs("div",{className:"dashboard-cards",children:[K.jsxs("div",{className:"card",children:[K.jsx("h3",{children:"Agendamentos Hoje"}),K.jsx("strong",{children:lt})]}),K.jsxs("div",{className:"card",children:[K.jsx("h3",{children:"Agendamentos Ativos"}),K.jsx("strong",{children:dt})]}),K.jsxs("div",{className:"card",children:[K.jsx("h3",{children:"Cancelados"}),K.jsx("strong",{children:kt})]}),K.jsxs("div",{className:"card",children:[K.jsx("h3",{children:"Faturamento do Ms"}),K.jsxs("strong",{children:["R$ ",Y.toFixed(2)]})]})]}),K.jsxs("div",{className:"admin-top-controls",children:[K.jsxs("label",{className:"admin-checkbox",children:[K.jsx("input",{type:"checkbox",checked:n,onChange:st=>s(st.target.checked)}),"Mostrar dias passados"]}),K.jsxs("div",{className:"segunda-control",children:[K.jsx("span",{children:"Segunda-feira:"}),K.jsx("button",{className:`admin-btn ${o?"cancel":"finish"}`,onClick:()=>nt("Tem certeza que deseja desativar a segunda-feira?",R),children:o?"OFF (Fechado)":"ON (Aberto)"})]}),K.jsx("button",{className:"admin-clean-btn",onClick:()=>nt("Tem certeza que deseja finalizar os dias passados?",M),children:"Finalizar dias passados"})]}),K.jsx("p",{className:"bloq-manual",children:"Bloqueio Manual de Horrio"}),K.jsxs("div",{className:"admin-bloqueio",children:[K.jsx("input",{type:"date",value:f,onChange:st=>m(st.target.value),className:"admin-input"}),K.jsx("input",{type:"time",value:p,onChange:st=>y(st.target.value),className:"admin-input"}),K.jsx("button",{className:"admin-btn bloquear",onClick:()=>nt("Tem certeza que deseja bloquear este horrio?",L),children:"Bloquear 1 hora"})]}),Object.keys(Wt).length===0&&K.jsx("p",{className:"admin-empty",children:"Nenhum agendamento encontrado."}),Object.entries(Wt).map(([st,I])=>{const rt=new Date(st+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long"});return K.jsxs("div",{className:"admin-dia",children:[K.jsxs("h2",{className:"admin-data",children:[st,"  ",rt]}),I.map(it=>{const gt=(it.servicos||[]).map(St=>eu[St]?.nome).filter(Boolean).join("  ");return K.jsxs("div",{className:`admin-item status-${it.status}`,children:[K.jsxs("div",{className:"admin-info",children:[K.jsx("strong",{children:it.nome}),K.jsxs("span",{className:"admin-horario",children:[it.inicio," - ",it.fim]}),gt&&K.jsx("span",{className:"admin-servicos",children:gt}),K.jsx("span",{className:`status-badge ${it.status}`,children:it.status})]}),K.jsxs("div",{className:"admin-actions",children:[it.status==="ativo"&&K.jsxs(K.Fragment,{children:[K.jsx("button",{className:"admin-btn cancel",onClick:()=>nt("Tem certeza que deseja cancelar este agendamento?",()=>V(it.id,"cancelado")),children:"Cancelar"}),K.jsx("button",{className:"admin-btn finish",onClick:()=>nt("Tem certeza que deseja finalizar este agendamento?",()=>V(it.id,"finalizado")),children:"Finalizar"})]}),it.status==="cancelado"&&K.jsx("button",{className:"admin-btn reativar",onClick:()=>nt("Tem certeza que deseja reativar este agendamento?",()=>V(it.id,"ativo")),children:"Reativar"})]})]},it.id)})]},st)}),K.jsxs("div",{className:"faturamento-box",children:[K.jsx("h2",{children:"Faturamento Mensal Atual"}),K.jsxs("strong",{children:["R$ ",Y.toFixed(2)]})]}),w&&K.jsx("div",{className:"admin-modal-overlay",children:K.jsxs("div",{className:"admin-modal",children:[K.jsx("h3",{children:"Confirmar ao"}),K.jsx("p",{children:F}),K.jsxs("div",{className:"admin-modal-actions",children:[K.jsx("button",{className:"admin-btn cancel",onClick:Rt,children:"Cancelar"}),K.jsx("button",{className:"admin-btn finish",onClick:ot,children:"Confirmar"})]})]})})]})}function f4(){const[r,t]=B.useState(""),[n,s]=B.useState(""),o=Ph();async function u(f){f.preventDefault();try{await MN(pA,r,n),o("/admin")}catch{alert("Email ou senha invlidos")}}return K.jsx("div",{className:"login-container",children:K.jsxs("div",{className:"login-box",children:[K.jsx("h1",{className:"login-title",children:"Login Admin"}),K.jsxs("form",{className:"login-form",onSubmit:u,children:[K.jsx("input",{className:"login-input",type:"email",placeholder:"Email",value:r,onChange:f=>t(f.target.value),required:!0}),K.jsx("input",{className:"login-input",type:"password",placeholder:"Senha",value:n,onChange:f=>s(f.target.value),required:!0}),K.jsx("button",{className:"login-btn",type:"submit",children:"Entrar"})]})]})})}function d4({children:r}){const{user:t,loading:n}=XO();return n?null:t?r:K.jsx(nw,{to:"/login",replace:!0})}const m4=480,p4=1200,g4=720,y4=840;function _4(r){return new Date(r+"T00:00:00").getDay()===0}function v4(r){return new Date(r+"T00:00:00").getDay()===1}function E4({data:r,duracao:t,agendamentos:n,segundaFechada:s=!1}){if(!r||!t)return[];if(s&&v4(r))return[];const o=_4(r),u=m4,f=o?720:p4,m=[];for(let p=u;p+t<=f;p+=10){const y=p+t;if(p<y4&&y>g4)continue;if(!n.some(T=>p<T.fimMinutos&&y>T.inicioMinutos)){let T=1/0;n.forEach(w=>{const x=Math.abs(p-w.fimMinutos),F=Math.abs(w.inicioMinutos-y);x>=0&&x<T&&(T=x),F>=0&&F<T&&(T=F)}),m.push({inicioMinutos:p,fimMinutos:y,inicio:Vh(p),fim:Vh(y),prioridade:T})}}return m.sort((p,y)=>p.prioridade-y.prioridade),m}function T4(){const r=Ph(),t=cr();return B.useEffect(()=>{const s=new URLSearchParams(t.search).get("redirect");s&&r(s,{replace:!0})},[r,t]),null}function S4(){const[r,t]=B.useState([]);B.useEffect(()=>{const o=VS(Gs(kn,"agendamentos"),u=>{const f=u.docs.map(m=>({id:m.id,...m.data()}));t(f)});return()=>o()},[]);const n=B.useCallback((o,u)=>{const f=r.filter(m=>m.data===o&&(m.status==="ativo"||m.status==="bloqueado"));return E4({data:o,duracao:u,agendamentos:f,segundaFechada:!1})},[r]);async function s(o){return r.some(f=>f.data===o.data&&f.status!=="cancelado"&&!(o.fimMinutos<=f.inicioMinutos||o.inicioMinutos>=f.fimMinutos))?!1:(await Zm(Gs(kn,"agendamentos"),{...o,status:"ativo"}),!0)}return K.jsx(yA,{children:K.jsxs(Iw,{basename:"/fabimBarber",children:[K.jsx(T4,{}),K.jsxs(rw,{children:[K.jsx(Jc,{path:"/",element:K.jsxs(K.Fragment,{children:[K.jsx(u4,{}),K.jsx(JO,{lista:r}),K.jsx($O,{onSubmit:s,gerarHorarios:n}),K.jsx(l4,{})]})}),K.jsx(Jc,{path:"/login",element:K.jsx(f4,{})}),K.jsx(Jc,{path:"/admin",element:K.jsx(d4,{children:K.jsx(h4,{})})})]})]})})}ab.createRoot(document.getElementById("root")).render(K.jsx(B.StrictMode,{children:K.jsx(yA,{children:K.jsx(S4,{})})}));
